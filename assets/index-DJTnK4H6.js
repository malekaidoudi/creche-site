const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ui-CjTPToAq.js","assets/vendor-pRwqyV2Z.js"])))=>i.map(i=>d[i]);
import{r as C,b as ra,d as aa,a as Oe}from"./vendor-pRwqyV2Z.js";import{u as bt,L as M,O as Zs,a as na,b as Xs,N as zt,R as ia,c as B,B as la}from"./router-Ce8UmghJ.js";import{b as oa,c as $,u as He}from"./forms-eJmIZevE.js";import{z as R,G as ca,X as rs,M as da,a as Bt,P as Je,b as yt,C as je,H as Ys,B as Ne,U as _e,c as de,F as Qe,N as er,I as tr,d as te,e as Gt,S as sr,f as ms,g as Ve,h as ct,i as hs,j as se,k as we,A as Ke,l as rr,m as vt,n as ar,E as le,o as fe,p as as,L as ns,q as dt,r as xs,s as ua,t as nr,u as ma,v as ha,V as xa,w as pa,x as fa,y as ut,D as ps,J as fs,K as ir,T as mt,O as jt,Q as Nt,R as Pe,W as Be,Y as Ot,Z as Ft,_ as Ht,$ as Qt,a0 as gs,a1 as lr,a2 as ga,a3 as ba,a4 as We,a5 as ya,a6 as va,a7 as ja,a8 as bs,a9 as Na,aa as wa,ab as Ca,ac as Sa}from"./ui-CjTPToAq.js";import{u as U,i as Aa,B as Ea,a as _a,b as Pa}from"./i18n-GrrxpXoM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();var or={exports:{}},wt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=C,Ta=Symbol.for("react.element"),ka=Symbol.for("react.fragment"),Oa=Object.prototype.hasOwnProperty,Fa=Ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,La={key:!0,ref:!0,__self:!0,__source:!0};function cr(s,t,a){var r,n={},i=null,l=null;a!==void 0&&(i=""+a),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Oa.call(t,r)&&!La.hasOwnProperty(r)&&(n[r]=t[r]);if(s&&s.defaultProps)for(r in t=s.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:Ta,type:s,key:i,ref:l,props:n,_owner:Fa.current}}wt.Fragment=ka;wt.jsx=cr;wt.jsxs=cr;or.exports=wt;var e=or.exports,Vt={},ys=ra;Vt.createRoot=ys.createRoot,Vt.hydrateRoot=ys.hydrateRoot;function Ct(s,t){s.prototype=Object.create(t.prototype),s.prototype.constructor=s,oa(s,t)}var St=function(){function s(){this.listeners=[]}var t=s.prototype;return t.subscribe=function(r){var n=this,i=r||function(){};return this.listeners.push(i),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(l){return l!==i}),n.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},s}(),dr=typeof window>"u";function Y(){}function Da(s,t){return typeof s=="function"?s(t):s}function Ia(s){return typeof s=="number"&&s>=0&&s!==1/0}function ht(s){return Array.isArray(s)?s:[s]}function Ma(s,t){return Math.max(s+(t||0)-Date.now(),0)}function Lt(s,t,a){return At(s)?typeof t=="function"?$({},a,{queryKey:s,queryFn:t}):$({},t,{queryKey:s}):s}function ve(s,t,a){return At(s)?[$({},t,{queryKey:s}),a]:[s||{},t]}function $a(s,t){if(s===!0&&t===!0||s==null&&t==null)return"all";if(s===!1&&t===!1)return"none";var a=s??!t;return a?"active":"inactive"}function vs(s,t){var a=s.active,r=s.exact,n=s.fetching,i=s.inactive,l=s.predicate,o=s.queryKey,c=s.stale;if(At(o)){if(r){if(t.queryHash!==is(o,t.options))return!1}else if(!xt(t.queryKey,o))return!1}var m=$a(a,i);if(m==="none")return!1;if(m!=="all"){var d=t.isActive();if(m==="active"&&!d||m==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof n=="boolean"&&t.isFetching()!==n||l&&!l(t))}function js(s,t){var a=s.exact,r=s.fetching,n=s.predicate,i=s.mutationKey;if(At(i)){if(!t.options.mutationKey)return!1;if(a){if(Ae(t.options.mutationKey)!==Ae(i))return!1}else if(!xt(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||n&&!n(t))}function is(s,t){var a=(t==null?void 0:t.queryKeyHashFn)||Ae;return a(s)}function Ae(s){var t=ht(s);return qa(t)}function qa(s){return JSON.stringify(s,function(t,a){return Kt(a)?Object.keys(a).sort().reduce(function(r,n){return r[n]=a[n],r},{}):a})}function xt(s,t){return ur(ht(s),ht(t))}function ur(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?!Object.keys(t).some(function(a){return!ur(s[a],t[a])}):!1}function mr(s,t){if(s===t)return s;var a=Array.isArray(s)&&Array.isArray(t);if(a||Kt(s)&&Kt(t)){for(var r=a?s.length:Object.keys(s).length,n=a?t:Object.keys(t),i=n.length,l=a?[]:{},o=0,c=0;c<i;c++){var m=a?c:n[c];l[m]=mr(s[m],t[m]),l[m]===s[m]&&o++}return r===i&&o===r?s:l}return t}function Kt(s){if(!Ns(s))return!1;var t=s.constructor;if(typeof t>"u")return!0;var a=t.prototype;return!(!Ns(a)||!a.hasOwnProperty("isPrototypeOf"))}function Ns(s){return Object.prototype.toString.call(s)==="[object Object]"}function At(s){return typeof s=="string"||Array.isArray(s)}function Ua(s){return new Promise(function(t){setTimeout(t,s)})}function ws(s){Promise.resolve().then(s).catch(function(t){return setTimeout(function(){throw t})})}function hr(){if(typeof AbortController=="function")return new AbortController}var za=function(s){Ct(t,s);function t(){var r;return r=s.call(this)||this,r.setup=function(n){var i;if(!dr&&((i=window)!=null&&i.addEventListener)){var l=function(){return n()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},r}var a=t.prototype;return a.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},a.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},a.setEventListener=function(n){var i,l=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(o){typeof o=="boolean"?l.setFocused(o):l.onFocus()})},a.setFocused=function(n){this.focused=n,n&&this.onFocus()},a.onFocus=function(){this.listeners.forEach(function(n){n()})},a.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(St),at=new za,Ba=function(s){Ct(t,s);function t(){var r;return r=s.call(this)||this,r.setup=function(n){var i;if(!dr&&((i=window)!=null&&i.addEventListener)){var l=function(){return n()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},r}var a=t.prototype;return a.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},a.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},a.setEventListener=function(n){var i,l=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(o){typeof o=="boolean"?l.setOnline(o):l.onOnline()})},a.setOnline=function(n){this.online=n,n&&this.onOnline()},a.onOnline=function(){this.listeners.forEach(function(n){n()})},a.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(St),nt=new Ba;function Ga(s){return Math.min(1e3*Math.pow(2,s),3e4)}function pt(s){return typeof(s==null?void 0:s.cancel)=="function"}var xr=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Dt(s){return s instanceof xr}var pr=function(t){var a=this,r=!1,n,i,l,o;this.abort=t.abort,this.cancel=function(g){return n==null?void 0:n(g)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(g,b){l=g,o=b});var c=function(b){a.isResolved||(a.isResolved=!0,t.onSuccess==null||t.onSuccess(b),i==null||i(),l(b))},m=function(b){a.isResolved||(a.isResolved=!0,t.onError==null||t.onError(b),i==null||i(),o(b))},d=function(){return new Promise(function(b){i=b,a.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,a.isPaused=!1,t.onContinue==null||t.onContinue()})},p=function g(){if(!a.isResolved){var b;try{b=t.fn()}catch(u){b=Promise.reject(u)}n=function(h){if(!a.isResolved&&(m(new xr(h)),a.abort==null||a.abort(),pt(b)))try{b.cancel()}catch{}},a.isTransportCancelable=pt(b),Promise.resolve(b).then(c).catch(function(u){var h,f;if(!a.isResolved){var x=(h=t.retry)!=null?h:3,v=(f=t.retryDelay)!=null?f:Ga,N=typeof v=="function"?v(a.failureCount,u):v,w=x===!0||typeof x=="number"&&a.failureCount<x||typeof x=="function"&&x(a.failureCount,u);if(r||!w){m(u);return}a.failureCount++,t.onFail==null||t.onFail(a.failureCount,u),Ua(N).then(function(){if(!at.isFocused()||!nt.isOnline())return d()}).then(function(){r?m(u):g()})}})}};p()},Ha=function(){function s(){this.queue=[],this.transactions=0,this.notifyFn=function(a){a()},this.batchNotifyFn=function(a){a()}}var t=s.prototype;return t.batch=function(r){var n;this.transactions++;try{n=r()}finally{this.transactions--,this.transactions||this.flush()}return n},t.schedule=function(r){var n=this;this.transactions?this.queue.push(r):ws(function(){n.notifyFn(r)})},t.batchCalls=function(r){var n=this;return function(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];n.schedule(function(){r.apply(void 0,l)})}},t.flush=function(){var r=this,n=this.queue;this.queue=[],n.length&&ws(function(){r.batchNotifyFn(function(){n.forEach(function(i){r.notifyFn(i)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},s}(),J=new Ha,fr=console;function gr(){return fr}function Qa(s){fr=s}var Va=function(){function s(a){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=a.defaultOptions,this.setOptions(a.options),this.observers=[],this.cache=a.cache,this.queryKey=a.queryKey,this.queryHash=a.queryHash,this.initialState=a.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=a.meta,this.scheduleGc()}var t=s.prototype;return t.setOptions=function(r){var n;this.options=$({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(n=this.options.cacheTime)!=null?n:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),Ia(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,n){var i,l,o=this.state.data,c=Da(r,o);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,o,c)?c=o:this.options.structuralSharing!==!1&&(c=mr(o,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt}),c},t.setState=function(r,n){this.dispatch({type:"setState",state:r,setStateOptions:n})},t.cancel=function(r){var n,i=this.promise;return(n=this.retryer)==null||n.cancel(r),i?i.then(Y).catch(Y):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Ma(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,n=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});n&&n.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,n=this.observers.find(function(i){return i.shouldFetchOnReconnect()});n&&n.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(n){return n!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,n){var i=this,l,o,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var m;return(m=this.retryer)==null||m.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(v){return v.options.queryFn});d&&this.setOptions(d.options)}var p=ht(this.queryKey),g=hr(),b={queryKey:p,pageParam:void 0,meta:this.meta};Object.defineProperty(b,"signal",{enumerable:!0,get:function(){if(g)return i.abortSignalConsumed=!0,g.signal}});var u=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(b)):Promise.reject("Missing queryFn")},h={fetchOptions:n,options:this.options,queryKey:p,state:this.state,fetchFn:u,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var f;(f=this.options.behavior)==null||f.onFetch(h)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=h.fetchOptions)==null?void 0:o.meta)){var x;this.dispatch({type:"fetch",meta:(x=h.fetchOptions)==null?void 0:x.meta})}return this.retryer=new pr({fn:h.fetchFn,abort:g==null||(c=g.abort)==null?void 0:c.bind(g),onSuccess:function(N){i.setData(N),i.cache.config.onSuccess==null||i.cache.config.onSuccess(N,i),i.cacheTime===0&&i.optionalRemove()},onError:function(N){Dt(N)&&N.silent||i.dispatch({type:"error",error:N}),Dt(N)||(i.cache.config.onError==null||i.cache.config.onError(N,i),gr().error(N)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var n=this;this.state=this.reducer(this.state,r),J.batch(function(){n.observers.forEach(function(i){i.onQueryUpdate(r)}),n.cache.notify({query:n,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var n=typeof r.initialData=="function"?r.initialData():r.initialData,i=typeof r.initialData<"u",l=i?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,o=typeof n<"u";return{data:n,dataUpdateCount:0,dataUpdatedAt:o?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},t.reducer=function(r,n){var i,l;switch(n.type){case"failed":return $({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return $({},r,{isPaused:!0});case"continue":return $({},r,{isPaused:!1});case"fetch":return $({},r,{fetchFailureCount:0,fetchMeta:(i=n.meta)!=null?i:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return $({},r,{data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(l=n.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=n.error;return Dt(o)&&o.revert&&this.revertState?$({},this.revertState):$({},r,{error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return $({},r,{isInvalidated:!0});case"setState":return $({},r,n.state);default:return r}},s}(),Ka=function(s){Ct(t,s);function t(r){var n;return n=s.call(this)||this,n.config=r||{},n.queries=[],n.queriesMap={},n}var a=t.prototype;return a.build=function(n,i,l){var o,c=i.queryKey,m=(o=i.queryHash)!=null?o:is(c,i),d=this.get(m);return d||(d=new Va({cache:this,queryKey:c,queryHash:m,options:n.defaultQueryOptions(i),state:l,defaultOptions:n.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},a.add=function(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"queryAdded",query:n}))},a.remove=function(n){var i=this.queriesMap[n.queryHash];i&&(n.destroy(),this.queries=this.queries.filter(function(l){return l!==n}),i===n&&delete this.queriesMap[n.queryHash],this.notify({type:"queryRemoved",query:n}))},a.clear=function(){var n=this;J.batch(function(){n.queries.forEach(function(i){n.remove(i)})})},a.get=function(n){return this.queriesMap[n]},a.getAll=function(){return this.queries},a.find=function(n,i){var l=ve(n,i),o=l[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(c){return vs(o,c)})},a.findAll=function(n,i){var l=ve(n,i),o=l[0];return Object.keys(o).length>0?this.queries.filter(function(c){return vs(o,c)}):this.queries},a.notify=function(n){var i=this;J.batch(function(){i.listeners.forEach(function(l){l(n)})})},a.onFocus=function(){var n=this;J.batch(function(){n.queries.forEach(function(i){i.onFocus()})})},a.onOnline=function(){var n=this;J.batch(function(){n.queries.forEach(function(i){i.onOnline()})})},t}(St),Wa=function(){function s(a){this.options=$({},a.defaultOptions,a.options),this.mutationId=a.mutationId,this.mutationCache=a.mutationCache,this.observers=[],this.state=a.state||Ja(),this.meta=a.meta}var t=s.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(n){return n!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Y).catch(Y)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,n,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(o){o!==r.state.context&&r.dispatch({type:"loading",context:o,variables:r.state.variables})})),l.then(function(){return r.executeMutation()}).then(function(o){n=o,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(n,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(n,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(n,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:n}),n}).catch(function(o){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(o,r.state.variables,r.state.context,r),gr().error(o),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(o,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,o,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:o}),o})})},t.executeMutation=function(){var r=this,n;return this.retryer=new pr({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(n=this.options.retry)!=null?n:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var n=this;this.state=Za(this.state,r),J.batch(function(){n.observers.forEach(function(i){i.onMutationUpdate(r)}),n.mutationCache.notify(n)})},s}();function Ja(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Za(s,t){switch(t.type){case"failed":return $({},s,{failureCount:s.failureCount+1});case"pause":return $({},s,{isPaused:!0});case"continue":return $({},s,{isPaused:!1});case"loading":return $({},s,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return $({},s,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return $({},s,{data:void 0,error:t.error,failureCount:s.failureCount+1,isPaused:!1,status:"error"});case"setState":return $({},s,t.state);default:return s}}var Xa=function(s){Ct(t,s);function t(r){var n;return n=s.call(this)||this,n.config=r||{},n.mutations=[],n.mutationId=0,n}var a=t.prototype;return a.build=function(n,i,l){var o=new Wa({mutationCache:this,mutationId:++this.mutationId,options:n.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?n.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(o),o},a.add=function(n){this.mutations.push(n),this.notify(n)},a.remove=function(n){this.mutations=this.mutations.filter(function(i){return i!==n}),n.cancel(),this.notify(n)},a.clear=function(){var n=this;J.batch(function(){n.mutations.forEach(function(i){n.remove(i)})})},a.getAll=function(){return this.mutations},a.find=function(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(function(i){return js(n,i)})},a.findAll=function(n){return this.mutations.filter(function(i){return js(n,i)})},a.notify=function(n){var i=this;J.batch(function(){i.listeners.forEach(function(l){l(n)})})},a.onFocus=function(){this.resumePausedMutations()},a.onOnline=function(){this.resumePausedMutations()},a.resumePausedMutations=function(){var n=this.mutations.filter(function(i){return i.state.isPaused});return J.batch(function(){return n.reduce(function(i,l){return i.then(function(){return l.continue().catch(Y)})},Promise.resolve())})},t}(St);function Ya(){return{onFetch:function(t){t.fetchFn=function(){var a,r,n,i,l,o,c=(a=t.fetchOptions)==null||(r=a.meta)==null?void 0:r.refetchPage,m=(n=t.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,d=m==null?void 0:m.pageParam,p=(m==null?void 0:m.direction)==="forward",g=(m==null?void 0:m.direction)==="backward",b=((l=t.state.data)==null?void 0:l.pages)||[],u=((o=t.state.data)==null?void 0:o.pageParams)||[],h=hr(),f=h==null?void 0:h.signal,x=u,v=!1,N=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},w=function(F,ie,q,oe){return x=oe?[ie].concat(x):[].concat(x,[ie]),oe?[q].concat(F):[].concat(F,[q])},_=function(F,ie,q,oe){if(v)return Promise.reject("Cancelled");if(typeof q>"u"&&!ie&&F.length)return Promise.resolve(F);var V={queryKey:t.queryKey,signal:f,pageParam:q,meta:t.meta},Z=N(V),xe=Promise.resolve(Z).then(function(ge){return w(F,q,ge,oe)});if(pt(Z)){var G=xe;G.cancel=Z.cancel}return xe},P;if(!b.length)P=_([]);else if(p){var A=typeof d<"u",y=A?d:Cs(t.options,b);P=_(b,A,y)}else if(g){var E=typeof d<"u",O=E?d:en(t.options,b);P=_(b,E,O,!0)}else(function(){x=[];var D=typeof t.options.getNextPageParam>"u",F=c&&b[0]?c(b[0],0,b):!0;P=F?_([],D,u[0]):Promise.resolve(w([],u[0],b[0]));for(var ie=function(V){P=P.then(function(Z){var xe=c&&b[V]?c(b[V],V,b):!0;if(xe){var G=D?u[V]:Cs(t.options,Z);return _(Z,D,G)}return Promise.resolve(w(Z,u[V],b[V]))})},q=1;q<b.length;q++)ie(q)})();var K=P.then(function(D){return{pages:D,pageParams:x}}),S=K;return S.cancel=function(){v=!0,h==null||h.abort(),pt(P)&&P.cancel()},K}}}}function Cs(s,t){return s.getNextPageParam==null?void 0:s.getNextPageParam(t[t.length-1],t)}function en(s,t){return s.getPreviousPageParam==null?void 0:s.getPreviousPageParam(t[0],t)}var tn=function(){function s(a){a===void 0&&(a={}),this.queryCache=a.queryCache||new Ka,this.mutationCache=a.mutationCache||new Xa,this.defaultOptions=a.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=s.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=at.subscribe(function(){at.isFocused()&&nt.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=nt.subscribe(function(){at.isFocused()&&nt.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,n;(r=this.unsubscribeFocus)==null||r.call(this),(n=this.unsubscribeOnline)==null||n.call(this)},t.isFetching=function(r,n){var i=ve(r,n),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},t.isMutating=function(r){return this.mutationCache.findAll($({},r,{fetching:!0})).length},t.getQueryData=function(r,n){var i;return(i=this.queryCache.find(r,n))==null?void 0:i.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(n){var i=n.queryKey,l=n.state,o=l.data;return[i,o]})},t.setQueryData=function(r,n,i){var l=Lt(r),o=this.defaultQueryOptions(l);return this.queryCache.build(this,o).setData(n,i)},t.setQueriesData=function(r,n,i){var l=this;return J.batch(function(){return l.getQueryCache().findAll(r).map(function(o){var c=o.queryKey;return[c,l.setQueryData(c,n,i)]})})},t.getQueryState=function(r,n){var i;return(i=this.queryCache.find(r,n))==null?void 0:i.state},t.removeQueries=function(r,n){var i=ve(r,n),l=i[0],o=this.queryCache;J.batch(function(){o.findAll(l).forEach(function(c){o.remove(c)})})},t.resetQueries=function(r,n,i){var l=this,o=ve(r,n,i),c=o[0],m=o[1],d=this.queryCache,p=$({},c,{active:!0});return J.batch(function(){return d.findAll(c).forEach(function(g){g.reset()}),l.refetchQueries(p,m)})},t.cancelQueries=function(r,n,i){var l=this,o=ve(r,n,i),c=o[0],m=o[1],d=m===void 0?{}:m;typeof d.revert>"u"&&(d.revert=!0);var p=J.batch(function(){return l.queryCache.findAll(c).map(function(g){return g.cancel(d)})});return Promise.all(p).then(Y).catch(Y)},t.invalidateQueries=function(r,n,i){var l,o,c,m=this,d=ve(r,n,i),p=d[0],g=d[1],b=$({},p,{active:(l=(o=p.refetchActive)!=null?o:p.active)!=null?l:!0,inactive:(c=p.refetchInactive)!=null?c:!1});return J.batch(function(){return m.queryCache.findAll(p).forEach(function(u){u.invalidate()}),m.refetchQueries(b,g)})},t.refetchQueries=function(r,n,i){var l=this,o=ve(r,n,i),c=o[0],m=o[1],d=J.batch(function(){return l.queryCache.findAll(c).map(function(g){return g.fetch(void 0,$({},m,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),p=Promise.all(d).then(Y);return m!=null&&m.throwOnError||(p=p.catch(Y)),p},t.fetchQuery=function(r,n,i){var l=Lt(r,n,i),o=this.defaultQueryOptions(l);typeof o.retry>"u"&&(o.retry=!1);var c=this.queryCache.build(this,o);return c.isStaleByTime(o.staleTime)?c.fetch(o):Promise.resolve(c.state.data)},t.prefetchQuery=function(r,n,i){return this.fetchQuery(r,n,i).then(Y).catch(Y)},t.fetchInfiniteQuery=function(r,n,i){var l=Lt(r,n,i);return l.behavior=Ya(),this.fetchQuery(l)},t.prefetchInfiniteQuery=function(r,n,i){return this.fetchInfiniteQuery(r,n,i).then(Y).catch(Y)},t.cancelMutations=function(){var r=this,n=J.batch(function(){return r.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(n).then(Y).catch(Y)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,n){var i=this.queryDefaults.find(function(l){return Ae(r)===Ae(l.queryKey)});i?i.defaultOptions=n:this.queryDefaults.push({queryKey:r,defaultOptions:n})},t.getQueryDefaults=function(r){var n;return r?(n=this.queryDefaults.find(function(i){return xt(r,i.queryKey)}))==null?void 0:n.defaultOptions:void 0},t.setMutationDefaults=function(r,n){var i=this.mutationDefaults.find(function(l){return Ae(r)===Ae(l.mutationKey)});i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:r,defaultOptions:n})},t.getMutationDefaults=function(r){var n;return r?(n=this.mutationDefaults.find(function(i){return xt(r,i.mutationKey)}))==null?void 0:n.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var n=$({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=is(n.queryKey,n)),n},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:$({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},s}(),sn=aa.unstable_batchedUpdates;J.setBatchNotifyFunction(sn);var rn=console;Qa(rn);var Ss=Oe.createContext(void 0),an=Oe.createContext(!1);function nn(s){return s&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ss),window.ReactQueryClientContext):Ss}var ln=function(t){var a=t.client,r=t.contextSharing,n=r===void 0?!1:r,i=t.children;Oe.useEffect(function(){return a.mount(),function(){a.unmount()}},[a]);var l=nn(n);return Oe.createElement(an.Provider,{value:n},Oe.createElement(l.Provider,{value:a},i))};function br(s,t){return function(){return s.apply(t,arguments)}}const{toString:on}=Object.prototype,{getPrototypeOf:ls}=Object,{iterator:Et,toStringTag:yr}=Symbol,_t=(s=>t=>{const a=on.call(t);return s[a]||(s[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ue=s=>(s=s.toLowerCase(),t=>_t(t)===s),Pt=s=>t=>typeof t===s,{isArray:De}=Array,Le=Pt("undefined");function Ze(s){return s!==null&&!Le(s)&&s.constructor!==null&&!Le(s.constructor)&&re(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const vr=ue("ArrayBuffer");function cn(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&vr(s.buffer),t}const dn=Pt("string"),re=Pt("function"),jr=Pt("number"),Xe=s=>s!==null&&typeof s=="object",un=s=>s===!0||s===!1,it=s=>{if(_t(s)!=="object")return!1;const t=ls(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(yr in s)&&!(Et in s)},mn=s=>{if(!Xe(s)||Ze(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},hn=ue("Date"),xn=ue("File"),pn=ue("Blob"),fn=ue("FileList"),gn=s=>Xe(s)&&re(s.pipe),bn=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||re(s.append)&&((t=_t(s))==="formdata"||t==="object"&&re(s.toString)&&s.toString()==="[object FormData]"))},yn=ue("URLSearchParams"),[vn,jn,Nn,wn]=["ReadableStream","Request","Response","Headers"].map(ue),Cn=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ye(s,t,{allOwnKeys:a=!1}={}){if(s===null||typeof s>"u")return;let r,n;if(typeof s!="object"&&(s=[s]),De(s))for(r=0,n=s.length;r<n;r++)t.call(null,s[r],r,s);else{if(Ze(s))return;const i=a?Object.getOwnPropertyNames(s):Object.keys(s),l=i.length;let o;for(r=0;r<l;r++)o=i[r],t.call(null,s[o],o,s)}}function Nr(s,t){if(Ze(s))return null;t=t.toLowerCase();const a=Object.keys(s);let r=a.length,n;for(;r-- >0;)if(n=a[r],t===n.toLowerCase())return n;return null}const Ee=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wr=s=>!Le(s)&&s!==Ee;function Wt(){const{caseless:s,skipUndefined:t}=wr(this)&&this||{},a={},r=(n,i)=>{const l=s&&Nr(a,i)||i;it(a[l])&&it(n)?a[l]=Wt(a[l],n):it(n)?a[l]=Wt({},n):De(n)?a[l]=n.slice():(!t||!Le(n))&&(a[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ye(arguments[n],r);return a}const Sn=(s,t,a,{allOwnKeys:r}={})=>(Ye(t,(n,i)=>{a&&re(n)?s[i]=br(n,a):s[i]=n},{allOwnKeys:r}),s),An=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),En=(s,t,a,r)=>{s.prototype=Object.create(t.prototype,r),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),a&&Object.assign(s.prototype,a)},_n=(s,t,a,r)=>{let n,i,l;const o={};if(t=t||{},s==null)return t;do{for(n=Object.getOwnPropertyNames(s),i=n.length;i-- >0;)l=n[i],(!r||r(l,s,t))&&!o[l]&&(t[l]=s[l],o[l]=!0);s=a!==!1&&ls(s)}while(s&&(!a||a(s,t))&&s!==Object.prototype);return t},Pn=(s,t,a)=>{s=String(s),(a===void 0||a>s.length)&&(a=s.length),a-=t.length;const r=s.indexOf(t,a);return r!==-1&&r===a},Rn=s=>{if(!s)return null;if(De(s))return s;let t=s.length;if(!jr(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=s[t];return a},Tn=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&ls(Uint8Array)),kn=(s,t)=>{const r=(s&&s[Et]).call(s);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(s,i[0],i[1])}},On=(s,t)=>{let a;const r=[];for(;(a=s.exec(t))!==null;)r.push(a);return r},Fn=ue("HTMLFormElement"),Ln=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),As=(({hasOwnProperty:s})=>(t,a)=>s.call(t,a))(Object.prototype),Dn=ue("RegExp"),Cr=(s,t)=>{const a=Object.getOwnPropertyDescriptors(s),r={};Ye(a,(n,i)=>{let l;(l=t(n,i,s))!==!1&&(r[i]=l||n)}),Object.defineProperties(s,r)},In=s=>{Cr(s,(t,a)=>{if(re(s)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=s[a];if(re(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Mn=(s,t)=>{const a={},r=n=>{n.forEach(i=>{a[i]=!0})};return De(s)?r(s):r(String(s).split(t)),a},$n=()=>{},qn=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function Un(s){return!!(s&&re(s.append)&&s[yr]==="FormData"&&s[Et])}const zn=s=>{const t=new Array(10),a=(r,n)=>{if(Xe(r)){if(t.indexOf(r)>=0)return;if(Ze(r))return r;if(!("toJSON"in r)){t[n]=r;const i=De(r)?[]:{};return Ye(r,(l,o)=>{const c=a(l,n+1);!Le(c)&&(i[o]=c)}),t[n]=void 0,i}}return r};return a(s,0)},Bn=ue("AsyncFunction"),Gn=s=>s&&(Xe(s)||re(s))&&re(s.then)&&re(s.catch),Sr=((s,t)=>s?setImmediate:t?((a,r)=>(Ee.addEventListener("message",({source:n,data:i})=>{n===Ee&&i===a&&r.length&&r.shift()()},!1),n=>{r.push(n),Ee.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",re(Ee.postMessage)),Hn=typeof queueMicrotask<"u"?queueMicrotask.bind(Ee):typeof process<"u"&&process.nextTick||Sr,Qn=s=>s!=null&&re(s[Et]),j={isArray:De,isArrayBuffer:vr,isBuffer:Ze,isFormData:bn,isArrayBufferView:cn,isString:dn,isNumber:jr,isBoolean:un,isObject:Xe,isPlainObject:it,isEmptyObject:mn,isReadableStream:vn,isRequest:jn,isResponse:Nn,isHeaders:wn,isUndefined:Le,isDate:hn,isFile:xn,isBlob:pn,isRegExp:Dn,isFunction:re,isStream:gn,isURLSearchParams:yn,isTypedArray:Tn,isFileList:fn,forEach:Ye,merge:Wt,extend:Sn,trim:Cn,stripBOM:An,inherits:En,toFlatObject:_n,kindOf:_t,kindOfTest:ue,endsWith:Pn,toArray:Rn,forEachEntry:kn,matchAll:On,isHTMLForm:Fn,hasOwnProperty:As,hasOwnProp:As,reduceDescriptors:Cr,freezeMethods:In,toObjectSet:Mn,toCamelCase:Ln,noop:$n,toFiniteNumber:qn,findKey:Nr,global:Ee,isContextDefined:wr,isSpecCompliantForm:Un,toJSONObject:zn,isAsyncFn:Bn,isThenable:Gn,setImmediate:Sr,asap:Hn,isIterable:Qn};function T(s,t,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}j.inherits(T,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const Ar=T.prototype,Er={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Er[s]={value:s}});Object.defineProperties(T,Er);Object.defineProperty(Ar,"isAxiosError",{value:!0});T.from=(s,t,a,r,n,i)=>{const l=Object.create(Ar);j.toFlatObject(s,l,function(d){return d!==Error.prototype},m=>m!=="isAxiosError");const o=s&&s.message?s.message:"Error",c=t==null&&s?s.code:t;return T.call(l,o,c,a,r,n),s&&l.cause==null&&Object.defineProperty(l,"cause",{value:s,configurable:!0}),l.name=s&&s.name||"Error",i&&Object.assign(l,i),l};const Vn=null;function Jt(s){return j.isPlainObject(s)||j.isArray(s)}function _r(s){return j.endsWith(s,"[]")?s.slice(0,-2):s}function Es(s,t,a){return s?s.concat(t).map(function(n,i){return n=_r(n),!a&&i?"["+n+"]":n}).join(a?".":""):t}function Kn(s){return j.isArray(s)&&!s.some(Jt)}const Wn=j.toFlatObject(j,{},null,function(t){return/^is[A-Z]/.test(t)});function Rt(s,t,a){if(!j.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,a=j.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,f){return!j.isUndefined(f[h])});const r=a.metaTokens,n=a.visitor||d,i=a.dots,l=a.indexes,c=(a.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(t);if(!j.isFunction(n))throw new TypeError("visitor must be a function");function m(u){if(u===null)return"";if(j.isDate(u))return u.toISOString();if(j.isBoolean(u))return u.toString();if(!c&&j.isBlob(u))throw new T("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(u)||j.isTypedArray(u)?c&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function d(u,h,f){let x=u;if(u&&!f&&typeof u=="object"){if(j.endsWith(h,"{}"))h=r?h:h.slice(0,-2),u=JSON.stringify(u);else if(j.isArray(u)&&Kn(u)||(j.isFileList(u)||j.endsWith(h,"[]"))&&(x=j.toArray(u)))return h=_r(h),x.forEach(function(N,w){!(j.isUndefined(N)||N===null)&&t.append(l===!0?Es([h],w,i):l===null?h:h+"[]",m(N))}),!1}return Jt(u)?!0:(t.append(Es(f,h,i),m(u)),!1)}const p=[],g=Object.assign(Wn,{defaultVisitor:d,convertValue:m,isVisitable:Jt});function b(u,h){if(!j.isUndefined(u)){if(p.indexOf(u)!==-1)throw Error("Circular reference detected in "+h.join("."));p.push(u),j.forEach(u,function(x,v){(!(j.isUndefined(x)||x===null)&&n.call(t,x,j.isString(v)?v.trim():v,h,g))===!0&&b(x,h?h.concat(v):[v])}),p.pop()}}if(!j.isObject(s))throw new TypeError("data must be an object");return b(s),t}function _s(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function os(s,t){this._pairs=[],s&&Rt(s,this,t)}const Pr=os.prototype;Pr.append=function(t,a){this._pairs.push([t,a])};Pr.toString=function(t){const a=t?function(r){return t.call(this,r,_s)}:_s;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Jn(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Rr(s,t,a){if(!t)return s;const r=a&&a.encode||Jn;j.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let i;if(n?i=n(t,a):i=j.isURLSearchParams(t)?t.toString():new os(t,a).toString(r),i){const l=s.indexOf("#");l!==-1&&(s=s.slice(0,l)),s+=(s.indexOf("?")===-1?"?":"&")+i}return s}class Ps{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){j.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Tr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zn=typeof URLSearchParams<"u"?URLSearchParams:os,Xn=typeof FormData<"u"?FormData:null,Yn=typeof Blob<"u"?Blob:null,ei={isBrowser:!0,classes:{URLSearchParams:Zn,FormData:Xn,Blob:Yn},protocols:["http","https","file","blob","url","data"]},cs=typeof window<"u"&&typeof document<"u",Zt=typeof navigator=="object"&&navigator||void 0,ti=cs&&(!Zt||["ReactNative","NativeScript","NS"].indexOf(Zt.product)<0),si=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ri=cs&&window.location.href||"http://localhost",ai=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cs,hasStandardBrowserEnv:ti,hasStandardBrowserWebWorkerEnv:si,navigator:Zt,origin:ri},Symbol.toStringTag,{value:"Module"})),X={...ai,...ei};function ni(s,t){return Rt(s,new X.classes.URLSearchParams,{visitor:function(a,r,n,i){return X.isNode&&j.isBuffer(a)?(this.append(r,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function ii(s){return j.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function li(s){const t={},a=Object.keys(s);let r;const n=a.length;let i;for(r=0;r<n;r++)i=a[r],t[i]=s[i];return t}function kr(s){function t(a,r,n,i){let l=a[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=a.length;return l=!l&&j.isArray(n)?n.length:l,c?(j.hasOwnProp(n,l)?n[l]=[n[l],r]:n[l]=r,!o):((!n[l]||!j.isObject(n[l]))&&(n[l]=[]),t(a,r,n[l],i)&&j.isArray(n[l])&&(n[l]=li(n[l])),!o)}if(j.isFormData(s)&&j.isFunction(s.entries)){const a={};return j.forEachEntry(s,(r,n)=>{t(ii(r),n,a,0)}),a}return null}function oi(s,t,a){if(j.isString(s))try{return(t||JSON.parse)(s),j.trim(s)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(s)}const et={transitional:Tr,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,i=j.isObject(t);if(i&&j.isHTMLForm(t)&&(t=new FormData(t)),j.isFormData(t))return n?JSON.stringify(kr(t)):t;if(j.isArrayBuffer(t)||j.isBuffer(t)||j.isStream(t)||j.isFile(t)||j.isBlob(t)||j.isReadableStream(t))return t;if(j.isArrayBufferView(t))return t.buffer;if(j.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ni(t,this.formSerializer).toString();if((o=j.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Rt(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||n?(a.setContentType("application/json",!1),oi(t)):t}],transformResponse:[function(t){const a=this.transitional||et.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(j.isResponse(t)||j.isReadableStream(t))return t;if(t&&j.isString(t)&&(r&&!this.responseType||n)){const l=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?T.from(o,T.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:X.classes.FormData,Blob:X.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],s=>{et.headers[s]={}});const ci=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),di=s=>{const t={};let a,r,n;return s&&s.split(`
`).forEach(function(l){n=l.indexOf(":"),a=l.substring(0,n).trim().toLowerCase(),r=l.substring(n+1).trim(),!(!a||t[a]&&ci[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},Rs=Symbol("internals");function $e(s){return s&&String(s).trim().toLowerCase()}function lt(s){return s===!1||s==null?s:j.isArray(s)?s.map(lt):String(s)}function ui(s){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(s);)t[r[1]]=r[2];return t}const mi=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function It(s,t,a,r,n){if(j.isFunction(r))return r.call(this,t,a);if(n&&(t=a),!!j.isString(t)){if(j.isString(r))return t.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(t)}}function hi(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function xi(s,t){const a=j.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(s,r+a,{value:function(n,i,l){return this[r].call(this,t,n,i,l)},configurable:!0})})}let ae=class{constructor(t){t&&this.set(t)}set(t,a,r){const n=this;function i(o,c,m){const d=$e(c);if(!d)throw new Error("header name must be a non-empty string");const p=j.findKey(n,d);(!p||n[p]===void 0||m===!0||m===void 0&&n[p]!==!1)&&(n[p||c]=lt(o))}const l=(o,c)=>j.forEach(o,(m,d)=>i(m,d,c));if(j.isPlainObject(t)||t instanceof this.constructor)l(t,a);else if(j.isString(t)&&(t=t.trim())&&!mi(t))l(di(t),a);else if(j.isObject(t)&&j.isIterable(t)){let o={},c,m;for(const d of t){if(!j.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[m=d[0]]=(c=o[m])?j.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,a)}else t!=null&&i(a,t,r);return this}get(t,a){if(t=$e(t),t){const r=j.findKey(this,t);if(r){const n=this[r];if(!a)return n;if(a===!0)return ui(n);if(j.isFunction(a))return a.call(this,n,r);if(j.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=$e(t),t){const r=j.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||It(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let n=!1;function i(l){if(l=$e(l),l){const o=j.findKey(r,l);o&&(!a||It(r,r[o],o,a))&&(delete r[o],n=!0)}}return j.isArray(t)?t.forEach(i):i(t),n}clear(t){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const i=a[r];(!t||It(this,this[i],i,t,!0))&&(delete this[i],n=!0)}return n}normalize(t){const a=this,r={};return j.forEach(this,(n,i)=>{const l=j.findKey(r,i);if(l){a[l]=lt(n),delete a[i];return}const o=t?hi(i):String(i).trim();o!==i&&delete a[i],a[o]=lt(n),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return j.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=t&&j.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(n=>r.set(n)),r}static accessor(t){const r=(this[Rs]=this[Rs]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=$e(l);r[o]||(xi(n,l),r[o]=!0)}return j.isArray(t)?t.forEach(i):i(t),this}};ae.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(ae.prototype,({value:s},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(r){this[a]=r}}});j.freezeMethods(ae);function Mt(s,t){const a=this||et,r=t||a,n=ae.from(r.headers);let i=r.data;return j.forEach(s,function(o){i=o.call(a,i,n.normalize(),t?t.status:void 0)}),n.normalize(),i}function Or(s){return!!(s&&s.__CANCEL__)}function Ie(s,t,a){T.call(this,s??"canceled",T.ERR_CANCELED,t,a),this.name="CanceledError"}j.inherits(Ie,T,{__CANCEL__:!0});function Fr(s,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?s(a):t(new T("Request failed with status code "+a.status,[T.ERR_BAD_REQUEST,T.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function pi(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function fi(s,t){s=s||10;const a=new Array(s),r=new Array(s);let n=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const m=Date.now(),d=r[i];l||(l=m),a[n]=c,r[n]=m;let p=i,g=0;for(;p!==n;)g+=a[p++],p=p%s;if(n=(n+1)%s,n===i&&(i=(i+1)%s),m-l<t)return;const b=d&&m-d;return b?Math.round(g*1e3/b):void 0}}function gi(s,t){let a=0,r=1e3/t,n,i;const l=(m,d=Date.now())=>{a=d,n=null,i&&(clearTimeout(i),i=null),s(...m)};return[(...m)=>{const d=Date.now(),p=d-a;p>=r?l(m,d):(n=m,i||(i=setTimeout(()=>{i=null,l(n)},r-p)))},()=>n&&l(n)]}const ft=(s,t,a=3)=>{let r=0;const n=fi(50,250);return gi(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-r,m=n(c),d=l<=o;r=l;const p={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:m||void 0,estimated:m&&o&&d?(o-l)/m:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};s(p)},a)},Ts=(s,t)=>{const a=s!=null;return[r=>t[0]({lengthComputable:a,total:s,loaded:r}),t[1]]},ks=s=>(...t)=>j.asap(()=>s(...t)),bi=X.hasStandardBrowserEnv?((s,t)=>a=>(a=new URL(a,X.origin),s.protocol===a.protocol&&s.host===a.host&&(t||s.port===a.port)))(new URL(X.origin),X.navigator&&/(msie|trident)/i.test(X.navigator.userAgent)):()=>!0,yi=X.hasStandardBrowserEnv?{write(s,t,a,r,n,i){const l=[s+"="+encodeURIComponent(t)];j.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),j.isString(r)&&l.push("path="+r),j.isString(n)&&l.push("domain="+n),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vi(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function ji(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function Lr(s,t,a){let r=!vi(t);return s&&(r||a==!1)?ji(s,t):t}const Os=s=>s instanceof ae?{...s}:s;function ke(s,t){t=t||{};const a={};function r(m,d,p,g){return j.isPlainObject(m)&&j.isPlainObject(d)?j.merge.call({caseless:g},m,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function n(m,d,p,g){if(j.isUndefined(d)){if(!j.isUndefined(m))return r(void 0,m,p,g)}else return r(m,d,p,g)}function i(m,d){if(!j.isUndefined(d))return r(void 0,d)}function l(m,d){if(j.isUndefined(d)){if(!j.isUndefined(m))return r(void 0,m)}else return r(void 0,d)}function o(m,d,p){if(p in t)return r(m,d);if(p in s)return r(void 0,m)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(m,d,p)=>n(Os(m),Os(d),p,!0)};return j.forEach(Object.keys({...s,...t}),function(d){const p=c[d]||n,g=p(s[d],t[d],d);j.isUndefined(g)&&p!==o||(a[d]=g)}),a}const Dr=s=>{const t=ke({},s);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=ae.from(l),t.url=Rr(Lr(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),j.isFormData(a)){if(X.hasStandardBrowserEnv||X.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(j.isFunction(a.getHeaders)){const c=a.getHeaders(),m=["content-type","content-length"];Object.entries(c).forEach(([d,p])=>{m.includes(d.toLowerCase())&&l.set(d,p)})}}if(X.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(t)),r||r!==!1&&bi(t.url))){const c=n&&i&&yi.read(i);c&&l.set(n,c)}return t},Ni=typeof XMLHttpRequest<"u",wi=Ni&&function(s){return new Promise(function(a,r){const n=Dr(s);let i=n.data;const l=ae.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:m}=n,d,p,g,b,u;function h(){b&&b(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let f=new XMLHttpRequest;f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout;function x(){if(!f)return;const N=ae.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:N,config:s,request:f};Fr(function(A){a(A),h()},function(A){r(A),h()},_),f=null}"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(x)},f.onabort=function(){f&&(r(new T("Request aborted",T.ECONNABORTED,s,f)),f=null)},f.onerror=function(w){const _=w&&w.message?w.message:"Network Error",P=new T(_,T.ERR_NETWORK,s,f);P.event=w||null,r(P),f=null},f.ontimeout=function(){let w=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||Tr;n.timeoutErrorMessage&&(w=n.timeoutErrorMessage),r(new T(w,_.clarifyTimeoutError?T.ETIMEDOUT:T.ECONNABORTED,s,f)),f=null},i===void 0&&l.setContentType(null),"setRequestHeader"in f&&j.forEach(l.toJSON(),function(w,_){f.setRequestHeader(_,w)}),j.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),o&&o!=="json"&&(f.responseType=n.responseType),m&&([g,u]=ft(m,!0),f.addEventListener("progress",g)),c&&f.upload&&([p,b]=ft(c),f.upload.addEventListener("progress",p),f.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(d=N=>{f&&(r(!N||N.type?new Ie(null,s,f):N),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const v=pi(n.url);if(v&&X.protocols.indexOf(v)===-1){r(new T("Unsupported protocol "+v+":",T.ERR_BAD_REQUEST,s));return}f.send(i||null)})},Ci=(s,t)=>{const{length:a}=s=s?s.filter(Boolean):[];if(t||a){let r=new AbortController,n;const i=function(m){if(!n){n=!0,o();const d=m instanceof Error?m:this.reason;r.abort(d instanceof T?d:new Ie(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new T(`timeout ${t} of ms exceeded`,T.ETIMEDOUT))},t);const o=()=>{s&&(l&&clearTimeout(l),l=null,s.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),s=null)};s.forEach(m=>m.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>j.asap(o),c}},Si=function*(s,t){let a=s.byteLength;if(a<t){yield s;return}let r=0,n;for(;r<a;)n=r+t,yield s.slice(r,n),r=n},Ai=async function*(s,t){for await(const a of Ei(s))yield*Si(a,t)},Ei=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:a,value:r}=await t.read();if(a)break;yield r}}finally{await t.cancel()}},Fs=(s,t,a,r)=>{const n=Ai(s,t);let i=0,l,o=c=>{l||(l=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:m,value:d}=await n.next();if(m){o(),c.close();return}let p=d.byteLength;if(a){let g=i+=p;a(g)}c.enqueue(new Uint8Array(d))}catch(m){throw o(m),m}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},Ls=64*1024,{isFunction:st}=j,_i=(({Request:s,Response:t})=>({Request:s,Response:t}))(j.global),{ReadableStream:Ds,TextEncoder:Is}=j.global,Ms=(s,...t)=>{try{return!!s(...t)}catch{return!1}},Pi=s=>{s=j.merge.call({skipUndefined:!0},_i,s);const{fetch:t,Request:a,Response:r}=s,n=t?st(t):typeof fetch=="function",i=st(a),l=st(r);if(!n)return!1;const o=n&&st(Ds),c=n&&(typeof Is=="function"?(u=>h=>u.encode(h))(new Is):async u=>new Uint8Array(await new a(u).arrayBuffer())),m=i&&o&&Ms(()=>{let u=!1;const h=new a(X.origin,{body:new Ds,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!h}),d=l&&o&&Ms(()=>j.isReadableStream(new r("").body)),p={stream:d&&(u=>u.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(u=>{!p[u]&&(p[u]=(h,f)=>{let x=h&&h[u];if(x)return x.call(h);throw new T(`Response type '${u}' is not supported`,T.ERR_NOT_SUPPORT,f)})});const g=async u=>{if(u==null)return 0;if(j.isBlob(u))return u.size;if(j.isSpecCompliantForm(u))return(await new a(X.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(j.isArrayBufferView(u)||j.isArrayBuffer(u))return u.byteLength;if(j.isURLSearchParams(u)&&(u=u+""),j.isString(u))return(await c(u)).byteLength},b=async(u,h)=>{const f=j.toFiniteNumber(u.getContentLength());return f??g(h)};return async u=>{let{url:h,method:f,data:x,signal:v,cancelToken:N,timeout:w,onDownloadProgress:_,onUploadProgress:P,responseType:A,headers:y,withCredentials:E="same-origin",fetchOptions:O}=Dr(u),K=t||fetch;A=A?(A+"").toLowerCase():"text";let S=Ci([v,N&&N.toAbortSignal()],w),D=null;const F=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let ie;try{if(P&&m&&f!=="get"&&f!=="head"&&(ie=await b(y,x))!==0){let G=new a(h,{method:"POST",body:x,duplex:"half"}),ge;if(j.isFormData(x)&&(ge=G.headers.get("content-type"))&&y.setContentType(ge),G.body){const[kt,tt]=Ts(ie,ft(ks(P)));x=Fs(G.body,Ls,kt,tt)}}j.isString(E)||(E=E?"include":"omit");const q=i&&"credentials"in a.prototype,oe={...O,signal:S,method:f.toUpperCase(),headers:y.normalize().toJSON(),body:x,duplex:"half",credentials:q?E:void 0};D=i&&new a(h,oe);let V=await(i?K(D,O):K(h,oe));const Z=d&&(A==="stream"||A==="response");if(d&&(_||Z&&F)){const G={};["status","statusText","headers"].forEach(us=>{G[us]=V[us]});const ge=j.toFiniteNumber(V.headers.get("content-length")),[kt,tt]=_&&Ts(ge,ft(ks(_),!0))||[];V=new r(Fs(V.body,Ls,kt,()=>{tt&&tt(),F&&F()}),G)}A=A||"text";let xe=await p[j.findKey(p,A)||"text"](V,u);return!Z&&F&&F(),await new Promise((G,ge)=>{Fr(G,ge,{data:xe,headers:ae.from(V.headers),status:V.status,statusText:V.statusText,config:u,request:D})})}catch(q){throw F&&F(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new T("Network Error",T.ERR_NETWORK,u,D),{cause:q.cause||q}):T.from(q,q&&q.code,u,D)}}},Ri=new Map,Ir=s=>{let t=s?s.env:{};const{fetch:a,Request:r,Response:n}=t,i=[r,n,a];let l=i.length,o=l,c,m,d=Ri;for(;o--;)c=i[o],m=d.get(c),m===void 0&&d.set(c,m=o?new Map:Pi(t)),d=m;return m};Ir();const Xt={http:Vn,xhr:wi,fetch:{get:Ir}};j.forEach(Xt,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const $s=s=>`- ${s}`,Ti=s=>j.isFunction(s)||s===null||s===!1,Mr={getAdapter:(s,t)=>{s=j.isArray(s)?s:[s];const{length:a}=s;let r,n;const i={};for(let l=0;l<a;l++){r=s[l];let o;if(n=r,!Ti(r)&&(n=Xt[(o=String(r)).toLowerCase()],n===void 0))throw new T(`Unknown adapter '${o}'`);if(n&&(j.isFunction(n)||(n=n.get(t))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,m])=>`adapter ${c} `+(m===!1?"is not supported by the environment":"is not available in the build"));let o=a?l.length>1?`since :
`+l.map($s).join(`
`):" "+$s(l[0]):"as no adapter specified";throw new T("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Xt};function $t(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ie(null,s)}function qs(s){return $t(s),s.headers=ae.from(s.headers),s.data=Mt.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Mr.getAdapter(s.adapter||et.adapter,s)(s).then(function(r){return $t(s),r.data=Mt.call(s,s.transformResponse,r),r.headers=ae.from(r.headers),r},function(r){return Or(r)||($t(s),r&&r.response&&(r.response.data=Mt.call(s,s.transformResponse,r.response),r.response.headers=ae.from(r.response.headers))),Promise.reject(r)})}const $r="1.12.2",Tt={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{Tt[s]=function(r){return typeof r===s||"a"+(t<1?"n ":" ")+s}});const Us={};Tt.transitional=function(t,a,r){function n(i,l){return"[Axios v"+$r+"] Transitional option '"+i+"'"+l+(r?". "+r:"")}return(i,l,o)=>{if(t===!1)throw new T(n(l," has been removed"+(a?" in "+a:"")),T.ERR_DEPRECATED);return a&&!Us[l]&&(Us[l]=!0,console.warn(n(l," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(i,l,o):!0}};Tt.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function ki(s,t,a){if(typeof s!="object")throw new T("options must be an object",T.ERR_BAD_OPTION_VALUE);const r=Object.keys(s);let n=r.length;for(;n-- >0;){const i=r[n],l=t[i];if(l){const o=s[i],c=o===void 0||l(o,i,s);if(c!==!0)throw new T("option "+i+" must be "+c,T.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new T("Unknown option "+i,T.ERR_BAD_OPTION)}}const ot={assertOptions:ki,validators:Tt},me=ot.validators;let Re=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ps,response:new Ps}}async request(t,a){try{return await this._request(t,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=ke(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:i}=a;r!==void 0&&ot.assertOptions(r,{silentJSONParsing:me.transitional(me.boolean),forcedJSONParsing:me.transitional(me.boolean),clarifyTimeoutError:me.transitional(me.boolean)},!1),n!=null&&(j.isFunction(n)?a.paramsSerializer={serialize:n}:ot.assertOptions(n,{encode:me.function,serialize:me.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ot.assertOptions(a,{baseUrl:me.spelling("baseURL"),withXsrfToken:me.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&j.merge(i.common,i[a.method]);i&&j.forEach(["delete","get","head","post","put","patch","common"],u=>{delete i[u]}),a.headers=ae.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(a)===!1||(c=c&&h.synchronous,o.unshift(h.fulfilled,h.rejected))});const m=[];this.interceptors.response.forEach(function(h){m.push(h.fulfilled,h.rejected)});let d,p=0,g;if(!c){const u=[qs.bind(this),void 0];for(u.unshift(...o),u.push(...m),g=u.length,d=Promise.resolve(a);p<g;)d=d.then(u[p++],u[p++]);return d}g=o.length;let b=a;for(;p<g;){const u=o[p++],h=o[p++];try{b=u(b)}catch(f){h.call(this,f);break}}try{d=qs.call(this,b)}catch(u){return Promise.reject(u)}for(p=0,g=m.length;p<g;)d=d.then(m[p++],m[p++]);return d}getUri(t){t=ke(this.defaults,t);const a=Lr(t.baseURL,t.url,t.allowAbsoluteUrls);return Rr(a,t.params,t.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(t){Re.prototype[t]=function(a,r){return this.request(ke(r||{},{method:t,url:a,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(t){function a(r){return function(i,l,o){return this.request(ke(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Re.prototype[t]=a(),Re.prototype[t+"Form"]=a(!0)});let Oi=class qr{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{r.subscribe(o),i=o}).then(n);return l.cancel=function(){r.unsubscribe(i)},l},t(function(i,l,o){r.reason||(r.reason=new Ie(i,l,o),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new qr(function(n){t=n}),cancel:t}}};function Fi(s){return function(a){return s.apply(null,a)}}function Li(s){return j.isObject(s)&&s.isAxiosError===!0}const Yt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yt).forEach(([s,t])=>{Yt[t]=s});function Ur(s){const t=new Re(s),a=br(Re.prototype.request,t);return j.extend(a,Re.prototype,t,{allOwnKeys:!0}),j.extend(a,t,null,{allOwnKeys:!0}),a.create=function(n){return Ur(ke(s,n))},a}const H=Ur(et);H.Axios=Re;H.CanceledError=Ie;H.CancelToken=Oi;H.isCancel=Or;H.VERSION=$r;H.toFormData=Rt;H.AxiosError=T;H.Cancel=H.CanceledError;H.all=function(t){return Promise.all(t)};H.spread=Fi;H.isAxiosError=Li;H.mergeConfig=ke;H.AxiosHeaders=ae;H.formToJSON=s=>kr(j.isHTMLForm(s)?new FormData(s):s);H.getAdapter=Mr.getAdapter;H.HttpStatusCode=Yt;H.default=H;const{Axios:xo,AxiosError:po,CanceledError:fo,isCancel:go,CancelToken:bo,VERSION:yo,all:vo,Cancel:jo,isAxiosError:No,spread:wo,toFormData:Co,AxiosHeaders:So,HttpStatusCode:Ao,formToJSON:Eo,getAdapter:_o,mergeConfig:Po}=H,zr="http://localhost:3003/api",ce=H.create({baseURL:zr,timeout:1e4,headers:{"Content-Type":"application/json"}});ce.interceptors.request.use(s=>{const t=localStorage.getItem("token");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));ce.interceptors.response.use(s=>s,s=>{var t,a;return((t=s.response)==null?void 0:t.status)===401?(localStorage.removeItem("token"),window.location.href="/login",R.error("Session expirée, veuillez vous reconnecter"),Promise.reject(s)):(((a=s.response)==null?void 0:a.status)>=500&&R.error("Erreur serveur, veuillez réessayer plus tard"),s.response||R.error("Erreur de connexion, vérifiez votre connexion internet"),Promise.reject(s))});const L={get:(s,t={})=>ce.get(s,t),post:(s,t={},a={})=>ce.post(s,t,a),put:(s,t={},a={})=>ce.put(s,t,a),patch:(s,t={},a={})=>ce.patch(s,t,a),delete:(s,t={})=>ce.delete(s,t)},Di=s=>{const t=new URLSearchParams;return Object.keys(s).forEach(a=>{const r=s[a];r!=null&&r!==""&&t.append(a,r)}),t.toString()},ne=async(s,t={})=>{const a=Di(t),r=a?`${s}?${a}`:s;return(await ce.get(r)).data},zs=H.create({baseURL:zr,timeout:1e4});zs.interceptors.response.use(s=>s,async s=>{const{config:t}=s;return!t||!t.retry||(t.retryCount=t.retryCount||0,t.retryCount>=t.retry)?Promise.reject(s):(t.retryCount+=1,await new Promise(a=>{setTimeout(a,t.retryDelay||1e3)}),zs(t))});const Te={admin:{id:1,email:"admin@mimaelghalia.tn",password:"admin123",first_name:"Admin",last_name:"Système",role:"admin",phone:"+216 71 000 000",profile_picture:null,is_active:!0,email_verified:!0,created_at:"2024-01-01T00:00:00Z"},staff:{id:2,email:"staff@mimaelghalia.tn",password:"staff123",first_name:"Fatma",last_name:"Ben Ali",role:"staff",phone:"+216 71 000 001",profile_picture:null,is_active:!0,email_verified:!0,created_at:"2024-01-01T00:00:00Z"},parent:{id:3,email:"parent@mimaelghalia.tn",password:"parent123",first_name:"Ahmed",last_name:"Trabelsi",role:"parent",phone:"+216 71 000 002",profile_picture:null,is_active:!0,email_verified:!0,created_at:"2024-01-01T00:00:00Z"}},Bs="demo-jwt-token-for-github-pages",Br=(s,t)=>{console.log("🔐 === DÉBUT AUTHENTIFICATION DÉMO ==="),console.log("- Email reçu:",`"${s}"`,"Type:",typeof s),console.log("- Password reçu:",`"${t}"`,"Type:",typeof t),console.log("- demoAccounts existe:",!!Te),console.log("- Nombre de comptes:",Object.keys(Te).length);const a=Object.values(Te);console.log("- Comptes disponibles:"),a.forEach((i,l)=>{console.log(`  ${l+1}. Email: "${i.email}" | Password: "${i.password}" | Role: ${i.role}`)}),console.log("- Recherche du compte...");const r=a.find(i=>{const l=i.email===s,o=i.password===t;return console.log(`  Test ${i.role}: email=${l}, password=${o}`),l&&o});if(console.log("- Compte trouvé:",r?`OUI (${r.role})`:"NON"),r){const{password:i,...l}=r;console.log("✅ AUTHENTIFICATION RÉUSSIE"),console.log("- Utilisateur:",l),console.log("- Token:",Bs);const o={success:!0,data:{user:l,token:Bs}};return console.log("- Résultat final:",o),o}console.log("❌ AUTHENTIFICATION ÉCHOUÉE");const n={success:!1,error:"Email ou mot de passe incorrect"};return console.log("- Résultat d'erreur:",n),n},qe={login:async s=>{const t=typeof window<"u"&&window.location.hostname.includes("github.io"),a=!0;return console.log("🔍 Vérification environnement:"),console.log("- Hostname:",typeof window<"u"?window.location.hostname:"undefined"),console.log("- GitHub Pages:",t),console.log("- Production:",a),console.log("- Mode:","production"),console.log("🎭 FORCE MODE DÉMO - Utilisation des comptes de démonstration"),new Promise((r,n)=>{setTimeout(()=>{console.log("🔐 Authentification avec:",s.email,s.password);const i=Br(s.email,s.password);console.log("📊 Résultat authentification:",i),i.success?r({data:i.data}):n(new Error(i.error))},1e3)})},register:async s=>await L.post("/auth/register",s),getCurrentUser:async()=>{typeof window<"u"&&window.location.hostname.includes("github.io");{if(localStorage.getItem("token")==="demo-jwt-token-for-github-pages"){const t=localStorage.getItem("demoUser");if(t)return{data:{user:JSON.parse(t)}}}throw new Error("Non authentifié")}},updateProfile:async s=>await L.put("/auth/profile",s),changePassword:async s=>await L.put("/auth/change-password",s),refreshToken:async()=>await L.post("/auth/refresh"),logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("demoUser")}},Gr=C.createContext(),W={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",REGISTER_START:"REGISTER_START",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE",UPDATE_PROFILE:"UPDATE_PROFILE",SET_LOADING:"SET_LOADING"},Ii={user:null,token:localStorage.getItem("token"),loading:!0,error:null};function Mi(s,t){switch(t.type){case W.SET_LOADING:return{...s,loading:t.payload};case W.LOGIN_START:case W.REGISTER_START:return{...s,loading:!0,error:null};case W.LOGIN_SUCCESS:case W.REGISTER_SUCCESS:return{...s,user:t.payload.user,token:t.payload.token,loading:!1,error:null};case W.LOGIN_FAILURE:case W.REGISTER_FAILURE:return{...s,user:null,token:null,loading:!1,error:t.payload};case W.LOGOUT:return{...s,user:null,token:null,loading:!1,error:null};case W.UPDATE_PROFILE:return{...s,user:{...s.user,...t.payload}};default:return s}}function $i({children:s}){const[t,a]=C.useReducer(Mi,Ii);C.useEffect(()=>{(async()=>{const h=localStorage.getItem("token");if(h)try{const f=await qe.getCurrentUser();a({type:W.LOGIN_SUCCESS,payload:{user:f,token:h}})}catch(f){console.error("Erreur lors de la vérification du token:",f),localStorage.removeItem("token"),a({type:W.LOGOUT})}a({type:W.SET_LOADING,payload:!1})})()},[]);const r=async u=>{var h,f;a({type:W.LOGIN_START});try{const x=await qe.login(u),{user:v,token:N}=x.data;return localStorage.setItem("token",N),N==="demo-jwt-token-for-github-pages"&&localStorage.setItem("demoUser",JSON.stringify(v)),a({type:W.LOGIN_SUCCESS,payload:{user:v,token:N}}),R.success("Connexion réussie"),x}catch(x){let v="Erreur de connexion";throw"http://localhost:3003/api".includes("votre-backend-url")?v=x.message||"Email ou mot de passe incorrect":v=((f=(h=x.response)==null?void 0:h.data)==null?void 0:f.error)||"Erreur de connexion, vérifiez votre connexion internet",a({type:W.LOGIN_FAILURE,payload:v}),R.error(v),x}},n=async u=>{var h,f;a({type:W.REGISTER_START});try{const x=await qe.register(u),{user:v,token:N}=x.data;return localStorage.setItem("token",N),a({type:W.REGISTER_SUCCESS,payload:{user:v,token:N}}),R.success("Inscription réussie"),x}catch(x){const v=((f=(h=x.response)==null?void 0:h.data)==null?void 0:f.error)||"Erreur d'inscription";throw a({type:W.REGISTER_FAILURE,payload:v}),R.error(v),x}},i=()=>{localStorage.removeItem("token"),a({type:W.LOGOUT}),R.success("Déconnexion réussie")},l=async u=>{var h,f;try{const x=await qe.updateProfile(u),{user:v}=x.data;return a({type:W.UPDATE_PROFILE,payload:v}),R.success("Profil mis à jour"),x}catch(x){const v=((f=(h=x.response)==null?void 0:h.data)==null?void 0:f.error)||"Erreur de mise à jour";throw R.error(v),x}},o=async u=>{var h,f;try{const x=await qe.changePassword(u);return R.success("Mot de passe modifié"),x}catch(x){const v=((f=(h=x.response)==null?void 0:h.data)==null?void 0:f.error)||"Erreur de changement de mot de passe";throw R.error(v),x}},c=u=>{var h;return((h=t.user)==null?void 0:h.role)===u},m=u=>{var h;return u.includes((h=t.user)==null?void 0:h.role)},d=()=>c("admin"),p=()=>m(["admin","staff"]),g=()=>c("parent"),b={user:t.user,token:t.token,loading:t.loading,error:t.error,isAuthenticated:!!t.user,login:r,register:n,logout:i,updateProfile:l,changePassword:o,hasRole:c,hasAnyRole:m,isAdmin:d,isStaff:p,isParent:g};return e.jsx(Gr.Provider,{value:b,children:s})}function qi(){const s=C.useContext(Gr);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}const he=qi,Hr=C.createContext(),Se={fr:{code:"fr",name:"Français",nativeName:"Français",direction:"ltr",flag:"🇫🇷"},ar:{code:"ar",name:"Arabic",nativeName:"العربية",direction:"rtl",flag:"🇲🇦"}};function Ui({children:s}){const{i18n:t}=U(),[a,r]=C.useState(()=>localStorage.getItem("language")||"fr"),n=async u=>{if(Se[u])try{await t.changeLanguage(u),r(u),localStorage.setItem("language",u),document.documentElement.lang=u,document.documentElement.dir=Se[u].direction,u==="ar"?document.title="نظام إدارة الحضانة":document.title="Système de Gestion de Crèche"}catch(h){console.error("Erreur lors du changement de langue:",h)}};C.useEffect(()=>{(async()=>{try{await t.changeLanguage(a),document.documentElement.lang=a,document.documentElement.dir=Se[a].direction}catch(h){console.error("Erreur lors de l'initialisation de la langue:",h)}})()},[t,a]);const i=()=>Se[a]||Se.fr,l=()=>i().direction==="rtl",o=()=>i().direction,c=()=>Object.values(Se),m=()=>{n(a==="fr"?"ar":"fr")},d=(u,h={})=>{if(!u)return"";if(a==="ar"&&h.arabicNumerals){const f=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];return u.replace(/\d/g,x=>f[parseInt(x)])}return u},p=(u,h="")=>{if(!u)return h;if(typeof u=="string")return u;const f=u[`${a==="fr"?"fr":"ar"}`];return f||u[`${a==="fr"?"ar":"fr"}`]||h},g=()=>{const u=o();return{"text-right":u==="rtl","text-left":u==="ltr"}},b={currentLanguage:a,language:a,direction:o(),isRTL:l(),languageInfo:i(),changeLanguage:n,toggleLanguage:m,getAvailableLanguages:c,formatText:d,getLocalizedText:p,getDirectionClasses:g,LANGUAGES:Se};return e.jsx(Hr.Provider,{value:b,children:s})}function zi(){const s=C.useContext(Hr);if(s===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return s}const I=zi,es=({className:s=""})=>{const{currentLanguage:t,toggleLanguage:a,getAvailableLanguages:r}=I();return r(),e.jsxs("button",{onClick:a,className:`flex items-center space-x-2 rtl:space-x-reverse px-3 py-2 text-sm font-medium text-gray-700 hover:text-primary-600 transition-colors duration-200 ${s}`,title:"Changer de langue / تغيير اللغة",children:[e.jsx(ca,{className:"w-4 h-4"}),e.jsx("span",{className:"uppercase font-semibold",children:t})]})},Bi=s=>{if(!s)return null;if(s.startsWith("http"))return s;const t="/creche-site/",a=s.startsWith("/")?s.slice(1):s;return`${t}${a}`},Qr={logo:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiByeD0iOCIgZmlsbD0iIzM3MzNkYyIvPgo8dGV4dCB4PSIyMCIgeT0iMjYiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5NPC90ZXh0Pgo8L3N2Zz4K",placeholder:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjZjNmNGY2Ii8+CjxwYXRoIGQ9Ik0yMDAgMTUwTDE3MCAyMDBIMjMwTDIwMCAxNTBaIiBmaWxsPSIjZDFkNWRiIi8+CjxjaXJjbGUgY3g9IjE1MCIgY3k9IjEwMCIgcj0iMjAiIGZpbGw9IiNkMWQ1ZGIiLz4KPHRleHQgeD0iMjAwIiB5PSIyNjAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzZiNzI4MCIgdGV4dC1hbmNob3I9Im1pZGRsZSI+SW1hZ2UgZGUgZMOpbW9uc3RyYXRpb248L3RleHQ+Cjwvc3ZnPgo="},Gi=({src:s,alt:t,fallback:a=Qr.placeholder,className:r="",...n})=>{const i=o=>{o.target.src!==a&&(o.target.src=a)},l=Bi(s)||a;return e.jsx("img",{src:l,alt:t,className:r,onError:i,...n})},Vr=()=>{const{t:s}=U(),{isRTL:t}=I(),{isAuthenticated:a,user:r,logout:n}=he(),i=bt(),[l,o]=C.useState(!1),c=[{name:s("nav.home"),href:"/"}],m=[];a&&m.push({name:s("nav.articles"),href:"/articles"},{name:s("nav.news"),href:"/actualites"});const d=[];a||d.push({name:s("nav.enrollment"),href:"/inscription"}),(!a||(r==null?void 0:r.role)==="parent")&&d.push({name:s("nav.contact"),href:"/contact"}),a&&((r==null?void 0:r.role)==="parent"?d.unshift({name:t?"مساحتي":"Mon Espace",href:"/parent-dashboard"}):((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="staff")&&d.unshift({name:s("nav.dashboard"),href:"/dashboard"}));const p=[...c,...m,...d],g=u=>u==="/"?i.pathname==="/":i.pathname.startsWith(u),b=()=>{n(),o(!1)};return e.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs(M,{to:"/",className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden flex items-center justify-center",children:e.jsx(Gi,{src:"images/logo_creche.jpg",alt:"Mima Elghalia",fallback:Qr.logo,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"ml-3 rtl:ml-0 rtl:mr-3",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:t?"ميما الغالية":"Mima Elghalia"}),e.jsx("div",{className:"text-xs text-gray-500",children:t?"حضانة":"Crèche"})]})]})}),e.jsx("nav",{className:"hidden md:flex space-x-8 rtl:space-x-reverse",children:p.map(u=>e.jsx(M,{to:u.href,className:`px-3 py-2 text-sm font-medium transition-colors duration-200 ${g(u.href)?"text-primary-600 border-b-2 border-primary-600":"text-gray-700 hover:text-primary-600"}`,children:u.name},u.name))}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx(es,{}),a?e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsxs(M,{to:(r==null?void 0:r.role)==="parent"?"/parent-dashboard":"/dashboard/profile",className:"flex items-center space-x-2 rtl:space-x-reverse text-gray-700 hover:text-primary-600",children:[e.jsx(User,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:r==null?void 0:r.first_name})]}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 rtl:space-x-reverse text-gray-700 hover:text-error-600",children:[e.jsx(LogOut,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:s("common.logout")})]})]}):e.jsx(M,{to:"/login",className:"btn-primary",children:s("auth.login")})]}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>o(!l),className:"p-2 rounded-md text-gray-700 hover:text-primary-600 hover:bg-gray-100",children:l?e.jsx(rs,{className:"w-6 h-6"}):e.jsx(da,{className:"w-6 h-6"})})})]})}),l&&e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t border-gray-200",children:[p.map(u=>e.jsx(M,{to:u.href,onClick:()=>o(!1),className:`block px-3 py-2 text-base font-medium transition-colors duration-200 ${g(u.href)?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50"}`,children:u.name},u.name)),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"px-3 py-2",children:e.jsx(es,{})}),a?e.jsxs("div",{className:"space-y-1",children:[e.jsxs(M,{to:(r==null?void 0:r.role)==="parent"?"/parent-dashboard":"/dashboard/profile",onClick:()=>o(!1),className:"flex items-center px-3 py-2 text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50",children:[e.jsx(User,{className:"w-5 h-5 mr-3 rtl:mr-0 rtl:ml-3"}),r==null?void 0:r.first_name]}),e.jsxs("button",{onClick:b,className:"flex items-center w-full px-3 py-2 text-base font-medium text-gray-700 hover:text-error-600 hover:bg-gray-50",children:[e.jsx(LogOut,{className:"w-5 h-5 mr-3 rtl:mr-0 rtl:ml-3"}),s("common.logout")]})]}):e.jsx("div",{className:"px-3 py-2",children:e.jsx(M,{to:"/login",onClick:()=>o(!1),className:"btn-primary w-full text-center",children:s("auth.login")})})]})]})})]})},Hi=()=>{const{t:s}=U(),{isRTL:t}=I(),a=[{name:s("nav.home"),href:"/"},{name:s("nav.articles"),href:"/articles"},{name:s("nav.news"),href:"/actualites"},{name:s("nav.enrollment"),href:"/inscription"},{name:s("nav.contact"),href:"/contact"}],r=[{icon:Bt,text:t?"8 نهج بنزرت، مدنين 4100، تونس":"8 Rue Bizerte, Medenine 4100, Tunisie"},{icon:Je,text:"+216 25 95 35 32"},{icon:yt,text:"contact@mimaelghalia.tn"},{icon:je,text:t?"الإثنين - الجمعة: 7:00 - 18:00، السبت: 8:00 - 12:00":"Lun - Ven: 7h00 - 18h00, Sam: 8h00 - 12h00"}];return e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"M"})}),e.jsx("span",{className:"ml-2 rtl:ml-0 rtl:mr-2 text-xl font-bold",children:t?"ميما الغالية":"Mima Elghalia"})]}),e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:t?"نوفر بيئة آمنة ومحبة لنمو وتطور أطفالكم في جو من الأمان والراحة.":"Nous offrons un environnement sûr et bienveillant pour la croissance et le développement de vos enfants."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t?"روابط سريعة":"Liens rapides"}),e.jsx("ul",{className:"space-y-2",children:a.map(n=>e.jsx("li",{children:e.jsx(M,{to:n.href,className:"text-gray-300 hover:text-white transition-colors duration-200 text-sm",children:n.name})},n.name))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t?"معلومات الاتصال":"Contact"}),e.jsx("ul",{className:"space-y-3",children:r.map((n,i)=>e.jsxs("li",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx(n.icon,{className:"w-4 h-4 text-primary-400 flex-shrink-0"}),e.jsx("span",{className:"text-gray-300 text-sm",children:n.text})]},i))})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:t?`© ${new Date().getFullYear()} ميما الغالية. جميع الحقوق محفوظة.`:`© ${new Date().getFullYear()} Mima Elghalia. Tous droits réservés.`}),e.jsxs("div",{className:"flex space-x-6 rtl:space-x-reverse",children:[e.jsx(M,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors duration-200",children:t?"سياسة الخصوصية":"Politique de confidentialité"}),e.jsx(M,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors duration-200",children:t?"شروط الاستخدام":"Conditions d'utilisation"})]})]})})]})})},Qi=()=>{const{t:s}=U(),{isRTL:t}=I(),{isAuthenticated:a}=he();return e.jsxs("div",{className:`min-h-screen flex flex-col ${t?"font-arabic":"font-sans"}`,children:[e.jsx(Vr,{}),e.jsx("main",{className:"flex-1",children:e.jsx(Zs,{})}),e.jsx(Hi,{})]})},Vi=()=>{var l;const{t:s}=U(),{user:t}=he(),a=bt(),n=(()=>{const o=[{name:s("nav.dashboard"),href:"/dashboard",icon:Ys,roles:["admin","staff","parent"]}],c=[{name:s("nav.children"),href:"/dashboard/children",icon:Ne,roles:["admin","staff"]},{name:s("nav.enrollments"),href:"/dashboard/enrollments",icon:_e,roles:["admin","staff"]},{name:s("nav.attendance"),href:"/dashboard/attendance",icon:de,roles:["admin","staff"]},{name:s("nav.articlesManagement"),href:"/dashboard/articles",icon:Qe,roles:["admin","staff"]},{name:s("nav.newsManagement"),href:"/dashboard/news",icon:er,roles:["admin","staff"]},{name:"Médias",href:"/dashboard/media",icon:tr,roles:["admin","staff"]}],m=[{name:s("nav.users"),href:"/dashboard/users",icon:te,roles:["admin"]},{name:"Rapports",href:"/dashboard/reports",icon:Gt,roles:["admin"]},{name:"Paramètres",href:"/dashboard/settings",icon:sr,roles:["admin"]}];let d=[...o];return(t==null?void 0:t.role)==="admin"?d=[...d,...m,...c]:(t==null?void 0:t.role)==="staff"&&(d=[...d,...c]),d.filter(p=>p.roles.includes(t==null?void 0:t.role))})(),i=o=>o==="/dashboard"?a.pathname==="/dashboard":a.pathname.startsWith(o);return e.jsxs("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:[e.jsx("nav",{className:"mt-8 px-4",children:e.jsx("ul",{className:"space-y-2",children:n.map(o=>{const c=o.icon;return e.jsx("li",{children:e.jsxs(M,{to:o.href,className:`${i(o.href)?"nav-link-active":"nav-link-inactive"} group flex items-center px-3 py-2 text-sm font-medium rounded-md`,children:[e.jsx(c,{className:`${i(o.href)?"text-primary-600":"text-gray-400 group-hover:text-gray-500"} mr-3 rtl:mr-0 rtl:ml-3 flex-shrink-0 h-5 w-5`}),o.name]})},o.name)})})}),e.jsx("div",{className:"absolute bottom-0 w-64 p-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 font-semibold text-sm",children:(l=t==null?void 0:t.first_name)==null?void 0:l.charAt(0)})}),e.jsxs("div",{className:"ml-3 rtl:ml-0 rtl:mr-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t==null?void 0:t.first_name}),e.jsx("p",{className:"text-xs text-gray-500",children:s(`roles.${t==null?void 0:t.role}`)})]})]})})]})},Ki=()=>{const{t:s}=U(),{isRTL:t}=I();return e.jsxs("div",{className:`min-h-screen bg-gray-50 ${t?"font-arabic":"font-sans"}`,children:[e.jsx(Vr,{}),e.jsxs("div",{className:"flex",children:[e.jsx(Vi,{}),e.jsx("main",{className:"flex-1 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(Zs,{})})})]})]})},Wi=()=>{const{t:s}=U(),{isRTL:t,getLocalizedText:a}=I(),{user:r,isAuthenticated:n}=he(),i=[{icon:ms,title:s("home.features.education.title"),description:s("home.features.education.description"),color:"text-blue-600"},{icon:Ve,title:s("home.features.care.title"),description:s("home.features.care.description"),color:"text-pink-600"},{icon:ct,title:s("home.features.safety.title"),description:s("home.features.safety.description"),color:"text-green-600"}],l=[{number:"30",label:t?"مكان متاح":"Places disponibles"},{number:"2025",label:t?"سنة الافتتاح":"Année d'ouverture"},{number:"4",label:t?"موظف مؤهل":"Personnel qualifié"},{number:"100%",label:t?"معايير الأمان":"Normes de sécurité"}],o=[{icon:Ne,title:t?"رعاية الأطفال":"Garde d'enfants",description:t?"رعاية شاملة للأطفال من عمر شهرين إلى 3 سنوات مع فريق مؤهل ومتخصص":"Garde complète pour enfants de 2 mois à 3 ans avec une équipe qualifiée et spécialisée",features:[t?"إشراف طبي مستمر":"Surveillance médicale continue",t?"أنشطة تعليمية متنوعة":"Activités éducatives variées",t?"بيئة آمنة ومحفزة":"Environnement sûr et stimulant"],color:"from-pink-500 to-rose-500",bgColor:"bg-pink-50",iconColor:"text-pink-600"},{icon:vt,title:t?"مساعدة في تناول الطعام":"Assistance aux repas",description:t?"نساعد الأطفال على تناول وجباتهم التي يحضرونها من المنزل في بيئة نظيفة وآمنة مع تعليم آداب الطعام":"Nous aidons les enfants à prendre leurs repas apportés de la maison dans un environnement propre et sûr tout en enseignant les bonnes manières à table",features:[t?"مساعدة في تناول الطعام":"Aide pour manger",t?"تعليم آداب المائدة":"Apprentissage des bonnes manières",t?"بيئة نظيفة وآمنة":"Environnement propre et sûr"],color:"from-green-500 to-emerald-500",bgColor:"bg-green-50",iconColor:"text-green-600"},{icon:ar,title:t?"الأنشطة التعليمية":"Activités éducatives",description:t?"برامج تعليمية متطورة تساعد على تنمية المهارات الحركية والذهنية والاجتماعية":"Programmes éducatifs avancés pour développer les compétences motrices, mentales et sociales",features:[t?"ألعاب تفاعلية ذكية":"Jeux interactifs intelligents",t?"ورش فنية وإبداعية":"Ateliers artistiques et créatifs",t?"أنشطة رياضية مناسبة":"Activités sportives adaptées"],color:"from-blue-500 to-indigo-500",bgColor:"bg-blue-50",iconColor:"text-blue-600"}];return e.jsxs("div",{className:"min-h-screen",children:[e.jsxs("section",{className:"relative min-h-screen flex items-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-pink-200/30 to-yellow-200/30 rounded-full blur-3xl animate-pulse delay-1000"})]}),e.jsx("div",{className:"relative w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[e.jsxs("div",{className:"space-y-8 text-center lg:text-left",children:[e.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-white/90 backdrop-blur-md rounded-full shadow-xl border border-white/20 hover:shadow-2xl transition-all duration-300",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full flex items-center justify-center mr-3",children:e.jsx(hs,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r from-gray-700 to-gray-900 bg-clip-text text-transparent",children:t?"الحضانة الأولى في المنطقة":"Crèche #1 dans la région"})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold leading-tight",children:[e.jsx("span",{className:"inline-block bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent animate-pulse",children:t?"مستقبل":"L'avenir"}),e.jsx("br",{}),e.jsx("span",{className:"inline-block text-gray-900 hover:scale-105 transition-transform duration-300",children:t?"أطفالكم":"de vos enfants"}),e.jsx("br",{}),e.jsx("span",{className:"inline-block bg-gradient-to-r from-pink-500 to-rose-500 bg-clip-text text-transparent hover:from-rose-500 hover:to-pink-500 transition-all duration-300",children:t?"يبدأ هنا":"commence ici"})]})}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-600 leading-relaxed max-w-2xl",children:t?"بيئة آمنة ومحفزة للنمو والتعلم واللعب. نحن نهتم بكل طفل كأنه طفلنا.":"Un environnement sûr et stimulant pour grandir, apprendre et jouer. Nous prenons soin de chaque enfant comme s'il était le nôtre."}),e.jsx("div",{className:"flex flex-wrap gap-4 justify-center lg:justify-start",children:[{icon:se,text:t?"بيئة آمنة 100%":"Environnement 100% sécurisé",color:"text-green-600",bg:"bg-green-50"},{icon:Ve,text:t?"رعاية شخصية":"Soins personnalisés",color:"text-pink-600",bg:"bg-pink-50"},{icon:ms,text:t?"تعليم مبكر":"Éducation précoce",color:"text-blue-600",bg:"bg-blue-50"}].map((c,m)=>e.jsxs("div",{className:`flex items-center space-x-2 rtl:space-x-reverse ${c.bg} backdrop-blur-sm px-5 py-3 rounded-full border border-white/30 shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300`,children:[e.jsx(c.icon,{className:`w-5 h-5 ${c.color}`}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:c.text})]},m))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center lg:justify-start",children:[n&&(r==null?void 0:r.role)==="parent"?e.jsxs(M,{to:"/parent-dashboard",className:"group relative bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 text-white px-10 py-5 rounded-2xl font-bold text-lg shadow-2xl hover:shadow-3xl transform hover:scale-105 hover:-translate-y-1 transition-all duration-500 inline-flex items-center justify-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-teal-600 via-emerald-600 to-green-600 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx(we,{className:`relative z-10 w-6 h-6 ${t?"ml-3":"mr-3"}`}),e.jsx("span",{className:"relative z-10",children:t?"مساحتي الشخصية":"Mon Espace"})]}):e.jsxs(M,{to:"/inscription",className:"group relative bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 text-white px-10 py-5 rounded-2xl font-bold text-lg shadow-2xl hover:shadow-3xl transform hover:scale-105 hover:-translate-y-1 transition-all duration-500 inline-flex items-center justify-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-600 via-purple-600 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("span",{className:"relative z-10",children:t?"سجل الآن":"Inscription gratuite"}),e.jsx(Ke,{className:`relative z-10 w-6 h-6 ${t?"mr-3 rotate-180":"ml-3"} group-hover:translate-x-2 transition-transform duration-300`})]}),n&&((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="staff")?e.jsxs(M,{to:"/dashboard",className:"group bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-10 py-5 rounded-2xl font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 hover:-translate-y-1 transition-all duration-500 inline-flex items-center justify-center border border-white/50",children:[e.jsx(Settings,{className:"w-6 h-6 mr-3"}),t?"لوحة التحكم":"Tableau de bord"]}):e.jsxs(M,{to:"/visite-virtuelle",className:"group bg-white/90 backdrop-blur-md text-gray-700 px-10 py-5 rounded-2xl font-bold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 hover:-translate-y-1 transition-all duration-500 inline-flex items-center justify-center border border-white/50 hover:border-blue-200",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mr-3",children:e.jsx(rr,{className:"w-4 h-4 text-white"})}),t?"جولة افتراضية":"Visite virtuelle"]})]})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-blue-200 via-purple-200 to-pink-200 rounded-3xl p-8 shadow-2xl",children:e.jsx("div",{className:"w-full h-full bg-white rounded-2xl overflow-hidden shadow-xl",children:e.jsx("img",{src:"/creche-site/images/affiche.jpg",alt:"Enfants heureux à la crèche",className:"w-full h-full object-cover"})})}),e.jsx("div",{className:"absolute -top-6 -left-6 bg-white rounded-2xl p-4 shadow-xl animate-float",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(hs,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:"5.0"}),e.jsx("div",{className:"text-sm text-gray-600",children:t?"تقييم ممتاز":"Excellent"})]})]})}),e.jsx("div",{className:"absolute -bottom-6 -right-6 bg-white rounded-2xl p-4 shadow-xl animate-float-delayed",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(ct,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-gray-900",children:t?"آمن":"Sécurisé"}),e.jsx("div",{className:"text-sm text-gray-600",children:t?"24/7":"24h/24"})]})]})})]})})]})})]}),e.jsx("section",{className:"section-padding bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:s("home.features.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:t?"نقدم خدمات شاملة لضمان نمو صحي وسعيد لأطفالكم":"Nous offrons des services complets pour assurer un développement sain et heureux de vos enfants"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((c,m)=>{const d=c.icon;return e.jsx("div",{className:"card hover:shadow-lg transition-shadow duration-300",children:e.jsxs("div",{className:"card-body text-center space-y-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 ${c.color}`,children:e.jsx(d,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:c.title}),e.jsx("p",{className:"text-gray-600",children:c.description})]})},m)})})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:l.map((c,m)=>e.jsx("div",{className:"text-center group",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl hover:shadow-2xl transform hover:scale-105 hover:-translate-y-2 transition-all duration-500 border border-white/50",children:[e.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-3 group-hover:scale-110 transition-transform duration-300",children:c.number}),e.jsx("div",{className:"text-gray-700 text-sm md:text-base font-semibold",children:c.label})]})},m))})})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-20",children:[e.jsx("div",{className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full mb-6",children:e.jsx("span",{className:"text-sm font-semibold text-blue-800",children:t?"نقاط قوتنا":"Nos Points Forts"})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:e.jsx("span",{className:"bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent",children:t?"ما يميزنا عن الآخرين":"Ce qui nous distingue"})}),e.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed",children:t?"نقدم مجموعة شاملة من الخدمات المصممة خصيصاً لضمان نمو وتطور أطفالكم في بيئة آمنة ومحبة مع أحدث المعايير العالمية":"Nous offrons une gamme complète de services conçus spécialement pour assurer la croissance et le développement de vos enfants dans un environnement sûr et aimant avec les dernières normes internationales"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:o.map((c,m)=>{const d=c.icon;return e.jsxs("div",{className:"group relative bg-white rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden border border-gray-100 hover:border-gray-200 transform hover:scale-105 hover:-translate-y-2",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.color} opacity-0 group-hover:opacity-10 transition-opacity duration-500`}),e.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 rounded-bl-3xl opacity-50"}),e.jsxs("div",{className:"relative p-10",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 rounded-3xl ${c.bgColor} mb-8 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 shadow-lg`,children:e.jsx(d,{className:`w-10 h-10 ${c.iconColor}`})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4 group-hover:text-gray-800 transition-colors",children:c.title}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:c.description}),e.jsx("ul",{className:"space-y-3",children:c.features.map((p,g)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(se,{className:`w-4 h-4 ${c.iconColor} mr-3 rtl:ml-3 rtl:mr-0 flex-shrink-0`}),e.jsx("span",{children:p})]},g))}),e.jsx("div",{className:"mt-8",children:e.jsxs(M,{to:"/contact",className:`inline-flex items-center text-sm font-semibold ${c.iconColor} hover:underline group-hover:translate-x-1 rtl:group-hover:-translate-x-1 transition-transform duration-300`,children:[t?"اعرف المزيد":"En savoir plus",e.jsx(Ke,{className:`w-4 h-4 ml-2 rtl:ml-0 rtl:mr-2 ${t?"rotate-180":""}`})]})})]}),e.jsx("div",{className:`absolute top-0 right-0 w-20 h-20 bg-gradient-to-br ${c.color} opacity-10 rounded-bl-full transform translate-x-6 -translate-y-6`})]},m)})})]})}),e.jsx("section",{className:"section-padding bg-primary-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:t?"هل أنت مستعد لبدء رحلة طفلك معنا؟":"Prêt à commencer l'aventure de votre enfant avec nous ?"}),e.jsx("p",{className:"text-xl text-primary-100 mb-8",children:t?"انضموا إلى عائلتنا الكبيرة واكتشفوا الفرق":"Rejoignez notre grande famille et découvrez la différence"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(M,{to:"/inscription",className:"btn bg-white text-primary-600 hover:bg-gray-50 btn-lg",children:s("home.cta")}),e.jsx(M,{to:"/contact",className:"btn border-2 border-white text-white hover:bg-white hover:text-primary-600 btn-lg",children:t?"تواصل معنا":"Nous contacter"})]})]})})]})},Kr={getArticles:async(s={})=>await ne("/articles",s),getArticleById:async s=>(await L.get(`/articles/${s}`)).data,createArticle:async s=>(await L.post("/articles",s)).data,updateArticle:async(s,t)=>(await L.put(`/articles/${s}`,t)).data,deleteArticle:async s=>(await L.delete(`/articles/${s}`)).data};function Wr(s){var t,a,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var n=s.length;for(t=0;t<n;t++)s[t]&&(a=Wr(s[t]))&&(r&&(r+=" "),r+=a)}else for(a in s)s[a]&&(r&&(r+=" "),r+=a);return r}function Ji(){for(var s,t,a=0,r="",n=arguments.length;a<n;a++)(s=arguments[a])&&(t=Wr(s))&&(r&&(r+=" "),r+=t);return r}const ds="-",Zi=s=>{const t=Yi(s),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:l=>{const o=l.split(ds);return o[0]===""&&o.length!==1&&o.shift(),Jr(o,t)||Xi(l)},getConflictingClassGroupIds:(l,o)=>{const c=a[l]||[];return o&&r[l]?[...c,...r[l]]:c}}},Jr=(s,t)=>{var l;if(s.length===0)return t.classGroupId;const a=s[0],r=t.nextPart.get(a),n=r?Jr(s.slice(1),r):void 0;if(n)return n;if(t.validators.length===0)return;const i=s.join(ds);return(l=t.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},Gs=/^\[(.+)\]$/,Xi=s=>{if(Gs.test(s)){const t=Gs.exec(s)[1],a=t==null?void 0:t.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},Yi=s=>{const{theme:t,prefix:a}=s,r={nextPart:new Map,validators:[]};return tl(Object.entries(s.classGroups),a).forEach(([i,l])=>{ts(l,r,i,t)}),r},ts=(s,t,a,r)=>{s.forEach(n=>{if(typeof n=="string"){const i=n===""?t:Hs(t,n);i.classGroupId=a;return}if(typeof n=="function"){if(el(n)){ts(n(r),t,a,r);return}t.validators.push({validator:n,classGroupId:a});return}Object.entries(n).forEach(([i,l])=>{ts(l,Hs(t,i),a,r)})})},Hs=(s,t)=>{let a=s;return t.split(ds).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},el=s=>s.isThemeGetter,tl=(s,t)=>t?s.map(([a,r])=>{const n=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[t+l,o])):i);return[a,n]}):s,sl=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,r=new Map;const n=(i,l)=>{a.set(i,l),t++,t>s&&(t=0,r=a,a=new Map)};return{get(i){let l=a.get(i);if(l!==void 0)return l;if((l=r.get(i))!==void 0)return n(i,l),l},set(i,l){a.has(i)?a.set(i,l):n(i,l)}}},Zr="!",rl=s=>{const{separator:t,experimentalParseClassName:a}=s,r=t.length===1,n=t[0],i=t.length,l=o=>{const c=[];let m=0,d=0,p;for(let f=0;f<o.length;f++){let x=o[f];if(m===0){if(x===n&&(r||o.slice(f,f+i)===t)){c.push(o.slice(d,f)),d=f+i;continue}if(x==="/"){p=f;continue}}x==="["?m++:x==="]"&&m--}const g=c.length===0?o:o.substring(d),b=g.startsWith(Zr),u=b?g.substring(1):g,h=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:u,maybePostfixModifierPosition:h}};return a?o=>a({className:o,parseClassName:l}):l},al=s=>{if(s.length<=1)return s;const t=[];let a=[];return s.forEach(r=>{r[0]==="["?(t.push(...a.sort(),r),a=[]):a.push(r)}),t.push(...a.sort()),t},nl=s=>({cache:sl(s.cacheSize),parseClassName:rl(s),...Zi(s)}),il=/\s+/,ll=(s,t)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:n}=t,i=[],l=s.trim().split(il);let o="";for(let c=l.length-1;c>=0;c-=1){const m=l[c],{modifiers:d,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:b}=a(m);let u=!!b,h=r(u?g.substring(0,b):g);if(!h){if(!u){o=m+(o.length>0?" "+o:o);continue}if(h=r(g),!h){o=m+(o.length>0?" "+o:o);continue}u=!1}const f=al(d).join(":"),x=p?f+Zr:f,v=x+h;if(i.includes(v))continue;i.push(v);const N=n(h,u);for(let w=0;w<N.length;++w){const _=N[w];i.push(x+_)}o=m+(o.length>0?" "+o:o)}return o};function ol(){let s=0,t,a,r="";for(;s<arguments.length;)(t=arguments[s++])&&(a=Xr(t))&&(r&&(r+=" "),r+=a);return r}const Xr=s=>{if(typeof s=="string")return s;let t,a="";for(let r=0;r<s.length;r++)s[r]&&(t=Xr(s[r]))&&(a&&(a+=" "),a+=t);return a};function cl(s,...t){let a,r,n,i=l;function l(c){const m=t.reduce((d,p)=>p(d),s());return a=nl(m),r=a.cache.get,n=a.cache.set,i=o,o(c)}function o(c){const m=r(c);if(m)return m;const d=ll(c,a);return n(c,d),d}return function(){return i(ol.apply(null,arguments))}}const z=s=>{const t=a=>a[s]||[];return t.isThemeGetter=!0,t},Yr=/^\[(?:([a-z-]+):)?(.+)\]$/i,dl=/^\d+\/\d+$/,ul=new Set(["px","full","screen"]),ml=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pe=s=>Fe(s)||ul.has(s)||dl.test(s),be=s=>Me(s,"length",Cl),Fe=s=>!!s&&!Number.isNaN(Number(s)),qt=s=>Me(s,"number",Fe),Ue=s=>!!s&&Number.isInteger(Number(s)),gl=s=>s.endsWith("%")&&Fe(s.slice(0,-1)),k=s=>Yr.test(s),ye=s=>ml.test(s),bl=new Set(["length","size","percentage"]),yl=s=>Me(s,bl,ea),vl=s=>Me(s,"position",ea),jl=new Set(["image","url"]),Nl=s=>Me(s,jl,Al),wl=s=>Me(s,"",Sl),ze=()=>!0,Me=(s,t,a)=>{const r=Yr.exec(s);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):a(r[2]):!1},Cl=s=>hl.test(s)&&!xl.test(s),ea=()=>!1,Sl=s=>pl.test(s),Al=s=>fl.test(s),El=()=>{const s=z("colors"),t=z("spacing"),a=z("blur"),r=z("brightness"),n=z("borderColor"),i=z("borderRadius"),l=z("borderSpacing"),o=z("borderWidth"),c=z("contrast"),m=z("grayscale"),d=z("hueRotate"),p=z("invert"),g=z("gap"),b=z("gradientColorStops"),u=z("gradientColorStopPositions"),h=z("inset"),f=z("margin"),x=z("opacity"),v=z("padding"),N=z("saturate"),w=z("scale"),_=z("sepia"),P=z("skew"),A=z("space"),y=z("translate"),E=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",k,t],S=()=>[k,t],D=()=>["",pe,be],F=()=>["auto",Fe,k],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",k],xe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Fe,k];return{cacheSize:500,separator:":",theme:{colors:[ze],spacing:[pe,be],blur:["none","",ye,k],brightness:G(),borderColor:[s],borderRadius:["none","","full",ye,k],borderSpacing:S(),borderWidth:D(),contrast:G(),grayscale:Z(),hueRotate:G(),invert:Z(),gap:S(),gradientColorStops:[s],gradientColorStopPositions:[gl,be],inset:K(),margin:K(),opacity:G(),padding:S(),saturate:G(),scale:G(),sepia:Z(),skew:G(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",k]}],container:["container"],columns:[{columns:[ye]}],"break-after":[{"break-after":xe()}],"break-before":[{"break-before":xe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),k]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ue,k]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",k]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Ue,k]}],"grid-cols":[{"grid-cols":[ze]}],"col-start-end":[{col:["auto",{span:["full",Ue,k]},k]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[ze]}],"row-start-end":[{row:["auto",{span:[Ue,k]},k]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",k]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",k]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",k,t]}],"min-w":[{"min-w":[k,t,"min","max","fit"]}],"max-w":[{"max-w":[k,t,"none","full","min","max","fit","prose",{screen:[ye]},ye]}],h:[{h:[k,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[k,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[k,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[k,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ye,be]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qt]}],"font-family":[{font:[ze]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",k]}],"line-clamp":[{"line-clamp":["none",Fe,qt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pe,k]}],"list-image":[{"list-image":["none",k]}],"list-style-type":[{list:["none","disc","decimal",k]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pe,be]}],"underline-offset":[{"underline-offset":["auto",pe,k]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",k]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",k]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),vl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yl]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Nl]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[u]}],"gradient-via-pos":[{via:[u]}],"gradient-to-pos":[{to:[u]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:q()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[pe,k]}],"outline-w":[{outline:[pe,be]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[pe,be]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",ye,wl]}],"shadow-color":[{shadow:[ze]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ye,k]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[N]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",k]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",k]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",k]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ue,k]}],"translate-x":[{"translate-x":[y]}],"translate-y":[{"translate-y":[y]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",k]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",k]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",k]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[pe,be,qt]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_l=cl(El);function Pl(...s){return _l(Ji(s))}const Q=({size:s="md",color:t="primary",className:a,...r})=>{const n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={primary:"border-primary-600",secondary:"border-secondary-600",white:"border-white",gray:"border-gray-600"};return e.jsx("div",{className:Pl("loading-spinner",n[s],i[t],a),...r})},ta=({id:s,title:t,description:a,image:r,author:n,date:i,type:l="article",status:o="published",views:c=0,className:m=""})=>{const{isRTL:d}=I(),g=(()=>{switch(l){case"news":return{label:d?"خبر":"Actualité",color:"bg-green-100 text-green-800",link:`/actualites/${s}`};default:return{label:d?"مقال":"Article",color:"bg-blue-100 text-blue-800",link:`/articles/${s}`}}})(),b=h=>new Date(h).toLocaleDateString(d?"ar-TN":"fr-TN",{year:"numeric",month:"long",day:"numeric"}),u=(h,f=120)=>h?h.length<=f?h:h.substring(0,f)+"...":"";return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden border border-gray-100 group ${m}`,children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[r?e.jsx("img",{src:r,alt:t,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center",children:e.jsx("div",{className:"text-primary-400 text-6xl font-bold",children:l==="news"?"📰":"📄"})}),e.jsx("div",{className:"absolute top-4 left-4 rtl:left-auto rtl:right-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${g.color}`,children:g.label})}),o==="draft"&&e.jsx("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:d?"مسودة":"Brouillon"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-primary-600 transition-colors",children:e.jsx(M,{to:g.link,className:"hover:underline",children:t})}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:u(a)}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[n&&e.jsxs("div",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:n})]}),i&&e.jsxs("div",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:b(i)})]})]}),c>0&&e.jsxs("div",{className:"flex items-center space-x-1 rtl:space-x-reverse",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:c})]})]}),e.jsxs(M,{to:g.link,className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium text-sm group-hover:translate-x-1 rtl:group-hover:-translate-x-1 transition-all duration-200",children:[d?"اقرأ المزيد":"Lire la suite",e.jsx(Ke,{className:`w-4 h-4 ml-1 rtl:ml-0 rtl:mr-1 ${d?"rotate-180":""}`})]})]})]})},Rl=()=>{const{t:s}=U(),{isRTL:t,getLocalizedText:a}=I(),[r,n]=C.useState([]),[i,l]=C.useState(!0),[o,c]=C.useState(""),[m,d]=C.useState(1),[p,g]=C.useState(1),[b,u]=C.useState("grid");C.useEffect(()=>{h()},[m,o]);const h=async()=>{var x;try{l(!0);const v={page:m,limit:6,status:"published"};o&&(v.search=o);const N=await Kr.getArticles(v);n(N.articles||[]),g(((x=N.pagination)==null?void 0:x.pages)||1)}catch(v){console.error("Erreur lors du chargement des articles:",v),n([])}finally{l(!1)}},f=x=>{x.preventDefault(),d(1),h()};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:s("nav.articles")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:t?"اكتشفوا مقالاتنا التعليمية والنصائح المفيدة لتربية الأطفال":"Découvrez nos articles éducatifs et conseils utiles pour l'éducation des enfants"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsx("form",{onSubmit:f,className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:t?"البحث في المقالات...":"Rechercher dans les articles...",value:o,onChange:x=>c(x.target.value),className:"w-full pl-10 rtl:pl-4 rtl:pr-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx(fe,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t?"عرض:":"Affichage :"}),e.jsx("button",{onClick:()=>u("grid"),className:`p-2 rounded-lg transition-colors ${b==="grid"?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(as,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>u("list"),className:`p-2 rounded-lg transition-colors ${b==="list"?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(ns,{className:"w-5 h-5"})})]})]})}),i?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Q,{size:"lg"})}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(fe,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"لا توجد مقالات":"Aucun article trouvé"}),e.jsx("p",{className:"text-gray-500",children:t?"لم نجد أي مقالات تطابق بحثك":"Nous n'avons trouvé aucun article correspondant à votre recherche"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mb-8 ${b==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"}`,children:r.map(x=>e.jsx(ta,{id:x.id,title:a({fr:x.title_fr,ar:x.title_ar}),description:a({fr:x.description_fr||x.content_fr,ar:x.description_ar||x.content_ar}),image:x.image_url,author:`${x.author_first_name||""} ${x.author_last_name||""}`.trim(),date:x.published_at||x.created_at,type:"article",status:x.status,views:x.views||0,className:b==="list"?"flex flex-col md:flex-row md:items-center":""},x.id))}),p>1&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("nav",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>d(x=>Math.max(x-1,1)),disabled:m===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s("common.previous")}),[...Array(p)].map((x,v)=>{const N=v+1;return e.jsx("button",{onClick:()=>d(N),className:`px-3 py-2 text-sm font-medium rounded-md ${m===N?"bg-primary-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:N},N)}),e.jsx("button",{onClick:()=>d(x=>Math.min(x+1,p)),disabled:m===p,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s("common.next")})]})})]})]})]})},Tl=()=>{const{t:s}=U(),{isRTL:t,getLocalizedText:a}=I(),{id:r}=na(),[n,i]=C.useState(null),[l,o]=C.useState(!0),[c,m]=C.useState(null);C.useEffect(()=>{d()},[r]);const d=async()=>{var b;try{o(!0),m(null);const u=await Kr.getArticleById(r);i(u.article)}catch(u){console.error("Erreur lors du chargement de l'article:",u),m(((b=u.response)==null?void 0:b.status)===404?"Article non trouvé":"Erreur de chargement")}finally{o(!1)}},p=b=>new Date(b).toLocaleDateString(t?"ar-MA":"fr-FR",{year:"numeric",month:"long",day:"numeric"}),g=async()=>{if(navigator.share)try{await navigator.share({title:a({fr:n.title_fr,ar:n.title_ar}),url:window.location.href})}catch{console.log("Partage annulé")}else navigator.clipboard.writeText(window.location.href)};return l?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Q,{size:"lg"})}):c||!n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),e.jsx("p",{className:"text-gray-600 mb-8",children:c||(t?"المقال غير موجود":"Article non trouvé")}),e.jsx(M,{to:"/articles",className:"btn-primary",children:t?"العودة إلى المقالات":"Retour aux articles"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs(M,{to:"/articles",className:"inline-flex items-center text-primary-600 hover:text-primary-700",children:[e.jsx(dt,{className:`w-4 h-4 ${t?"ml-2 rotate-180":"mr-2"}`}),t?"العودة إلى المقالات":"Retour aux articles"]})})}),e.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6 leading-tight",children:a({fr:n.title_fr,ar:n.title_ar})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-6 rtl:space-x-reverse text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2 rtl:mr-0 rtl:ml-2"}),e.jsx("span",{children:p(n.published_at||n.created_at)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"w-5 h-5 mr-2 rtl:mr-0 rtl:ml-2"}),e.jsxs("span",{children:[n.author_first_name," ",n.author_last_name]})]})]}),e.jsxs("button",{onClick:g,className:"flex items-center space-x-2 rtl:space-x-reverse text-gray-500 hover:text-primary-600 transition-colors",children:[e.jsx(xs,{className:"w-5 h-5"}),e.jsx("span",{children:t?"مشاركة":"Partager"})]})]})]}),n.image_url&&e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:n.image_url,alt:a({fr:n.title_fr,ar:n.title_ar}),className:"w-full h-64 md:h-96 object-cover rounded-lg shadow-lg"})}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{className:`text-gray-700 leading-relaxed ${t?"text-right":"text-left"}`,dangerouslySetInnerHTML:{__html:a({fr:n.content_fr,ar:n.content_ar}).replace(/\n/g,"<br>")}})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs(M,{to:"/articles",className:"btn-outline-primary",children:[e.jsx(dt,{className:`w-4 h-4 ${t?"ml-2 rotate-180":"mr-2"}`}),t?"المزيد من المقالات":"Plus d'articles"]}),e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx("span",{className:"text-gray-500",children:t?"شارك هذا المقال:":"Partager cet article :"}),e.jsx("button",{onClick:g,className:"btn-primary btn-sm",children:e.jsx(xs,{className:"w-4 h-4"})})]})]})})]}),e.jsx("section",{className:"bg-white py-12 mt-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:t?"مقالات ذات صلة":"Articles similaires"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(b=>e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"aspect-video bg-gray-200 rounded-t-lg"}),e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:t?`مقال مشابه ${b}`:`Article similaire ${b}`}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:t?"وصف مختصر للمقال المشابه...":"Description courte de l'article similaire..."}),e.jsx(M,{to:`/articles/${b}`,className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:s("articles.readMore")})]})]},b))})]})})]})},kl={getNews:async(s={})=>await ne("/news",s),getNewsById:async s=>(await L.get(`/news/${s}`)).data,createNews:async s=>(await L.post("/news",s)).data,updateNews:async(s,t)=>(await L.put(`/news/${s}`,t)).data,deleteNews:async s=>(await L.delete(`/news/${s}`)).data},Ol=()=>{const{t:s}=U(),{isRTL:t,getLocalizedText:a}=I(),[r,n]=C.useState([]),[i,l]=C.useState(!0),[o,c]=C.useState("all"),[m,d]=C.useState(1),[p,g]=C.useState(1),[b,u]=C.useState("grid");C.useEffect(()=>{h()},[m,o]);const h=async()=>{var x;try{l(!0);const v={page:m,limit:8,status:"published"};o==="upcoming"&&(v.upcoming=!0);const N=await kl.getNews(v);n(N.news||[]),g(((x=N.pagination)==null?void 0:x.pages)||1)}catch(v){console.error("Erreur lors du chargement des actualités:",v),n([])}finally{l(!1)}},f=x=>{c(x),d(1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:s("nav.news")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:t?"ابقوا على اطلاع بأحدث الأخبار والفعاليات في حضانتنا":"Restez informés des dernières actualités et événements de notre crèche"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(ua,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t?"تصفية:":"Filtrer :"})]}),e.jsxs("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>f("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="all"?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:t?"الكل":"Toutes"}),e.jsx("button",{onClick:()=>f("upcoming"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="upcoming"?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:s("news.upcoming")}),e.jsx("button",{onClick:()=>f("past"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="past"?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:s("news.past")})]})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 rtl:space-x-reverse",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t?"عرض:":"Affichage :"}),e.jsx("button",{onClick:()=>u("grid"),className:`p-2 rounded-lg transition-colors ${b==="grid"?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(as,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>u("list"),className:`p-2 rounded-lg transition-colors ${b==="list"?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(ns,{className:"w-5 h-5"})})]})]})}),i?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Q,{size:"lg"})}):r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(de,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"لا توجد أخبار":"Aucune actualité"}),e.jsx("p",{className:"text-gray-500",children:t?"لا توجد أخبار متاحة حالياً":"Aucune actualité disponible pour le moment"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mb-8 ${b==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6"}`,children:r.map(x=>e.jsx(ta,{id:x.id,title:a({fr:x.title_fr,ar:x.title_ar}),description:a({fr:x.description_fr||x.content_fr,ar:x.description_ar||x.content_ar}),image:x.image_url,author:`${x.author_first_name||""} ${x.author_last_name||""}`.trim(),date:x.event_date||x.published_at||x.created_at,type:"news",status:x.status,views:x.views||0,className:b==="list"?"flex flex-col md:flex-row md:items-center":""},x.id))}),p>1&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("nav",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>d(x=>Math.max(x-1,1)),disabled:m===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s("common.previous")}),[...Array(p)].map((x,v)=>{const N=v+1;return e.jsx("button",{onClick:()=>d(N),className:`px-3 py-2 text-sm font-medium rounded-md ${m===N?"bg-primary-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:N},N)}),e.jsx("button",{onClick:()=>d(x=>Math.min(x+1,p)),disabled:m===p,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:s("common.next")})]})})]})]})]})},ss={getEnrollments:async(s={})=>await ne("/enrollments",s),getAllEnrollments:async(s={})=>{const t={page:1,limit:50,...s};return await ne("/enrollments",t)},getEnrollmentById:async s=>(await L.get(`/enrollments/${s}`)).data,createEnrollment:async s=>(await L.post("/enrollments",s)).data,updateEnrollment:async(s,t)=>(await L.put(`/enrollments/${s}`,t)).data,deleteEnrollment:async s=>(await L.delete(`/enrollments/${s}`)).data,updateEnrollmentStatus:async(s,t)=>(await L.put(`/enrollments/${s}/status`,{status:t})).data},gt={getChildren:async(s={})=>await ne("/children",s),getAllChildren:async(s={})=>{const t={page:1,limit:50,...s};return await ne("/children",t)},getChildById:async s=>(await L.get(`/children/${s}`)).data,createChild:async s=>(await L.post("/children",s)).data,updateChild:async(s,t)=>(await L.put(`/children/${s}`,t)).data,deleteChild:async s=>(await L.delete(`/children/${s}`)).data,getChildAttendance:async(s,t={})=>await ne(`/children/${s}/attendance`,t)},Fl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState(!1),[n,i]=C.useState(1),[l,o]=C.useState(!1),c=C.useRef(null),{register:m,handleSubmit:d,formState:{errors:p},watch:g,reset:b}=He(),u=()=>{if(c.current){const{scrollTop:v,scrollHeight:N,clientHeight:w}=c.current,_=v+w>=N-10;o(_)}},h=async v=>{var N,w;try{r(!0);const _={first_name:v.child_first_name,last_name:v.child_last_name,birth_date:v.birth_date,gender:v.gender,medical_info:v.medical_info,emergency_contact_name:v.emergency_contact_name,emergency_contact_phone:v.emergency_contact_phone},A={child_id:(await gt.createChild(_)).child.id,enrollment_date:v.enrollment_date,medical_record:v.medical_record||!1,lunch_assistance:v.lunch_assistance||!1,regulation_accepted:v.regulation_accepted||!1,notes:v.notes};await ss.createEnrollment(A),R.success(s("enrollment.success")),b(),i(1)}catch(_){console.error("Erreur lors de l'inscription:",_),R.error(((w=(N=_.response)==null?void 0:N.data)==null?void 0:w.error)||"Erreur lors de l'inscription")}finally{r(!1)}},f=()=>{i(v=>Math.min(v+1,5))},x=()=>{i(v=>Math.max(v-1,1))};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:s("enrollment.title")}),e.jsx("p",{className:"text-xl text-gray-600",children:t?"املأوا النموذج أدناه لتسجيل طفلكم في حضانتنا":"Remplissez le formulaire ci-dessous pour inscrire votre enfant dans notre crèche"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-center space-x-2 rtl:space-x-reverse overflow-x-auto",children:[1,2,3,4,5].map(v=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${n>=v?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"}`,children:v}),v<5&&e.jsx("div",{className:`w-8 h-1 mx-1 ${n>v?"bg-primary-600":"bg-gray-200"}`})]},v))}),e.jsx("div",{className:"flex justify-center mt-2",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[n===1&&(t?"معلومات الطفل":"Informations de l'enfant"),n===2&&(t?"معلومات الوالدين":"Informations des parents"),n===3&&(t?"خيارات الخدمة":"Options de service"),n===4&&(t?"الموافقة على القوانين":"Acceptation du règlement"),n===5&&(t?"التأكيد":"Confirmation")]})})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:d(h),children:[n===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-6",children:[e.jsx(Ne,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("enrollment.childInfo")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("enrollment.childFirstName")," *"]}),e.jsx("input",{type:"text",className:`form-input ${p.child_first_name?"border-error-500":""}`,...m("child_first_name",{required:s("validation.required")})}),p.child_first_name&&e.jsx("p",{className:"form-error",children:p.child_first_name.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("enrollment.childLastName")," *"]}),e.jsx("input",{type:"text",className:`form-input ${p.child_last_name?"border-error-500":""}`,...m("child_last_name",{required:s("validation.required")})}),p.child_last_name&&e.jsx("p",{className:"form-error",children:p.child_last_name.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("enrollment.birthDate")," *"]}),e.jsx("input",{type:"date",className:`form-input ${p.birth_date?"border-error-500":""}`,...m("birth_date",{required:s("validation.required")})}),p.birth_date&&e.jsx("p",{className:"form-error",children:p.birth_date.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("enrollment.gender")," *"]}),e.jsxs("select",{className:`form-input ${p.gender?"border-error-500":""}`,...m("gender",{required:s("validation.required")}),children:[e.jsx("option",{value:"",children:t?"اختر الجنس":"Sélectionner le sexe"}),e.jsx("option",{value:"M",children:s("enrollment.male")}),e.jsx("option",{value:"F",children:s("enrollment.female")})]}),p.gender&&e.jsx("p",{className:"form-error",children:p.gender.message})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:s("enrollment.medicalInfo")}),e.jsx("textarea",{rows:3,className:"form-input",placeholder:t?"أي معلومات طبية مهمة...":"Toute information médicale importante...",...m("medical_info")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("enrollment.emergencyContactName")," *"]}),e.jsx("input",{type:"text",className:`form-input ${p.emergency_contact_name?"border-error-500":""}`,...m("emergency_contact_name",{required:s("validation.required")})}),p.emergency_contact_name&&e.jsx("p",{className:"form-error",children:p.emergency_contact_name.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("enrollment.emergencyContactPhone")," *"]}),e.jsx("input",{type:"tel",className:`form-input ${p.emergency_contact_phone?"border-error-500":""}`,...m("emergency_contact_phone",{required:s("validation.required")})}),p.emergency_contact_phone&&e.jsx("p",{className:"form-error",children:p.emergency_contact_phone.message})]})]})]}),n===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-6",children:[e.jsx(we,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s("enrollment.parentInfo")})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("enrollment.enrollmentDate")," *"]}),e.jsx("input",{type:"date",className:`form-input ${p.enrollment_date?"border-error-500":""}`,...m("enrollment_date",{required:s("validation.required")})}),p.enrollment_date&&e.jsx("p",{className:"form-error",children:p.enrollment_date.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:s("enrollment.notes")}),e.jsx("textarea",{rows:4,className:"form-input",placeholder:t?"أي ملاحظات إضافية...":"Toute note supplémentaire...",...m("notes")})]})]}),n===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-6",children:[e.jsx(Ve,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"خيارات الخدمة":"Options de service"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-300 transition-colors",children:e.jsxs("label",{className:"flex items-start space-x-3 rtl:space-x-reverse cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500",...m("medical_record")}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(Qe,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:t?"الكشف الطبي":"Carnet Médical"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"سأقوم بتوفير الكشف الطبي الخاص بطفلي عند التسجيل":"Je fournirai le carnet médical de mon enfant lors de l'inscription"})]})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-300 transition-colors",children:e.jsxs("label",{className:"flex items-start space-x-3 rtl:space-x-reverse cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500",...m("lunch_assistance")}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(vt,{className:"w-5 h-5 text-primary-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:t?"المساعدة في الغداء":"Assistance au déjeuner"})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t?"طفلي يحتاج إلى مساعدة في تناول وجبة الغداء":"Mon enfant a besoin d'aide pour prendre son déjeuner"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t?"رسوم إضافية: 50 دينار تونسي شهرياً":"Frais supplémentaires : 50 TND par mois"})]})]})})]})]}),n===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-6",children:[e.jsx(Qe,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"الموافقة على القوانين الداخلية":"Acceptation du règlement intérieur"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsxs("div",{ref:c,onScroll:u,className:"h-64 overflow-y-auto p-4 text-sm text-gray-700 space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t?"القوانين الداخلية لحضانة ميما الغالية":"Règlement intérieur de la crèche Mima Elghalia"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t?"1. ساعات العمل":"1. Horaires d'ouverture"}),e.jsx("p",{children:t?"الحضانة مفتوحة من الاثنين إلى الجمعة من 7:00 إلى 18:00، والسبت من 8:00 إلى 12:00":"La crèche est ouverte du lundi au vendredi de 7h00 à 18h00, et le samedi de 8h00 à 12h00"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t?"2. الفئة العمرية":"2. Tranche d'âge"}),e.jsx("p",{children:t?"نستقبل الأطفال من عمر شهرين إلى 3 سنوات":"Nous accueillons les enfants de 2 mois à 3 ans"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t?"3. الصحة والسلامة":"3. Santé et sécurité"}),e.jsx("p",{children:t?"يجب تقديم شهادة طبية حديثة عند التسجيل. الأطفال المرضى لا يُقبلون في الحضانة لحماية الآخرين.":"Un certificat médical récent est requis lors de l'inscription. Les enfants malades ne sont pas acceptés pour protéger les autres."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t?"4. الدفع":"4. Paiement"}),e.jsx("p",{children:t?"الرسوم الشهرية مستحقة في بداية كل شهر. التأخير في الدفع قد يؤدي إلى رسوم إضافية.":"Les frais mensuels sont dus en début de mois. Un retard de paiement peut entraîner des frais supplémentaires."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t?"5. المسؤولية":"5. Responsabilité"}),e.jsx("p",{children:t?"الحضانة غير مسؤولة عن الأشياء الشخصية المفقودة أو التالفة. يُرجى عدم إحضار أشياء ثمينة.":"La crèche n'est pas responsable des objets personnels perdus ou endommagés. Veuillez ne pas apporter d'objets de valeur."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t?"6. الإلغاء":"6. Annulation"}),e.jsx("p",{children:t?"يجب إشعار الحضانة قبل شهر واحد على الأقل في حالة الرغبة في إلغاء التسجيل.":"Un préavis d'un mois minimum est requis pour toute annulation d'inscription."})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 p-4",children:[e.jsxs("label",{className:"flex items-start space-x-3 rtl:space-x-reverse cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"mt-1 w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500",...m("regulation_accepted",{required:t?"يجب الموافقة على القوانين الداخلية":"Vous devez accepter le règlement intérieur"}),disabled:!l}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?"أوافق على القوانين الداخلية لحضانة ميما الغالية":"J'accepte le règlement intérieur de la crèche Mima Elghalia"}),!l&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:t?"يرجى قراءة القوانين كاملة للمتابعة":"Veuillez lire entièrement le règlement pour continuer"})]})]}),p.regulation_accepted&&e.jsx("p",{className:"form-error mt-2",children:p.regulation_accepted.message})]})]})]}),n===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-6",children:[e.jsx(se,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"مراجعة الطلب":"Révision de la demande"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t?"معلومات الطفل:":"Informations de l'enfant :"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:t?"الاسم:":"Nom :"}),e.jsxs("span",{className:"ml-2 rtl:ml-0 rtl:mr-2 font-medium",children:[g("child_first_name")," ",g("child_last_name")]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:t?"تاريخ الميلاد:":"Date de naissance :"}),e.jsx("span",{className:"ml-2 rtl:ml-0 rtl:mr-2 font-medium",children:g("birth_date")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:t?"الجنس:":"Sexe :"}),e.jsx("span",{className:"ml-2 rtl:ml-0 rtl:mr-2 font-medium",children:g("gender")==="M"?t?"ذكر":"Masculin":t?"أنثى":"Féminin"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:t?"تاريخ التسجيل:":"Date d'inscription :"}),e.jsx("span",{className:"ml-2 rtl:ml-0 rtl:mr-2 font-medium",children:g("enrollment_date")})]}),g("emergency_contact_name")&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"text-gray-600",children:t?"جهة الاتصال للطوارئ:":"Contact d'urgence :"}),e.jsxs("span",{className:"ml-2 rtl:ml-0 rtl:mr-2 font-medium",children:[g("emergency_contact_name")," - ",g("emergency_contact_phone")]})]})]})]}),e.jsxs("div",{className:"bg-primary-50 rounded-lg p-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t?"الخيارات المحددة:":"Options sélectionnées :"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(se,{className:`w-4 h-4 ${g("medical_record")?"text-green-600":"text-gray-400"}`}),e.jsx("span",{className:g("medical_record")?"text-green-800 font-medium":"text-gray-600",children:t?"الكشف الطبي":"Carnet médical"})]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(se,{className:`w-4 h-4 ${g("lunch_assistance")?"text-green-600":"text-gray-400"}`}),e.jsxs("span",{className:g("lunch_assistance")?"text-green-800 font-medium":"text-gray-600",children:[t?"المساعدة في الغداء":"Assistance au déjeuner",g("lunch_assistance")&&e.jsx("span",{className:"text-xs text-gray-500 ml-1 rtl:ml-0 rtl:mr-1",children:"(+50 TND/mois)"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(se,{className:`w-4 h-4 ${g("regulation_accepted")?"text-green-600":"text-gray-400"}`}),e.jsx("span",{className:g("regulation_accepted")?"text-green-800 font-medium":"text-gray-600",children:t?"الموافقة على القوانين الداخلية":"Règlement intérieur accepté"})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsx("p",{className:"text-blue-800 text-sm",children:t?"سيتم مراجعة طلبكم من قبل فريقنا وسنتواصل معكم قريباً.":"Votre demande sera examinée par notre équipe et nous vous recontacterons bientôt."})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[n>1&&e.jsxs("button",{type:"button",onClick:x,className:"btn-secondary flex items-center",children:[e.jsx(dt,{className:`w-4 h-4 mr-2 rtl:ml-2 rtl:mr-0 ${t?"rotate-180":""}`}),t?"السابق":"Précédent"]}),e.jsx("div",{className:n===1?"ml-auto rtl:ml-0 rtl:mr-auto":"",children:n<5?e.jsxs("button",{type:"button",onClick:f,className:"btn-primary flex items-center",disabled:n===4&&!l,children:[t?"التالي":"Suivant",e.jsx(Ke,{className:`w-4 h-4 ml-2 rtl:ml-0 rtl:mr-2 ${t?"rotate-180":""}`})]}):e.jsx("button",{type:"submit",disabled:a,className:"btn-primary flex items-center",children:a?e.jsx(Q,{size:"sm",color:"white"}):e.jsxs(e.Fragment,{children:[e.jsx(nr,{className:`w-4 h-4 ${t?"ml-2":"mr-2"}`}),t?"إرسال الطلب":"Envoyer la demande"]})})})]})]})})}),e.jsx("div",{className:"mt-8 text-center text-gray-600",children:e.jsxs("p",{className:"text-sm",children:[t?"هل تحتاجون مساعدة؟ ":"Besoin d'aide ? ",e.jsx("a",{href:"/contact",className:"text-primary-600 hover:text-primary-700",children:t?"تواصلوا معنا":"Contactez-nous"})]})})]})})},Ll={getContacts:async(s={})=>await ne("/contacts",s),getContactById:async s=>(await L.get(`/contacts/${s}`)).data,createContact:async s=>(await L.post("/contacts",s)).data,updateContactStatus:async(s,t)=>(await L.put(`/contacts/${s}/status`,{status:t})).data,deleteContact:async s=>(await L.delete(`/contacts/${s}`)).data,getContactStats:async()=>(await L.get("/contacts/stats/summary")).data},Dl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState(!1),{register:n,handleSubmit:i,formState:{errors:l},reset:o}=He(),c=async d=>{var p,g;try{r(!0),await Ll.createContact(d),R.success(s("contact.success")),o()}catch(b){console.error("Erreur lors de l'envoi du message:",b),R.error(((g=(p=b.response)==null?void 0:p.data)==null?void 0:g.error)||"Erreur lors de l'envoi du message")}finally{r(!1)}},m=[{icon:Bt,title:s("contact.info.address"),content:t?"8 نهج بنزرت، مدنين 4100، تونس":"8 Rue Bizerte, Medenine 4100, Tunisie",color:"text-red-600"},{icon:Je,title:s("contact.info.phone"),content:"+216 25 95 35 32",color:"text-green-600"},{icon:yt,title:s("contact.info.email"),content:"contact@mimaelghalia.tn",color:"text-blue-600"},{icon:je,title:s("contact.info.hours"),content:t?"الإثنين - الجمعة: 7:00 - 18:00، السبت: 8:00 - 12:00":"Lun - Ven: 7h00 - 18h00, Sam: 8h00 - 12h00",color:"text-purple-600"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:s("contact.title")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:s("contact.subtitle")})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s("contact.info.title")}),e.jsx("div",{className:"space-y-6",children:m.map((d,p)=>{const g=d.icon;return e.jsxs("div",{className:"flex items-start space-x-4 rtl:space-x-reverse",children:[e.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${d.color} bg-gray-100 rounded-lg flex items-center justify-center`,children:e.jsx(g,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:d.title}),e.jsx("p",{className:"text-gray-600",children:d.content})]})]},p)})})]}),e.jsx("div",{className:"bg-gray-200 rounded-lg h-64 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(Bt,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{children:t?"خريطة الموقع":"Carte de localisation"}),e.jsx("p",{className:"text-sm",children:t?"قريباً...":"Bientôt disponible..."})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s("contact.info.hours")}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:t?"الإثنين - الجمعة":"Lundi - Vendredi"}),e.jsx("span",{className:"font-medium",children:"7:00 - 18:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:t?"السبت":"Samedi"}),e.jsx("span",{className:"font-medium",children:"8:00 - 12:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:t?"الأحد":"Dimanche"}),e.jsx("span",{className:"font-medium text-red-600",children:t?"مغلق":"Fermé"})]})]})]})})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-6",children:[e.jsx(ma,{className:"w-6 h-6 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"أرسل لنا رسالة":"Envoyez-nous un message"})]}),e.jsxs("form",{onSubmit:i(c),className:"space-y-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("contact.name")," *"]}),e.jsx("input",{type:"text",className:`form-input ${l.name?"border-error-500":""}`,placeholder:t?"اسمكم الكامل":"Votre nom complet",...n("name",{required:s("validation.required"),minLength:{value:2,message:s("validation.minLength",{min:2})}})}),l.name&&e.jsx("p",{className:"form-error",children:l.name.message})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("contact.email")," *"]}),e.jsx("input",{type:"email",className:`form-input ${l.email?"border-error-500":""}`,placeholder:t?"بريدكم الإلكتروني":"Votre email",...n("email",{required:s("validation.required"),pattern:{value:/^\S+@\S+$/i,message:s("validation.email")}})}),l.email&&e.jsx("p",{className:"form-error",children:l.email.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:s("contact.phone")}),e.jsx("input",{type:"tel",className:`form-input ${l.phone?"border-error-500":""}`,placeholder:t?"رقم هاتفكم":"Votre téléphone",...n("phone",{pattern:{value:/^[+]?[\d\s\-()]+$/,message:s("validation.phone")}})}),l.phone&&e.jsx("p",{className:"form-error",children:l.phone.message})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("contact.subject")," *"]}),e.jsx("input",{type:"text",className:`form-input ${l.subject?"border-error-500":""}`,placeholder:t?"موضوع رسالتكم":"Sujet de votre message",...n("subject",{required:s("validation.required"),minLength:{value:5,message:s("validation.minLength",{min:5})}})}),l.subject&&e.jsx("p",{className:"form-error",children:l.subject.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("contact.message")," *"]}),e.jsx("textarea",{rows:6,className:`form-input ${l.message?"border-error-500":""}`,placeholder:t?"اكتبوا رسالتكم هنا...":"Écrivez votre message ici...",...n("message",{required:s("validation.required"),minLength:{value:20,message:s("validation.minLength",{min:20})}})}),l.message&&e.jsx("p",{className:"form-error",children:l.message.message})]}),e.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full flex items-center justify-center",children:a?e.jsx(Q,{size:"sm",color:"white"}):e.jsxs(e.Fragment,{children:[e.jsx(nr,{className:`w-4 h-4 ${t?"ml-2":"mr-2"}`}),s("contact.send")]})})]})]})})]}),e.jsxs("div",{className:"mt-16",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t?"الأسئلة الشائعة":"Questions fréquentes"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{question:t?"ما هي أعمار الأطفال المقبولين؟":"Quels sont les âges acceptés ?",answer:t?"نقبل الأطفال من عمر شهرين إلى 3 سنوات.":"Nous accueillons les enfants de 2 mois à 3 ans."},{question:t?"ما هي ساعات العمل؟":"Quels sont les horaires ?",answer:t?"من الإثنين إلى الجمعة من 7:00 إلى 18:00، السبت من 8:00 إلى 12:00.":"Du lundi au vendredi de 7h00 à 18h00, samedi de 8h00 à 12h00."},{question:t?"هل تقدمون وجبات الطعام؟":"Proposez-vous les repas ?",answer:t?"نعم، نقدم وجبات صحية ومتوازنة.":"Oui, nous proposons des repas sains et équilibrés."},{question:t?"كيف يمكنني زيارة الحضانة؟":"Comment puis-je visiter la crèche ?",answer:t?"يمكنكم حجز موعد للزيارة عبر الاتصال بنا.":"Vous pouvez prendre rendez-vous en nous contactant."}].map((d,p)=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:d.question}),e.jsx("p",{className:"text-gray-600",children:d.answer})]})},p))})]})]})]})},Il=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState(0),[n,i]=C.useState(!1),[l,o]=C.useState(!1),c=[{id:"accueil",name:t?"منطقة الاستقبال":"Zone d'accueil",description:t?"مكان دافئ ومرحب لاستقبال الأطفال والأهالي":"Un espace chaleureux et accueillant pour recevoir enfants et parents",image:"https://images.unsplash.com/photo-1559455800-c0c5c3d9b8c3?w=800",icon:Ys,features:[t?"مكتب الاستقبال":"Bureau d'accueil",t?"منطقة انتظار مريحة":"Zone d'attente confortable",t?"خزائن شخصية للأطفال":"Casiers personnels pour enfants"]},{id:"jeux",name:t?"منطقة اللعب":"Espace de jeux",description:t?"مساحة واسعة مخصصة للعب والأنشطة الترفيهية":"Un grand espace dédié aux jeux et activités ludiques",image:"https://images.unsplash.com/photo-1544717297-fa95b6ee9643?w=800",icon:ar,features:[t?"ألعاب تعليمية متنوعة":"Jeux éducatifs variés",t?"منطقة لعب آمنة":"Zone de jeu sécurisée",t?"أنشطة حركية":"Activités motrices"]},{id:"repos",name:t?"غرفة النوم":"Dortoir",description:t?"مكان هادئ ومريح لراحة الأطفال":"Un lieu calme et confortable pour le repos des enfants",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800",icon:Ne,features:[t?"أسرّة مريحة وآمنة":"Lits confortables et sécurisés",t?"إضاءة خافتة":"Éclairage tamisé",t?"تهوية طبيعية":"Ventilation naturelle"]},{id:"repas",name:t?"قاعة الطعام":"Salle de repas",description:t?"مساحة نظيفة وصحية لتناول الوجبات":"Un espace propre et hygiénique pour les repas",image:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800",icon:vt,features:[t?"طاولات وكراسي مناسبة للأطفال":"Tables et chaises adaptées aux enfants",t?"مطبخ مجهز بالكامل":"Cuisine entièrement équipée",t?"معايير النظافة العالية":"Standards d'hygiène élevés"]}],m=()=>{r(b=>(b+1)%c.length)},d=()=>{r(b=>(b-1+c.length)%c.length)},p=c[a],g=p.icon;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t?"جولة افتراضية":"Visite Virtuelle"}),e.jsx("p",{className:"text-gray-600 mt-2",children:t?"اكتشف مرافق حضانتنا من منزلك":"Découvrez nos installations depuis chez vous"})]}),e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx("button",{onClick:d,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:e.jsx(dt,{className:`w-5 h-5 ${t?"rotate-180":""}`})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-sm text-gray-500",children:[a+1," / ",c.length]})}),e.jsx("button",{onClick:m,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:e.jsx(Ke,{className:`w-5 h-5 ${t?"rotate-180":""}`})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative aspect-video bg-gray-900",children:[e.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>i(!n),className:"p-4 bg-white bg-opacity-20 backdrop-blur-sm rounded-full text-white hover:bg-opacity-30 transition-all",children:n?e.jsx(ha,{className:"w-8 h-8"}):e.jsx(rr,{className:"w-8 h-8"})}),e.jsx("button",{onClick:()=>o(!l),className:"p-3 bg-white bg-opacity-20 backdrop-blur-sm rounded-full text-white hover:bg-opacity-30 transition-all",children:l?e.jsx(xa,{className:"w-6 h-6"}):e.jsx(pa,{className:"w-6 h-6"})}),e.jsx("button",{className:"p-3 bg-white bg-opacity-20 backdrop-blur-sm rounded-full text-white hover:bg-opacity-30 transition-all",children:e.jsx(fa,{className:"w-6 h-6"})})]})}),e.jsx("div",{className:"absolute top-4 left-4 bg-white bg-opacity-90 backdrop-blur-sm rounded-lg px-4 py-2",children:e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(g,{className:"w-5 h-5 text-primary-600"}),e.jsx("span",{className:"font-semibold text-gray-900",children:p.name})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:p.name}),e.jsx("p",{className:"text-gray-600 mb-6",children:p.description}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t?"المميزات":"Caractéristiques"}),e.jsx("ul",{className:"space-y-2",children:p.features.map((b,u)=>e.jsxs("li",{className:"flex items-center text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full mr-3 rtl:ml-3 rtl:mr-0"}),b]},u))})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t?"استكشف المرافق":"Explorer les espaces"}),e.jsx("div",{className:"space-y-3",children:c.map((b,u)=>{const h=b.icon;return e.jsxs("button",{onClick:()=>r(u),className:`w-full flex items-center p-3 rounded-lg text-left rtl:text-right transition-all ${a===u?"bg-primary-100 text-primary-700 border-primary-200":"hover:bg-gray-50 text-gray-600"}`,children:[e.jsx(h,{className:"w-5 h-5 mr-3 rtl:ml-3 rtl:mr-0 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:b.name}),e.jsx("div",{className:"text-sm opacity-75 truncate",children:b.description})]})]},b.id)})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t?"معلومات مفيدة":"Informations pratiques"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t?"ساعات العمل":"Horaires"}),e.jsx("div",{className:"text-gray-600 text-sm",children:t?"الاثنين - الجمعة: 7:00 - 18:00":"Lundi - Vendredi: 7h00 - 18h00"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t?"السعة":"Capacité"}),e.jsx("div",{className:"text-gray-600 text-sm",children:t?"50 طفل كحد أقصى":"50 enfants maximum"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t?"الفئة العمرية":"Âge"}),e.jsx("div",{className:"text-gray-600 text-sm",children:t?"3 أشهر - 6 سنوات":"3 mois - 6 ans"})]})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("button",{className:"w-full btn-primary",children:t?"احجز زيارة":"Réserver une visite"})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl shadow-lg p-6 text-white",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:t?"هل لديك أسئلة؟":"Des questions ?"}),e.jsx("p",{className:"text-primary-100 text-sm mb-4",children:t?"فريقنا متاح للإجابة على جميع استفساراتكم":"Notre équipe est disponible pour répondre à toutes vos questions"}),e.jsx("button",{className:"w-full bg-white text-primary-600 font-semibold py-2 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:t?"اتصل بنا":"Nous contacter"})]})]})]})})]})},Ml="modulepreload",$l=function(s){return"/creche-site/"+s},Qs={},Vs=function(t,a,r){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(a.map(c=>{if(c=$l(c),c in Qs)return;Qs[c]=!0;const m=c.endsWith(".css"),d=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=m?"stylesheet":Ml,m||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),m)return new Promise((g,b)=>{p.addEventListener("load",g),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return n.then(l=>{for(const o of l||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},ql=({onFillForm:s})=>{const[t,a]=C.useState(!1),[r,n]=C.useState(null),i=async(o,c)=>{try{await navigator.clipboard.writeText(o),n(c),setTimeout(()=>n(null),2e3)}catch(m){console.error("Erreur lors de la copie:",m)}},l=[{type:"admin",data:Te.admin,bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-800",icon:"👑",description:"Accès complet au système"},{type:"staff",data:Te.staff,bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-800",icon:"👥",description:"Gestion des enfants et activités"},{type:"parent",data:Te.parent,bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-800",icon:"👨‍👩‍👧‍👦",description:"Espace parent dédié"}];return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl shadow-lg border border-blue-200 p-4 sm:p-6 mb-8 w-full max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:e.jsx("span",{className:"text-2xl",children:"🎭"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Comptes de Démonstration"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Testez les différents rôles avec ces comptes prêts à l'emploi"}),e.jsxs("button",{onClick:()=>a(!t),className:"inline-flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-gray-200",children:[t?e.jsx(ut,{size:16}):e.jsx(le,{size:16}),t?"Masquer":"Afficher"," les mots de passe"]})]}),e.jsx("div",{className:"flex flex-col gap-6 mb-6 max-w-2xl mx-auto",children:l.map(({type:o,data:c,bgColor:m,borderColor:d,textColor:p,icon:g,description:b})=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-200 overflow-hidden border border-gray-100 w-full",children:[e.jsx("div",{className:`${m} px-6 py-4 border-b border-gray-100`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center shadow-sm",children:e.jsx("span",{className:"text-2xl",children:g})}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-bold text-lg ${p} capitalize`,children:o==="admin"?"Administrateur":o==="staff"?"Personnel":"Parent"}),e.jsx("p",{className:"text-sm text-gray-600",children:b})]})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 text-sm bg-gray-50 px-3 py-2 rounded-lg border font-mono",children:c.email}),e.jsx("button",{onClick:()=>i(c.email,`${o}-email`),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Copier l'email",children:r===`${o}-email`?e.jsx(ps,{size:16,className:"text-green-600"}):e.jsx(fs,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Mot de passe"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"flex-1 text-sm bg-gray-50 px-3 py-2 rounded-lg border font-mono",children:t?c.password:"••••••••"}),e.jsx("button",{onClick:()=>i(c.password,`${o}-password`),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Copier le mot de passe",children:r===`${o}-password`?e.jsx(ps,{size:16,className:"text-green-600"}):e.jsx(fs,{size:16})})]})]}),e.jsx("button",{onClick:()=>{s?(s(c.email,c.password),setTimeout(()=>{Vs(()=>import("./ui-CjTPToAq.js").then(u=>u.ad),__vite__mapDeps([0,1])).then(u=>{u.default.success("Champs remplis automatiquement !")})},100)):(i(c.email,`${o}-email`),i(c.password,`${o}-password`),setTimeout(()=>{Vs(()=>import("./ui-CjTPToAq.js").then(u=>u.ad),__vite__mapDeps([0,1])).then(u=>{u.default.success("Identifiants copiés ! Collez-les dans le formulaire.")})},100))},className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${o==="admin"?"bg-red-600 hover:bg-red-700 text-white":o==="staff"?"bg-blue-600 hover:bg-blue-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:"✨ Utiliser ce compte"})]})]},o))}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-amber-600 text-sm",children:"ℹ️"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-amber-800 mb-1",children:"Mode Démonstration"}),e.jsxs("p",{className:"text-amber-700",children:["Cette version fonctionne sans backend réel. Les données sont simulées et ne persistent pas entre les sessions.",e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:'💡 Cliquez sur "✨ Utiliser ce compte" pour remplir automatiquement le formulaire de connexion.'}),e.jsx("br",{}),e.jsx("span",{className:"font-medium",children:"Pour une version complète avec base de données, contactez-nous !"})]})]})]})})]})},sa=()=>{console.log("🧪 Test des comptes de démonstration:"),[{email:"admin@mimaelghalia.tn",password:"admin123"},{email:"staff@mimaelghalia.tn",password:"staff123"},{email:"parent@mimaelghalia.tn",password:"parent123"},{email:"wrong@email.com",password:"wrongpass"}].forEach((t,a)=>{console.log(`
--- Test ${a+1} ---`);const r=Br(t.email,t.password);console.log("Résultat:",r.success?"✅ SUCCÈS":"❌ ÉCHEC"),r.success||console.log("Erreur:",r.error)}),console.log(`
📋 Comptes disponibles:`),Object.values(Te).forEach(t=>{console.log(`- ${t.role}: ${t.email} / ${t.password}`)})};typeof window<"u"&&(window.testDemoAccounts=sa);const Ul=()=>{var h,f;const{t:s}=U(),{login:t,loading:a}=he(),{isRTL:r}=I(),n=Xs(),i=bt(),[l,o]=C.useState(!1),c=((f=(h=i.state)==null?void 0:h.from)==null?void 0:f.pathname)||"/dashboard";C.useEffect(()=>{sa()},[]);const{register:m,handleSubmit:d,setValue:p,formState:{errors:g},reset:b}=He(),u=async x=>{var v,N;try{await t(x),b(),n(c,{replace:!0})}catch(w){(N=(v=w.response)==null?void 0:v.data)!=null&&N.details&&w.response.data.details.forEach(_=>{setError(_.param,{type:"server",message:_.msg})})}};return e.jsxs("div",{className:`min-h-screen flex ${r?"font-arabic":"font-sans"}`,children:[e.jsx("div",{className:"flex-1 flex flex-col justify-center py-12 px-4 sm:px-6 lg:px-20 xl:px-24",children:e.jsxs("div",{className:"mx-auto w-full max-w-sm lg:w-96",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(M,{to:"/",className:"inline-flex items-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"C"})}),e.jsx("span",{className:"ml-3 rtl:ml-0 rtl:mr-3 text-2xl font-bold text-gray-900",children:r?"حضانة":"Crèche"})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:s("auth.login")}),e.jsx("p",{className:"text-gray-600",children:r?"مرحباً بعودتك! يرجى تسجيل الدخول إلى حسابك":"Bon retour ! Veuillez vous connecter à votre compte"})]}),e.jsx(ql,{onFillForm:(x,v)=>{p("email",x,{shouldValidate:!0}),p("password",v,{shouldValidate:!0})}}),e.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"🧪 Test Direct"}),e.jsx("button",{type:"button",onClick:async()=>{console.log("🚀 TEST DIRECT CONNEXION ADMIN");try{await t({email:"admin@mimaelghalia.tn",password:"admin123"}),console.log("✅ Test réussi !")}catch(x){console.error("❌ Test échoué:",x)}},className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Tester connexion admin directement"})]}),e.jsxs("form",{onSubmit:d(u),className:"space-y-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:s("auth.email")}),e.jsx("input",{id:"email",type:"email",autoComplete:"email",className:`form-input ${g.email?"border-error-500 focus:border-error-500 focus:ring-error-500":""}`,placeholder:r?"أدخل بريدك الإلكتروني":"Entrez votre email",...m("email",{required:s("auth.emailRequired"),pattern:{value:/^\S+@\S+$/i,message:s("validation.email")}})}),g.email&&e.jsx("p",{className:"form-error",children:g.email.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:s("auth.password")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:l?"text":"password",autoComplete:"current-password",className:`form-input pr-10 rtl:pr-3 rtl:pl-10 ${g.password?"border-error-500 focus:border-error-500 focus:ring-error-500":""}`,placeholder:r?"أدخل كلمة المرور":"Entrez votre mot de passe",...m("password",{required:s("auth.passwordRequired"),minLength:{value:6,message:s("auth.passwordMinLength")}})}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 rtl:right-auto rtl:left-0 pr-3 rtl:pr-0 rtl:pl-3 flex items-center",onClick:()=>o(!l),children:l?e.jsx(ut,{className:"h-4 w-4 text-gray-400"}):e.jsx(le,{className:"h-4 w-4 text-gray-400"})})]}),g.password&&e.jsx("p",{className:"form-error",children:g.password.message})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 rtl:ml-0 rtl:mr-2 block text-sm text-gray-900",children:r?"تذكرني":"Se souvenir de moi"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(M,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:s("auth.forgotPassword")})})]}),e.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full flex justify-center items-center",children:a?e.jsx(Q,{size:"sm",color:"white"}):e.jsxs(e.Fragment,{children:[e.jsx(ir,{className:`w-4 h-4 ${r?"ml-2":"mr-2"}`}),s("auth.loginButton")]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[s("auth.noAccount")," ",e.jsx(M,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:s("auth.registerButton")})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(M,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700",children:["← ",r?"العودة إلى الرئيسية":"Retour à l'accueil"]})})]})}),e.jsx("div",{className:"hidden lg:block relative w-0 flex-1",children:e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-600 to-primary-800",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),e.jsx("img",{className:"absolute inset-0 h-full w-full object-cover mix-blend-multiply",src:"https://placehold.co/800x600/0ea5e9/ffffff?text=Crèche+Login",alt:"Crèche"}),e.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-white p-12",children:e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("h3",{className:"text-3xl font-bold",children:r?"مرحباً بعودتك":"Bon retour parmi nous"}),e.jsx("p",{className:"text-xl opacity-90",children:r?"نحن سعداء لرؤيتك مرة أخرى":"Nous sommes heureux de vous revoir"}),e.jsxs("div",{className:"flex justify-center space-x-4 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-50"}),e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-white rounded-full opacity-50"})]})]})})]})}),e.jsx("div",{className:"absolute top-4 right-4 rtl:right-auto rtl:left-4",children:e.jsx(es,{})})]})},zl=()=>{const{t:s}=U(),{user:t}=he(),{isRTL:a}=I(),r=Xs(),[n,i]=C.useState({totalUsers:0,totalChildren:0,todayAttendance:0,pendingEnrollments:0}),[l,o]=C.useState(!0);C.useEffect(()=>{setTimeout(()=>{i({totalUsers:45,totalChildren:32,todayAttendance:28,pendingEnrollments:5}),o(!1)},1e3)},[]);const c=[{title:s("dashboard.stats.totalUsers"),value:n.totalUsers,icon:te,color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-600"},{title:s("dashboard.stats.totalChildren"),value:n.totalChildren,icon:Ne,color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-600"},{title:s("dashboard.stats.todayAttendance"),value:n.todayAttendance,icon:de,color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-600"},{title:s("dashboard.stats.pendingEnrollments"),value:n.pendingEnrollments,icon:_e,color:"bg-orange-500",bgColor:"bg-orange-50",textColor:"text-orange-600"}],m=[{id:1,type:"enrollment",message:a?"طلب تسجيل جديد من أحمد بنعلي":"Nouvelle demande d'inscription de Ahmed Benali",time:"2h",icon:_e,color:"text-blue-600"},{id:2,type:"attendance",message:a?"وصول لينا دوبوا":"Arrivée de Lina Dubois",time:"3h",icon:je,color:"text-green-600"},{id:3,type:"user",message:a?"إضافة موظف جديد":"Nouvel employé ajouté",time:"5h",icon:te,color:"text-purple-600"}];return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Q,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s("dashboard.welcome",{name:t==null?void 0:t.first_name})}),e.jsx("p",{className:"mt-1 text-gray-600",children:a?"إليكم نظرة عامة على نشاط اليوم":"Voici un aperçu de l'activité d'aujourd'hui"})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 rtl:mr-0 rtl:ml-2"}),a?"متصل":"En ligne"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map((d,p)=>{const g=d.icon;return e.jsx("div",{className:"card hover:shadow-lg transition-shadow duration-200",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-3 rounded-lg ${d.bgColor}`,children:e.jsx(g,{className:`w-6 h-6 ${d.textColor}`})}),e.jsxs("div",{className:"ml-4 rtl:ml-0 rtl:mr-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:d.title}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.value})]})]})})},p)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"الأنشطة الأخيرة":"Activités récentes"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"space-y-4",children:m.map(d=>{const p=d.icon;return e.jsxs("div",{className:"flex items-start space-x-3 rtl:space-x-reverse",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gray-100",children:e.jsx(p,{className:`w-4 h-4 ${d.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:d.message}),e.jsx("p",{className:"text-xs text-gray-500",children:a?`منذ ${d.time}`:`Il y a ${d.time}`})]})]},d.id)})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"إحصائيات الحضور":"Statistiques de présence"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-48 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(mt,{className:"w-12 h-12 mx-auto mb-2"}),e.jsx("p",{className:"text-sm",children:a?"الرسم البياني قريباً":"Graphique bientôt disponible"})]})})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a?"إجراءات سريعة":"Actions rapides"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(t==null?void 0:t.role)==="admin"&&e.jsxs("button",{onClick:()=>r("/dashboard/users"),className:"btn-outline-primary text-left rtl:text-right hover:scale-105 transition-transform",children:[e.jsx(te,{className:"w-5 h-5 mb-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a?"إدارة المستخدمين":"Gérer les utilisateurs"}),e.jsx("div",{className:"text-sm text-gray-500",children:a?"إضافة وتعديل المستخدمين":"Ajouter et modifier"})]})]}),["admin","staff"].includes(t==null?void 0:t.role)&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>r("/dashboard/children"),className:"btn-outline-primary text-left rtl:text-right hover:scale-105 transition-transform",children:[e.jsx(Ne,{className:"w-5 h-5 mb-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a?"إدارة الأطفال":"Gérer les enfants"}),e.jsx("div",{className:"text-sm text-gray-500",children:a?"عرض وتعديل بيانات الأطفال":"Voir et modifier"})]})]}),e.jsxs("button",{onClick:()=>r("/dashboard/attendance"),className:"btn-outline-primary text-left rtl:text-right hover:scale-105 transition-transform",children:[e.jsx(de,{className:"w-5 h-5 mb-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a?"تسجيل الحضور":"Marquer présence"}),e.jsx("div",{className:"text-sm text-gray-500",children:a?"وصول ومغادرة الأطفال":"Arrivées et départs"})]})]})]}),e.jsxs("button",{onClick:()=>r("/dashboard/enrollments"),className:"btn-outline-primary text-left rtl:text-right hover:scale-105 transition-transform",children:[e.jsx(_e,{className:"w-5 h-5 mb-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a?"طلبات التسجيل":"Demandes d'inscription"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[n.pendingEnrollments," ",a?"في الانتظار":"en attente"]})]})]})]})})]})]})},Ks={getUsers:async(s={})=>await ne("/users",s),getAllUsers:async(s={})=>{const t={page:1,limit:50,...s};return await ne("/users",t)},getUserById:async s=>(await L.get(`/users/${s}`)).data,createUser:async s=>(await L.post("/users",s)).data,updateUser:async(s,t)=>(await L.put(`/users/${s}`,t)).data,deleteUser:async s=>(await L.delete(`/users/${s}`)).data},Ce=({title:s,subtitle:t,children:a,className:r=""})=>{const{isRTL:n}=I();return e.jsx("div",{className:`mb-8 ${r}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:s}),t&&e.jsx("p",{className:"mt-2 text-gray-600",children:t})]}),a&&e.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:a})]})})},Bl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState([]),[n,i]=C.useState(!0),[l,o]=C.useState(""),[c,m]=C.useState("all"),[d,p]=C.useState(!1),[g,b]=C.useState(null);C.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const N=await Ks.getAllUsers();r(N.users||[])}catch(N){console.error("Erreur lors du chargement des utilisateurs:",N),R.error("Erreur lors du chargement des utilisateurs")}finally{i(!1)}},h=async N=>{if(confirm(t?"هل أنت متأكد من حذف هذا المستخدم؟":"Êtes-vous sûr de vouloir supprimer cet utilisateur ?"))try{await Ks.deleteUser(N),R.success(t?"تم حذف المستخدم بنجاح":"Utilisateur supprimé avec succès"),u()}catch(w){console.error("Erreur lors de la suppression:",w),R.error("Erreur lors de la suppression")}},f=a.filter(N=>{var P,A,y;const w=((P=N.first_name)==null?void 0:P.toLowerCase().includes(l.toLowerCase()))||((A=N.last_name)==null?void 0:A.toLowerCase().includes(l.toLowerCase()))||((y=N.email)==null?void 0:y.toLowerCase().includes(l.toLowerCase())),_=c==="all"||N.role===c;return w&&_}),x=N=>({admin:"bg-red-100 text-red-800",staff:"bg-blue-100 text-blue-800",parent:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800",v=N=>{switch(N){case"admin":return ct;case"staff":return te;case"parent":return te;default:return te}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{title:s("nav.users"),subtitle:t?"إدارة جميع المستخدمين في النظام":"Gérer tous les utilisateurs du système",action:e.jsxs("button",{className:"btn-primary",onClick:()=>p(!0),children:[e.jsx(jt,{className:`w-4 h-4 ${t?"ml-2":"mr-2"}`}),t?"إضافة مستخدم":"Ajouter un utilisateur"]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t?"البحث عن المستخدمين...":"Rechercher des utilisateurs...",className:"form-input pl-10 rtl:pl-4 rtl:pr-10",value:l,onChange:N=>o(N.target.value)})]}),e.jsxs("select",{className:"form-input",value:c,onChange:N=>m(N.target.value),children:[e.jsx("option",{value:"all",children:t?"جميع الأدوار":"Tous les rôles"}),e.jsx("option",{value:"admin",children:t?"مدير":"Administrateur"}),e.jsx("option",{value:"staff",children:t?"موظف":"Personnel"}),e.jsx("option",{value:"parent",children:t?"والد":"Parent"})]}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(te,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),f.length," ",t?"مستخدم":"utilisateur(s)"]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body p-0",children:n?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Q,{})}):f.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(te,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"لا يوجد مستخدمون":"Aucun utilisateur trouvé"}),e.jsx("p",{className:"text-gray-500",children:t?"لم يتم العثور على مستخدمين مطابقين لمعايير البحث":"Aucun utilisateur ne correspond aux critères de recherche"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"المستخدم":"Utilisateur"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الاتصال":"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الدور":"Rôle"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الحالة":"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الإجراءات":"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(N=>{const w=v(N.role);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:N.profile_picture?e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:N.profile_picture,alt:""}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(te,{className:"h-5 w-5 text-gray-400"})})}),e.jsxs("div",{className:"ml-4 rtl:ml-0 rtl:mr-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[N.first_name," ",N.last_name]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",N.id]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(yt,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2 text-gray-400"}),N.email]}),N.phone&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Je,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2 text-gray-400"}),N.phone]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(N.role)}`,children:t?N.role==="admin"?"مدير":N.role==="staff"?"موظف":"والد":N.role==="admin"?"Admin":N.role==="staff"?"Staff":"Parent"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.is_active?t?"نشط":"Actif":t?"غير نشط":"Inactif"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>b(N),className:"text-indigo-600 hover:text-indigo-900",title:t?"عرض":"Voir",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-900",title:t?"تعديل":"Modifier",children:e.jsx(Nt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(N.id),className:"text-red-600 hover:text-red-900",title:t?"حذف":"Supprimer",children:e.jsx(Pe,{className:"w-4 h-4"})})]})})]},N.id)})})]})})})})]})},Gl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState([]),[n,i]=C.useState(!0),[l,o]=C.useState(""),[c,m]=C.useState("all"),[d,p]=C.useState(!1),[g,b]=C.useState(null);C.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const w=await gt.getAllChildren();r(w.children||[])}catch(w){console.error("Erreur lors du chargement des enfants:",w),R.error("Erreur lors du chargement des enfants")}finally{i(!1)}},h=async w=>{if(confirm(t?"هل أنت متأكد من حذف هذا الطفل؟":"Êtes-vous sûr de vouloir supprimer cet enfant ?"))try{await gt.deleteChild(w),R.success(t?"تم حذف الطفل بنجاح":"Enfant supprimé avec succès"),u()}catch(_){console.error("Erreur lors de la suppression:",_),R.error("Erreur lors de la suppression")}},f=w=>{const _=new Date,P=new Date(w);let A=_.getFullYear()-P.getFullYear();const y=_.getMonth()-P.getMonth();return(y<0||y===0&&_.getDate()<P.getDate())&&A--,A<1?`${(_.getFullYear()-P.getFullYear())*12+y} ${t?"شهر":"mois"}`:`${A} ${t?"سنة":"an(s)"}`},x=a.filter(w=>{var y,E;const _=((y=w.first_name)==null?void 0:y.toLowerCase().includes(l.toLowerCase()))||((E=w.last_name)==null?void 0:E.toLowerCase().includes(l.toLowerCase()));if(c==="all")return _;const P=new Date().getFullYear()-new Date(w.birth_date).getFullYear(),A=c==="0-1"?P<1:c==="1-2"?P>=1&&P<2:c==="2-3"?P>=2&&P<3:P>=3;return _&&A}),v=w=>w==="M"?"👦":"👧",N=w=>w==="M"?"bg-blue-100 text-blue-800":"bg-pink-100 text-pink-800";return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{title:s("nav.children"),subtitle:t?"إدارة جميع الأطفال المسجلين":"Gérer tous les enfants inscrits",action:e.jsxs("button",{className:"btn-primary",onClick:()=>p(!0),children:[e.jsx(jt,{className:`w-4 h-4 ${t?"ml-2":"mr-2"}`}),t?"إضافة طفل":"Ajouter un enfant"]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t?"البحث عن الأطفال...":"Rechercher des enfants...",className:"form-input pl-10 rtl:pl-4 rtl:pr-10",value:l,onChange:w=>o(w.target.value)})]}),e.jsxs("select",{className:"form-input",value:c,onChange:w=>m(w.target.value),children:[e.jsx("option",{value:"all",children:t?"جميع الأعمار":"Tous les âges"}),e.jsx("option",{value:"0-1",children:t?"0-1 سنة":"0-1 an"}),e.jsx("option",{value:"1-2",children:t?"1-2 سنة":"1-2 ans"}),e.jsx("option",{value:"2-3",children:t?"2-3 سنة":"2-3 ans"}),e.jsx("option",{value:"3+",children:t?"3+ سنوات":"3+ ans"})]}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(Ne,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),x.length," ",t?"طفل":"enfant(s)"]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?e.jsx("div",{className:"col-span-full flex justify-center py-12",children:e.jsx(Q,{})}):x.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx(Ne,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"لا يوجد أطفال":"Aucun enfant trouvé"}),e.jsx("p",{className:"text-gray-500",children:t?"لم يتم العثور على أطفال مطابقين لمعايير البحث":"Aucun enfant ne correspond aux critères de recherche"})]}):x.map(w=>e.jsx("div",{className:"card hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-white text-lg font-bold",children:v(w.gender)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[w.first_name," ",w.last_name]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N(w.gender)}`,children:w.gender==="M"?t?"ذكر":"Garçon":t?"أنثى":"Fille"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["ID: ",w.id]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(de,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2 text-gray-400"}),e.jsxs("span",{children:[f(w.birth_date)," • ",new Date(w.birth_date).toLocaleDateString()]})]}),w.medical_info&&e.jsxs("div",{className:"flex items-start text-sm text-gray-600",children:[e.jsx(Ve,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2 text-red-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-2",children:w.medical_info})]}),w.emergency_contact_name&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Je,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2 text-green-400"}),e.jsxs("span",{className:"truncate",children:[w.emergency_contact_name," • ",w.emergency_contact_phone]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 rtl:space-x-reverse mt-4 pt-4 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>b(w),className:"p-2 text-indigo-600 hover:text-indigo-900 hover:bg-indigo-50 rounded-lg transition-colors",title:t?"عرض":"Voir",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{},className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-lg transition-colors",title:t?"تعديل":"Modifier",children:e.jsx(Nt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(w.id),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",title:t?"حذف":"Supprimer",children:e.jsx(Pe,{className:"w-4 h-4"})})]})]})},w.id))})]})},Hl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState([]),[n,i]=C.useState(!0),[l,o]=C.useState(""),[c,m]=C.useState("all"),[d,p]=C.useState(null);C.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0);const x=await ss.getAllEnrollments();r(x.enrollments||[])}catch(x){console.error("Erreur lors du chargement des inscriptions:",x),R.error("Erreur lors du chargement des inscriptions")}finally{i(!1)}},b=async(x,v)=>{try{await ss.updateEnrollmentStatus(x,v),R.success(t?"تم تحديث حالة التسجيل":"Statut de l'inscription mis à jour"),g()}catch(N){console.error("Erreur lors de la mise à jour:",N),R.error("Erreur lors de la mise à jour")}},u=a.filter(x=>{var _,P;const N=`${((_=x.child)==null?void 0:_.first_name)||""} ${((P=x.child)==null?void 0:P.last_name)||""}`.toLowerCase().includes(l.toLowerCase()),w=c==="all"||x.status===c;return N&&w}),h=x=>{const v={pending:{color:"bg-yellow-100 text-yellow-800",icon:je,text:t?"في الانتظار":"En attente"},approved:{color:"bg-green-100 text-green-800",icon:se,text:t?"مقبول":"Approuvé"},rejected:{color:"bg-red-100 text-red-800",icon:Be,text:t?"مرفوض":"Rejeté"}};return v[x]||v.pending},f=x=>x==="M"?"👦":"👧";return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{title:s("nav.enrollments"),subtitle:t?"إدارة طلبات التسجيل وموافقتها":"Gérer et approuver les demandes d'inscription"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:t?"إجمالي الطلبات":"Total des demandes",value:a.length,color:"bg-blue-500",icon:_e},{label:t?"في الانتظار":"En attente",value:a.filter(x=>x.status==="pending").length,color:"bg-yellow-500",icon:je},{label:t?"مقبولة":"Approuvées",value:a.filter(x=>x.status==="approved").length,color:"bg-green-500",icon:se},{label:t?"مرفوضة":"Rejetées",value:a.filter(x=>x.status==="rejected").length,color:"bg-red-500",icon:Be}].map((x,v)=>{const N=x.icon;return e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`${x.color} p-3 rounded-lg`,children:e.jsx(N,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4 rtl:ml-0 rtl:mr-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:x.label}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:x.value})]})]})})},v)})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t?"البحث عن الأطفال...":"Rechercher des enfants...",className:"form-input pl-10 rtl:pl-4 rtl:pr-10",value:l,onChange:x=>o(x.target.value)})]}),e.jsxs("select",{className:"form-input",value:c,onChange:x=>m(x.target.value),children:[e.jsx("option",{value:"all",children:t?"جميع الحالات":"Tous les statuts"}),e.jsx("option",{value:"pending",children:t?"في الانتظار":"En attente"}),e.jsx("option",{value:"approved",children:t?"مقبولة":"Approuvées"}),e.jsx("option",{value:"rejected",children:t?"مرفوضة":"Rejetées"})]}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(_e,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),u.length," ",t?"طلب":"demande(s)"]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body p-0",children:n?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Q,{})}):u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_e,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"لا توجد طلبات تسجيل":"Aucune demande d'inscription"}),e.jsx("p",{className:"text-gray-500",children:t?"لم يتم العثور على طلبات مطابقة لمعايير البحث":"Aucune demande ne correspond aux critères de recherche"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الطفل":"Enfant"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"تاريخ التسجيل":"Date d'inscription"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الخيارات":"Options"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الحالة":"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الإجراءات":"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(x=>{var w,_,P,A;const v=h(x.status),N=v.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-white text-lg",children:f((w=x.child)==null?void 0:w.gender)})}),e.jsxs("div",{className:"ml-4 rtl:ml-0 rtl:mr-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(_=x.child)==null?void 0:_.first_name," ",(P=x.child)==null?void 0:P.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:((A=x.child)==null?void 0:A.birth_date)&&new Date(x.child.birth_date).toLocaleDateString()})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(de,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2 text-gray-400"}),new Date(x.enrollment_date).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[x.medical_record&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(Ve,{className:"w-3 h-3 mr-1 rtl:mr-0 rtl:ml-1"}),t?"طبي":"Médical"]}),x.lunch_assistance&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[e.jsx(vt,{className:"w-3 h-3 mr-1 rtl:mr-0 rtl:ml-1"}),t?"غداء":"Repas"]}),x.regulation_accepted&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(se,{className:"w-3 h-3 mr-1 rtl:mr-0 rtl:ml-1"}),t?"قوانين":"Règlement"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.color}`,children:v.text})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>p(x),className:"text-indigo-600 hover:text-indigo-900",title:t?"عرض":"Voir",children:e.jsx(le,{className:"w-4 h-4"})}),x.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>b(x.id,"approved"),className:"text-green-600 hover:text-green-900",title:t?"قبول":"Approuver",children:e.jsx(se,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>b(x.id,"rejected"),className:"text-red-600 hover:text-red-900",title:t?"رفض":"Rejeter",children:e.jsx(Be,{className:"w-4 h-4"})})]})]})})]},x.id)})})]})})})})]})},Ut={getAttendance:async(s={})=>await ne("/attendance",s),getTodayAttendance:async()=>(await L.get("/attendance/today")).data,getAttendanceByDate:async s=>{const t={page:1,limit:100};return await ne(`/attendance/date/${s}`,t)},getChildAttendance:async(s,t={})=>await ne(`/attendance/child/${s}`,t),checkIn:async s=>(await L.post("/attendance/checkin",s)).data,checkOut:async s=>(await L.post("/attendance/checkout",s)).data},Ql=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState([]),[n,i]=C.useState([]),[l,o]=C.useState(!0),[c,m]=C.useState(new Date().toISOString().split("T")[0]),[d,p]=C.useState(""),[g,b]=C.useState("all");C.useEffect(()=>{u()},[c]);const u=async()=>{try{o(!0);const[y,E]=await Promise.all([gt.getAllChildren(),Ut.getAttendanceByDate(c)]);r(y.children||[]),i(E.attendance||[])}catch(y){console.error("Erreur lors du chargement:",y),R.error("Erreur lors du chargement des données")}finally{o(!1)}},h=async y=>{try{await Ut.checkIn(y,c),R.success(t?"تم تسجيل الدخول بنجاح":"Entrée enregistrée avec succès"),u()}catch(E){console.error("Erreur check-in:",E),R.error("Erreur lors de l'enregistrement")}},f=async y=>{try{await Ut.checkOut(y,c),R.success(t?"تم تسجيل الخروج بنجاح":"Sortie enregistrée avec succès"),u()}catch(E){console.error("Erreur check-out:",E),R.error("Erreur lors de l'enregistrement")}},x=y=>{const E=n.find(O=>O.child_id===y);return E?E.check_in_time&&!E.check_out_time?"present":E.check_in_time&&E.check_out_time?"left":"absent":"absent"},v=y=>n.find(E=>E.child_id===y),N=a.filter(y=>{var K,S;const E=((K=y.first_name)==null?void 0:K.toLowerCase().includes(d.toLowerCase()))||((S=y.last_name)==null?void 0:S.toLowerCase().includes(d.toLowerCase()));if(g==="all")return E;const O=x(y.id);return E&&O===g}),w=y=>{const E={present:{color:"bg-green-100 text-green-800",icon:se,text:t?"حاضر":"Présent"},absent:{color:"bg-red-100 text-red-800",icon:Be,text:t?"غائب":"Absent"},left:{color:"bg-blue-100 text-blue-800",icon:Ot,text:t?"غادر":"Parti"}};return E[y]||E.absent},_=y=>y==="M"?"👦":"👧",P=y=>y?new Date(`2000-01-01T${y}`).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"-",A={total:a.length,present:n.filter(y=>y.check_in_time&&!y.check_out_time).length,absent:a.length-n.filter(y=>y.check_in_time).length,left:n.filter(y=>y.check_in_time&&y.check_out_time).length};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{title:s("nav.attendance"),subtitle:t?"تسجيل وإدارة حضور الأطفال":"Enregistrer et gérer la présence des enfants"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"التاريخ":"Date"}),e.jsx("input",{type:"date",value:c,onChange:y=>m(y.target.value),className:"form-input"})]})}),[{label:t?"إجمالي الأطفال":"Total enfants",value:A.total,color:"bg-blue-500",icon:te},{label:t?"حاضرون":"Présents",value:A.present,color:"bg-green-500",icon:se},{label:t?"غائبون":"Absents",value:A.absent,color:"bg-red-500",icon:Be},{label:t?"غادروا":"Partis",value:A.left,color:"bg-blue-500",icon:Ot}].map((y,E)=>{const O=y.icon;return e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`${y.color} p-3 rounded-lg`,children:e.jsx(O,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"ml-4 rtl:ml-0 rtl:mr-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:y.label}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:y.value})]})]})})},E)})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t?"البحث عن الأطفال...":"Rechercher des enfants...",className:"form-input pl-10 rtl:pl-4 rtl:pr-10",value:d,onChange:y=>p(y.target.value)})]}),e.jsxs("select",{className:"form-input",value:g,onChange:y=>b(y.target.value),children:[e.jsx("option",{value:"all",children:t?"جميع الحالات":"Tous les statuts"}),e.jsx("option",{value:"present",children:t?"حاضرون":"Présents"}),e.jsx("option",{value:"absent",children:t?"غائبون":"Absents"}),e.jsx("option",{value:"left",children:t?"غادروا":"Partis"})]}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx(te,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),N.length," ",t?"طفل":"enfant(s)"]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body p-0",children:l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(Q,{})}):N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(te,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"لا يوجد أطفال":"Aucun enfant trouvé"}),e.jsx("p",{className:"text-gray-500",children:t?"لم يتم العثور على أطفال مطابقين لمعايير البحث":"Aucun enfant ne correspond aux critères de recherche"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الطفل":"Enfant"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الحالة":"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"وقت الدخول":"Heure d'entrée"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"وقت الخروج":"Heure de sortie"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الإجراءات":"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(y=>{const E=x(y.id),O=v(y.id),K=w(E),S=K.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 flex items-center justify-center text-white text-lg",children:_(y.gender)})}),e.jsxs("div",{className:"ml-4 rtl:ml-0 rtl:mr-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[y.first_name," ",y.last_name]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",y.id]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${K.color}`,children:K.text})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2 text-gray-400"}),P(O==null?void 0:O.check_in_time)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2 text-gray-400"}),P(O==null?void 0:O.check_out_time)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[E==="absent"&&e.jsxs("button",{onClick:()=>h(y.id),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(ir,{className:"w-3 h-3 mr-1 rtl:mr-0 rtl:ml-1"}),t?"دخول":"Entrée"]}),E==="present"&&e.jsxs("button",{onClick:()=>f(y.id),className:"inline-flex items-center px-3 py-1 border border-transparent text-xs leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Ot,{className:"w-3 h-3 mr-1 rtl:mr-0 rtl:ml-1"}),t?"خروج":"Sortie"]})]})})]},y.id)})})]})})})})]})},Vl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState([]),[n,i]=C.useState(!0),[l,o]=C.useState(""),[c,m]=C.useState("all"),[d,p]=C.useState(!1),[g,b]=C.useState(null),[u,h]=C.useState({title:"",excerpt:"",content:"",status:"draft"}),f=[{id:1,title:t?"أهمية اللعب في تطوير الطفل":"L'importance du jeu dans le développement de l'enfant",excerpt:t?"اللعب هو وسيلة أساسية لتعلم الأطفال وتطوير مهاراتهم...":"Le jeu est un moyen essentiel pour l'apprentissage et le développement des compétences...",status:"published",author:"Admin",created_at:"2024-01-15",views:245},{id:2,title:t?"نصائح للتكيف مع الحضانة":"Conseils pour s'adapter à la crèche",excerpt:t?"كيف يمكن للأهل مساعدة أطفالهم على التكيف مع البيئة الجديدة...":"Comment les parents peuvent aider leurs enfants à s'adapter au nouveau environnement...",status:"draft",author:"Staff",created_at:"2024-01-10",views:0},{id:3,title:t?"التغذية الصحية للأطفال":"Alimentation saine pour les enfants",excerpt:t?"دليل شامل للتغذية المتوازنة والصحية للأطفال في سن الحضانة...":"Guide complet pour une alimentation équilibrée et saine pour les enfants en crèche...",status:"published",author:"Admin",created_at:"2024-01-05",views:189}];C.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0),setTimeout(()=>{r(f),i(!1)},1e3)}catch(A){console.error("Erreur lors du chargement des articles:",A),R.error("Erreur lors du chargement des articles"),i(!1)}},v=async A=>{if(confirm(t?"هل أنت متأكد من حذف هذا المقال؟":"Êtes-vous sûr de vouloir supprimer cet article ?"))try{r(a.filter(y=>y.id!==A)),R.success(t?"تم حذف المقال بنجاح":"Article supprimé avec succès")}catch(y){console.error("Erreur lors de la suppression:",y),R.error("Erreur lors de la suppression")}},N=(A=null)=>{A?(b(A),h({title:A.title,excerpt:A.excerpt,content:A.content||"",status:A.status})):(b(null),h({title:"",excerpt:"",content:"",status:"draft"})),p(!0)},w=async()=>{if(!u.title.trim()||!u.excerpt.trim()){R.error(t?"يرجى ملء جميع الحقول المطلوبة":"Veuillez remplir tous les champs requis");return}try{if(g)r(a.map(A=>A.id===g.id?{...A,...u,updated_at:new Date().toISOString()}:A)),R.success(t?"تم تحديث المقال بنجاح":"Article mis à jour avec succès");else{const A={id:Date.now(),...u,author:"Admin",created_at:new Date().toISOString(),views:0};r([A,...a]),R.success(t?"تم إنشاء المقال بنجاح":"Article créé avec succès")}p(!1)}catch(A){console.error("Erreur lors de la sauvegarde:",A),R.error("Erreur lors de la sauvegarde")}},_=a.filter(A=>{const y=A.title.toLowerCase().includes(l.toLowerCase()),E=c==="all"||A.status===c;return y&&E}),P=A=>{const y={published:{color:"bg-green-100 text-green-800",text:t?"منشور":"Publié"},draft:{color:"bg-yellow-100 text-yellow-800",text:t?"مسودة":"Brouillon"},archived:{color:"bg-gray-100 text-gray-800",text:t?"مؤرشف":"Archivé"}},E=y[A]||y.draft;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.color}`,children:E.text})};return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Q,{})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"إدارة المقالات":"Gestion des articles"}),e.jsx("p",{className:"mt-1 text-gray-600",children:t?"إنشاء وإدارة المقالات والمحتوى التعليمي":"Créer et gérer les articles et le contenu éducatif"})]}),e.jsxs("button",{onClick:()=>N(),className:"btn-primary mt-4 sm:mt-0",children:[e.jsx(jt,{className:`w-4 h-4 ${t?"ml-2":"mr-2"}`}),t?"إضافة مقال":"Nouvel article"]})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t?"البحث في المقالات...":"Rechercher des articles...",value:l,onChange:A=>o(A.target.value),className:"input pl-10 rtl:pl-3 rtl:pr-10"})]})}),e.jsxs("select",{value:c,onChange:A=>m(A.target.value),className:"input w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:t?"جميع الحالات":"Tous les statuts"}),e.jsx("option",{value:"published",children:t?"منشور":"Publié"}),e.jsx("option",{value:"draft",children:t?"مسودة":"Brouillon"}),e.jsx("option",{value:"archived",children:t?"مؤرشف":"Archivé"})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body p-0",children:_.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Qe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"لا توجد مقالات":"Aucun article"}),e.jsx("p",{className:"text-gray-500",children:t?"ابدأ بإنشاء مقالك الأول":"Commencez par créer votre premier article"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"العنوان":"Titre"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الحالة":"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"المؤلف":"Auteur"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"المشاهدات":"Vues"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"التاريخ":"Date"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الإجراءات":"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(A=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.title}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[A.excerpt.substring(0,100),"..."]})]})}),e.jsx("td",{className:"px-6 py-4",children:P(A.status)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:A.author}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-4 h-4 text-gray-400 mr-1"}),A.views]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"w-4 h-4 text-gray-400 mr-1"}),new Date(A.created_at).toLocaleDateString("fr-FR")]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>N(A),className:"text-blue-600 hover:text-blue-900",children:e.jsx(Nt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(A.id),className:"text-red-600 hover:text-red-900",children:e.jsx(Pe,{className:"w-4 h-4"})})]})})]},A.id))})]})})})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g?t?"تعديل المقال":"Modifier l'article":t?"إضافة مقال جديد":"Nouvel article"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t?"العنوان":"Titre"," *"]}),e.jsx("input",{type:"text",value:u.title,onChange:A=>h({...u,title:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t?"أدخل عنوان المقال":"Entrez le titre de l'article"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t?"المقتطف":"Extrait"," *"]}),e.jsx("textarea",{value:u.excerpt,onChange:A=>h({...u,excerpt:A.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t?"أدخل مقتطف المقال":"Entrez l'extrait de l'article"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"المحتوى":"Contenu"}),e.jsx("textarea",{value:u.content,onChange:A=>h({...u,content:A.target.value}),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t?"أدخل محتوى المقال":"Entrez le contenu de l'article"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"الحالة":"Statut"}),e.jsxs("select",{value:u.status,onChange:A=>h({...u,status:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"draft",children:t?"مسودة":"Brouillon"}),e.jsx("option",{value:"published",children:t?"منشور":"Publié"}),e.jsx("option",{value:"archived",children:t?"مؤرشف":"Archivé"})]})]})]}),e.jsxs("div",{className:"flex space-x-3 rtl:space-x-reverse mt-6 pt-6 border-t",children:[e.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:t?"إلغاء":"Annuler"}),e.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:g?t?"تحديث":"Mettre à jour":t?"إنشاء":"Créer"})]})]})})]})},Kl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState([]),[n,i]=C.useState(!0),[l,o]=C.useState(""),[c,m]=C.useState("all"),[d,p]=C.useState(!1),[g,b]=C.useState(null),[u,h]=C.useState({title:"",content:"",priority:"medium",status:"draft"}),f=[{id:1,title:t?"إغلاق الحضانة يوم الجمعة القادم":"Fermeture de la crèche vendredi prochain",content:t?"ستكون الحضانة مغلقة يوم الجمعة القادم بسبب التدريب المهني للموظفين":"La crèche sera fermée vendredi prochain pour formation du personnel",priority:"high",author:"Admin",created_at:"2024-01-20",views:156,status:"published"},{id:2,title:t?"نشاط جديد: ورشة الرسم":"Nouvelle activité : Atelier peinture",content:t?"نحن سعداء لإعلان بدء ورشة الرسم الجديدة للأطفال كل يوم ثلاثاء":"Nous sommes heureux d'annoncer le lancement de notre nouvel atelier peinture chaque mardi",priority:"medium",author:"Staff",created_at:"2024-01-18",views:89,status:"published"},{id:3,title:t?"تحديث قائمة الطعام":"Mise à jour du menu",content:t?"تم تحديث قائمة الطعام لتشمل المزيد من الخيارات الصحية والمتنوعة":"Le menu a été mis à jour pour inclure plus d'options saines et variées",priority:"low",author:"Admin",created_at:"2024-01-15",views:67,status:"draft"}];C.useEffect(()=>{x()},[]);const x=async()=>{try{i(!0),setTimeout(()=>{r(f),i(!1)},1e3)}catch(y){console.error("Erreur lors du chargement des actualités:",y),R.error("Erreur lors du chargement des actualités"),i(!1)}},v=async y=>{if(confirm(t?"هل أنت متأكد من حذف هذا الخبر؟":"Êtes-vous sûr de vouloir supprimer cette actualité ?"))try{r(a.filter(E=>E.id!==y)),R.success(t?"تم حذف الخبر بنجاح":"Actualité supprimée avec succès")}catch(E){console.error("Erreur lors de la suppression:",E),R.error("Erreur lors de la suppression")}},N=(y=null)=>{y?(b(y),h({title:y.title,content:y.content,priority:y.priority,status:y.status})):(b(null),h({title:"",content:"",priority:"medium",status:"draft"})),p(!0)},w=async()=>{if(!u.title.trim()||!u.content.trim()){R.error(t?"يرجى ملء جميع الحقول المطلوبة":"Veuillez remplir tous les champs requis");return}try{if(g)r(a.map(y=>y.id===g.id?{...y,...u,updated_at:new Date().toISOString()}:y)),R.success(t?"تم تحديث الخبر بنجاح":"Actualité mise à jour avec succès");else{const y={id:Date.now(),...u,author:"Admin",created_at:new Date().toISOString(),views:0};r([y,...a]),R.success(t?"تم إنشاء الخبر بنجاح":"Actualité créée avec succès")}p(!1)}catch(y){console.error("Erreur lors de la sauvegarde:",y),R.error("Erreur lors de la sauvegarde")}},_=a.filter(y=>{const E=y.title.toLowerCase().includes(l.toLowerCase()),O=c==="all"||y.priority===c;return E&&O}),P=y=>{const E={high:{color:"bg-red-100 text-red-800",text:t?"عالية":"Haute",icon:Ft},medium:{color:"bg-yellow-100 text-yellow-800",text:t?"متوسطة":"Moyenne",icon:Ft},low:{color:"bg-green-100 text-green-800",text:t?"منخفضة":"Basse",icon:Ft}},O=E[y]||E.medium,K=O.icon;return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${O.color}`,children:[e.jsx(K,{className:"w-3 h-3 mr-1"}),O.text]})},A=y=>{const E={published:{color:"bg-green-100 text-green-800",text:t?"منشور":"Publié"},draft:{color:"bg-gray-100 text-gray-800",text:t?"مسودة":"Brouillon"}},O=E[y]||E.draft;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O.color}`,children:O.text})};return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Q,{})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?"إدارة الأخبار":"Gestion des actualités"}),e.jsx("p",{className:"mt-1 text-gray-600",children:t?"إنشاء وإدارة الأخبار والإعلانات المهمة":"Créer et gérer les actualités et annonces importantes"})]}),e.jsxs("button",{onClick:()=>N(),className:"btn-primary mt-4 sm:mt-0",children:[e.jsx(jt,{className:`w-4 h-4 ${t?"ml-2":"mr-2"}`}),t?"إضافة خبر":"Nouvelle actualité"]})]}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t?"البحث في الأخبار...":"Rechercher des actualités...",value:l,onChange:y=>o(y.target.value),className:"input pl-10 rtl:pl-3 rtl:pr-10"})]})}),e.jsxs("select",{value:c,onChange:y=>m(y.target.value),className:"input w-full sm:w-auto",children:[e.jsx("option",{value:"all",children:t?"جميع الأولويات":"Toutes les priorités"}),e.jsx("option",{value:"high",children:t?"عالية":"Haute"}),e.jsx("option",{value:"medium",children:t?"متوسطة":"Moyenne"}),e.jsx("option",{value:"low",children:t?"منخفضة":"Basse"})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body p-0",children:_.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(er,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?"لا توجد أخبار":"Aucune actualité"}),e.jsx("p",{className:"text-gray-500",children:t?"ابدأ بإنشاء أول خبر":"Commencez par créer votre première actualité"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"العنوان":"Titre"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الأولوية":"Priorité"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الحالة":"Statut"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"المؤلف":"Auteur"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"المشاهدات":"Vues"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"التاريخ":"Date"}),e.jsx("th",{className:"px-6 py-3 text-left rtl:text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:t?"الإجراءات":"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.title}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[y.content.substring(0,80),"..."]})]})}),e.jsx("td",{className:"px-6 py-4",children:P(y.priority)}),e.jsx("td",{className:"px-6 py-4",children:A(y.status)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y.author}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(le,{className:"w-4 h-4 text-gray-400 mr-1"}),y.views]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"w-4 h-4 text-gray-400 mr-1"}),new Date(y.created_at).toLocaleDateString("fr-FR")]})}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>N(y),className:"text-blue-600 hover:text-blue-900",children:e.jsx(Nt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(y.id),className:"text-red-600 hover:text-red-900",children:e.jsx(Pe,{className:"w-4 h-4"})})]})})]},y.id))})]})})})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g?t?"تعديل الخبر":"Modifier l'actualité":t?"إضافة خبر جديد":"Nouvelle actualité"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t?"العنوان":"Titre"," *"]}),e.jsx("input",{type:"text",value:u.title,onChange:y=>h({...u,title:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t?"أدخل عنوان الخبر":"Entrez le titre de l'actualité"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t?"المحتوى":"Contenu"," *"]}),e.jsx("textarea",{value:u.content,onChange:y=>h({...u,content:y.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:t?"أدخل محتوى الخبر":"Entrez le contenu de l'actualité"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"الأولوية":"Priorité"}),e.jsxs("select",{value:u.priority,onChange:y=>h({...u,priority:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"low",children:t?"منخفضة":"Basse"}),e.jsx("option",{value:"medium",children:t?"متوسطة":"Moyenne"}),e.jsx("option",{value:"high",children:t?"عالية":"Haute"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"الحالة":"Statut"}),e.jsxs("select",{value:u.status,onChange:y=>h({...u,status:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"draft",children:t?"مسودة":"Brouillon"}),e.jsx("option",{value:"published",children:t?"منشور":"Publié"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 rtl:space-x-reverse mt-6 pt-6 border-t",children:[e.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:t?"إلغاء":"Annuler"}),e.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:g?t?"تحديث":"Mettre à jour":t?"إنشاء":"Créer"})]})]})})]})};class Wl{async uploadProfilePicture(t){try{const a=new FormData;return a.append("profile_picture",t),(await ce.post("/upload/profile-picture",a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("Erreur upload photo de profil:",a),a}}async deleteProfilePicture(){try{return(await ce.delete("/upload/profile-picture")).data}catch(t){throw console.error("Erreur suppression photo de profil:",t),t}}async uploadMedia(t,a="general"){try{const r=new FormData;return r.append("file",t),r.append("type",a),(await ce.post("/uploads",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("Erreur upload média:",r),r}}getFileUrl(t){return t?t.startsWith("http")?t:`http://localhost:3003/api${t}`:null}}const Ge=new Wl,Jl=({currentImage:s,onImageChange:t,size:a="lg",disabled:r=!1})=>{const{isRTL:n}=I(),[i,l]=C.useState(!1),[o,c]=C.useState(s?Ge.getFileUrl(s):null),m=C.useRef(null);C.useEffect(()=>{c(s?Ge.getFileUrl(s):null)},[s]);const d={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32",xl:"w-40 h-40"},p=u=>{const h=u.target.files[0];if(!h)return;if(!h.type.startsWith("image/")){R.error(n?"يرجى اختيار صورة صالحة":"Veuillez sélectionner une image valide");return}if(h.size>5*1024*1024){R.error(n?"حجم الصورة يجب أن يكون أقل من 5 ميجابايت":"La taille de l'image doit être inférieure à 5MB");return}const f=new FileReader;f.onload=x=>{c(x.target.result)},f.readAsDataURL(h),t&&(l(!0),t(h).then(()=>{R.success(n?"تم تحديث الصورة بنجاح":"Photo mise à jour avec succès")}).catch(x=>{console.error("Erreur upload:",x),R.error(n?"خطأ في تحميل الصورة":"Erreur lors du téléchargement"),c(s?Ge.getFileUrl(s):null)}).finally(()=>{l(!1)}))},g=()=>{c(null),t&&t(null),m.current&&(m.current.value="")},b=()=>{!r&&m.current&&m.current.click()};return e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:`relative ${d[a]} rounded-full overflow-hidden bg-gray-100 border-4 border-white shadow-lg`,children:[o?e.jsx("img",{src:o,alt:"Photo de profil",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsx(we,{className:"w-1/2 h-1/2 text-gray-400"})}),i&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx(Q,{size:"sm",color:"white"})}),!r&&e.jsx("button",{type:"button",onClick:b,className:"absolute bottom-0 right-0 bg-primary-600 hover:bg-primary-700 text-white p-2 rounded-full shadow-lg transition-colors",disabled:i,children:e.jsx(Ht,{className:"w-4 h-4"})}),o&&!r&&e.jsx("button",{type:"button",onClick:g,className:"absolute top-0 right-0 bg-red-600 hover:bg-red-700 text-white p-1 rounded-full shadow-lg transition-colors",disabled:i,children:e.jsx(rs,{className:"w-3 h-3"})})]}),e.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:p,className:"hidden",disabled:r||i}),!r&&e.jsxs("button",{type:"button",onClick:b,className:"flex items-center space-x-2 rtl:space-x-reverse text-sm text-primary-600 hover:text-primary-700 transition-colors",disabled:i,children:[e.jsx(Qt,{className:"w-4 h-4"}),e.jsx("span",{children:n?"تحميل صورة":"Télécharger une photo"})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:n?"صيغ مدعومة: JPG, PNG, GIF. حد أقصى: 5 ميجابايت":"Formats supportés : JPG, PNG, GIF. Taille max : 5MB"})]})},Zl=()=>{const{t:s}=U(),{user:t,updateProfile:a,changePassword:r}=he(),{isRTL:n}=I(),[i,l]=C.useState("profile"),[o,c]=C.useState(!1),[m,d]=C.useState(!1),[p,g]=C.useState(!1),{register:b,handleSubmit:u,formState:{errors:h}}=He({defaultValues:{first_name:(t==null?void 0:t.first_name)||"",last_name:(t==null?void 0:t.last_name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||""}}),{register:f,handleSubmit:x,formState:{errors:v},reset:N}=He(),w=async y=>{try{g(!0);const{profile_picture:E,...O}=y;await a(O)}catch(E){console.error("Erreur lors de la mise à jour du profil:",E)}finally{g(!1)}},_=async y=>{if(!y)try{await Ge.deleteProfilePicture(),await a({profile_picture:null});return}catch(E){throw console.error("Erreur suppression photo:",E),E}try{const E=await Ge.uploadProfilePicture(y);return await a({profile_picture:E.profile_picture_url}),E}catch(E){throw console.error("Erreur upload photo:",E),E}},P=async y=>{try{g(!0),await r({oldPassword:y.currentPassword,newPassword:y.newPassword}),N()}catch(E){console.error("Erreur lors du changement de mot de passe:",E)}finally{g(!1)}},A=[{id:"profile",name:n?"الملف الشخصي":"Profil",icon:we},{id:"password",name:n?"كلمة المرور":"Mot de passe",icon:gs}];return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx(Ce,{title:s("common.profile"),subtitle:n?"إدارة معلومات حسابك وإعدادات الأمان":"Gérez les informations de votre compte et les paramètres de sécurité"}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 rtl:space-x-reverse",children:A.map(y=>{const E=y.icon;return e.jsxs("button",{onClick:()=>l(y.id),className:`${i===y.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 rtl:space-x-reverse`,children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:y.name})]},y.id)})})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[i==="profile"&&e.jsxs("form",{onSubmit:u(w),className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-6 rtl:md:space-x-reverse space-y-4 md:space-y-0 mb-8",children:[e.jsx(Jl,{currentImage:t==null?void 0:t.profile_picture,onImageChange:_,size:"xl"}),e.jsxs("div",{className:"text-center md:text-left rtl:md:text-right",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx("p",{className:"text-gray-600",children:s(`roles.${t==null?void 0:t.role}`)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n?"انقر على أيقونة الكاميرا لتغيير صورة الملف الشخصي":"Cliquez sur l'icône caméra pour changer votre photo de profil"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("common.firstName")," *"]}),e.jsx("input",{type:"text",className:`form-input ${h.first_name?"border-error-500":""}`,...b("first_name",{required:s("validation.required")})}),h.first_name&&e.jsx("p",{className:"form-error",children:h.first_name.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("common.lastName")," *"]}),e.jsx("input",{type:"text",className:`form-input ${h.last_name?"border-error-500":""}`,...b("last_name",{required:s("validation.required")})}),h.last_name&&e.jsx("p",{className:"form-error",children:h.last_name.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[s("common.email")," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",className:`form-input pl-10 rtl:pl-4 rtl:pr-10 ${h.email?"border-error-500":""}`,...b("email",{required:s("validation.required"),pattern:{value:/^\S+@\S+$/i,message:s("validation.email")}})}),e.jsx(yt,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]}),h.email&&e.jsx("p",{className:"form-error",children:h.email.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:s("common.phone")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",className:`form-input pl-10 rtl:pl-4 rtl:pr-10 ${h.phone?"border-error-500":""}`,...b("phone")}),e.jsx(Je,{className:"absolute left-3 rtl:left-auto rtl:right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"})]}),h.phone&&e.jsx("p",{className:"form-error",children:h.phone.message})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:p,className:"btn-primary flex items-center",children:p?e.jsx(Q,{size:"sm",color:"white"}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:`w-4 h-4 ${n?"ml-2":"mr-2"}`}),s("common.save")]})})})]}),i==="password"&&e.jsxs("form",{onSubmit:x(P),className:"space-y-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n?"تغيير كلمة المرور":"Changer le mot de passe"}),e.jsx("p",{className:"text-gray-600",children:n?"تأكد من أن كلمة المرور الجديدة قوية وآمنة":"Assurez-vous que votre nouveau mot de passe est fort et sécurisé"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[n?"كلمة المرور الحالية":"Mot de passe actuel"," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",className:`form-input pr-10 rtl:pr-4 rtl:pl-10 ${v.currentPassword?"border-error-500":""}`,...f("currentPassword",{required:s("validation.required")})}),e.jsx("button",{type:"button",className:"absolute right-3 rtl:right-auto rtl:left-3 top-1/2 transform -translate-y-1/2",onClick:()=>c(!o),children:o?e.jsx(ut,{className:"w-4 h-4 text-gray-400"}):e.jsx(le,{className:"w-4 h-4 text-gray-400"})})]}),v.currentPassword&&e.jsx("p",{className:"form-error",children:v.currentPassword.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[n?"كلمة المرور الجديدة":"Nouveau mot de passe"," *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:m?"text":"password",className:`form-input pr-10 rtl:pr-4 rtl:pl-10 ${v.newPassword?"border-error-500":""}`,...f("newPassword",{required:s("validation.required"),minLength:{value:6,message:s("validation.minLength",{min:6})}})}),e.jsx("button",{type:"button",className:"absolute right-3 rtl:right-auto rtl:left-3 top-1/2 transform -translate-y-1/2",onClick:()=>d(!m),children:m?e.jsx(ut,{className:"w-4 h-4 text-gray-400"}):e.jsx(le,{className:"w-4 h-4 text-gray-400"})})]}),v.newPassword&&e.jsx("p",{className:"form-error",children:v.newPassword.message})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[n?"تأكيد كلمة المرور الجديدة":"Confirmer le nouveau mot de passe"," *"]}),e.jsx("input",{type:"password",className:`form-input ${v.confirmPassword?"border-error-500":""}`,...f("confirmPassword",{required:s("validation.required"),validate:(y,{newPassword:E})=>y===E||s("auth.passwordsNotMatch")})}),v.confirmPassword&&e.jsx("p",{className:"form-error",children:v.confirmPassword.message})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:p,className:"btn-primary flex items-center",children:p?e.jsx(Q,{size:"sm",color:"white"}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:`w-4 h-4 ${n?"ml-2":"mr-2"}`}),n?"تحديث كلمة المرور":"Mettre à jour le mot de passe"]})})})]})]})})]})},rt=({title:s,value:t,icon:a,color:r="blue",trend:n=null,className:i=""})=>{const l={blue:"text-blue-600 bg-blue-100",green:"text-green-600 bg-green-100",purple:"text-purple-600 bg-purple-100",yellow:"text-yellow-600 bg-yellow-100",red:"text-red-600 bg-red-100",gray:"text-gray-600 bg-gray-100"};return e.jsx("div",{className:`card ${i}`,children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:s}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t}),n&&e.jsxs("div",{className:"flex items-center mt-2",children:[n.isPositive?e.jsx(mt,{className:"w-4 h-4 text-green-600 mr-1"}):e.jsx(ga,{className:"w-4 h-4 text-red-600 mr-1"}),e.jsxs("span",{className:`text-sm font-medium ${n.isPositive?"text-green-600":"text-red-600"}`,children:[n.value,"%"]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs mois dernier"})]})]}),e.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${l[r]}`,children:e.jsx(a,{className:"w-6 h-6"})})]})})})},Ws=s=>typeof s!="number"||isNaN(s)?"0 TND":`${s.toLocaleString()} TND`,Xl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState(!0),[n,i]=C.useState("month"),[l,o]=C.useState({totalChildren:0,totalEnrollments:0,attendanceRate:0,revenue:0}),[c,m]=C.useState([]);C.useEffect(()=>{d()},[n]);const d=async()=>{r(!0);try{setTimeout(()=>{o({totalChildren:45,totalEnrollments:12,attendanceRate:92,revenue:15750}),m([{month:"Jan",enrollments:8,revenue:12e3},{month:"Fév",enrollments:12,revenue:15e3},{month:"Mar",enrollments:15,revenue:18500},{month:"Avr",enrollments:10,revenue:14200},{month:"Mai",enrollments:18,revenue:21e3},{month:"Juin",enrollments:12,revenue:15750}]),r(!1)},1e3)}catch(g){console.error("Erreur lors du chargement des rapports:",g),r(!1)}},p=g=>{console.log(`Export en format ${g}`)};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Q,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{title:t?"التقارير والإحصائيات":"Rapports & Statistiques",subtitle:t?"تحليل شامل لأداء الحضانة":"Analyse complète des performances de la crèche",children:e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsxs("select",{value:n,onChange:g=>i(g.target.value),className:"form-input w-auto",children:[e.jsx("option",{value:"week",children:t?"هذا الأسبوع":"Cette semaine"}),e.jsx("option",{value:"month",children:t?"هذا الشهر":"Ce mois"}),e.jsx("option",{value:"quarter",children:t?"هذا الربع":"Ce trimestre"}),e.jsx("option",{value:"year",children:t?"هذه السنة":"Cette année"})]}),e.jsxs("button",{onClick:d,className:"btn-secondary",children:[e.jsx(ba,{className:"w-4 h-4 mr-2"}),t?"تحديث":"Actualiser"]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsxs("button",{onClick:()=>p("pdf"),className:"btn-outline-primary",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"PDF"]}),e.jsxs("button",{onClick:()=>p("excel"),className:"btn-outline-primary",children:[e.jsx(We,{className:"w-4 h-4 mr-2"}),"Excel"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(rt,{title:t?"إجمالي الأطفال":"Total Enfants",value:l.totalChildren,icon:te,color:"blue",trend:{value:8,isPositive:!0}}),e.jsx(rt,{title:t?"التسجيلات الجديدة":"Nouvelles Inscriptions",value:l.totalEnrollments,icon:mt,color:"green",trend:{value:15,isPositive:!0}}),e.jsx(rt,{title:t?"معدل الحضور":"Taux de Présence",value:`${l.attendanceRate}%`,icon:de,color:"purple",trend:{value:3,isPositive:!0}}),e.jsx(rt,{title:t?"الإيرادات":"Revenus",value:Ws(l.revenue),icon:Gt,color:"yellow",trend:{value:12,isPositive:!0}})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-semibold",children:t?"تطور التسجيلات":"Évolution des Inscriptions"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:t?"الرسم البياني سيتم تطبيقه هنا":"Graphique à implémenter"})]})})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-semibold",children:t?"تطور الإيرادات":"Évolution des Revenus"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"text-center",children:[e.jsx(mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:t?"الرسم البياني سيتم تطبيقه هنا":"Graphique à implémenter"})]})})})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-semibold",children:t?"تفاصيل شهرية":"Détails Mensuels"})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:t?"الشهر":"Mois"}),e.jsx("th",{className:"table-header-cell",children:t?"التسجيلات":"Inscriptions"}),e.jsx("th",{className:"table-header-cell",children:t?"الإيرادات":"Revenus"}),e.jsx("th",{className:"table-header-cell",children:t?"معدل الحضور":"Taux Présence"})]})}),e.jsx("tbody",{className:"table-body",children:c.map((g,b)=>e.jsxs("tr",{children:[e.jsx("td",{className:"table-cell font-medium",children:g.month}),e.jsx("td",{className:"table-cell",children:g.enrollments}),e.jsx("td",{className:"table-cell",children:Ws(g.revenue)}),e.jsx("td",{className:"table-cell",children:e.jsxs("span",{className:"badge-success",children:[Math.floor(Math.random()*10)+85,"%"]})})]},b))})]})})})]})]})},Yl=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState(!1),[n,i]=C.useState("general"),[l,o]=C.useState({general:{nurseryName:"Mima Elghalia",address:"Avenue Habib Bourguiba, Tunis",phone:"+216 71 000 000",email:"contact@mimaelghalia.tn",website:"www.mimaelghalia.tn",capacity:50,openingTime:"07:00",closingTime:"18:00"},notifications:{emailNotifications:!0,smsNotifications:!1,attendanceAlerts:!0,paymentReminders:!0,enrollmentNotifications:!0},security:{twoFactorAuth:!1,sessionTimeout:30,passwordExpiry:90,loginAttempts:5},billing:{currency:"TND",taxRate:19,lateFee:20,discountRate:10,paymentMethods:["cash","card","transfer"]}}),c=[{id:"general",label:t?"عام":"Général",icon:sr},{id:"notifications",label:t?"الإشعارات":"Notifications",icon:ya},{id:"security",label:t?"الأمان":"Sécurité",icon:ct},{id:"billing",label:t?"الفوترة":"Facturation",icon:va}],m=async()=>{r(!0);try{await new Promise(h=>setTimeout(h,1e3)),R.success(t?"تم حفظ الإعدادات بنجاح":"Paramètres sauvegardés avec succès")}catch{R.error(t?"خطأ في حفظ الإعدادات":"Erreur lors de la sauvegarde")}finally{r(!1)}},d=(h,f,x)=>{o(v=>({...v,[h]:{...v[h],[f]:x}}))},p=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"اسم الحضانة":"Nom de la crèche"}),e.jsx("input",{type:"text",className:"form-input",value:l.general.nurseryName,onChange:h=>d("general","nurseryName",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"السعة القصوى":"Capacité maximale"}),e.jsx("input",{type:"number",className:"form-input",value:l.general.capacity,onChange:h=>d("general","capacity",parseInt(h.target.value))})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"العنوان":"Adresse"}),e.jsx("textarea",{className:"form-input",rows:3,value:l.general.address,onChange:h=>d("general","address",h.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"الهاتف":"Téléphone"}),e.jsx("input",{type:"tel",className:"form-input",value:l.general.phone,onChange:h=>d("general","phone",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"البريد الإلكتروني":"Email"}),e.jsx("input",{type:"email",className:"form-input",value:l.general.email,onChange:h=>d("general","email",h.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"وقت الافتتاح":"Heure d'ouverture"}),e.jsx("input",{type:"time",className:"form-input",value:l.general.openingTime,onChange:h=>d("general","openingTime",h.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"وقت الإغلاق":"Heure de fermeture"}),e.jsx("input",{type:"time",className:"form-input",value:l.general.closingTime,onChange:h=>d("general","closingTime",h.target.value)})]})]})]}),g=()=>e.jsx("div",{className:"space-y-6",children:Object.entries(l.notifications).map(([h,f])=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:[h==="emailNotifications"&&(t?"إشعارات البريد الإلكتروني":"Notifications par email"),h==="smsNotifications"&&(t?"إشعارات الرسائل النصية":"Notifications SMS"),h==="attendanceAlerts"&&(t?"تنبيهات الحضور":"Alertes de présence"),h==="paymentReminders"&&(t?"تذكيرات الدفع":"Rappels de paiement"),h==="enrollmentNotifications"&&(t?"إشعارات التسجيل":"Notifications d'inscription")]}),e.jsx("p",{className:"text-sm text-gray-500",children:t?"تفعيل أو إلغاء هذا النوع من الإشعارات":"Activer ou désactiver ce type de notification"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:f,onChange:x=>d("notifications",h,x.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},h))}),b=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ja,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:t?"تنبيه أمني":"Avertissement de sécurité"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:t?"تأكد من تفعيل المصادقة الثنائية لحماية أفضل":"Assurez-vous d'activer l'authentification à deux facteurs pour une meilleure sécurité"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"مهلة انتهاء الجلسة (دقيقة)":"Timeout de session (minutes)"}),e.jsx("input",{type:"number",className:"form-input",value:l.security.sessionTimeout,onChange:h=>d("security","sessionTimeout",parseInt(h.target.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"انتهاء صلاحية كلمة المرور (يوم)":"Expiration mot de passe (jours)"}),e.jsx("input",{type:"number",className:"form-input",value:l.security.passwordExpiry,onChange:h=>d("security","passwordExpiry",parseInt(h.target.value))})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t?"المصادقة الثنائية":"Authentification à deux facteurs"}),e.jsx("p",{className:"text-sm text-gray-500",children:t?"طبقة حماية إضافية لحسابك":"Couche de sécurité supplémentaire pour votre compte"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:l.security.twoFactorAuth,onChange:h=>d("security","twoFactorAuth",h.target.checked)}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),u=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"العملة":"Devise"}),e.jsxs("select",{className:"form-input",value:l.billing.currency,onChange:h=>d("billing","currency",h.target.value),children:[e.jsx("option",{value:"TND",children:"Dinar Tunisien (TND)"}),e.jsx("option",{value:"EUR",children:"Euro (EUR)"}),e.jsx("option",{value:"USD",children:"Dollar (USD)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"معدل الضريبة (%)":"Taux de TVA (%)"}),e.jsx("input",{type:"number",className:"form-input",value:l.billing.taxRate,onChange:h=>d("billing","taxRate",parseFloat(h.target.value))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"رسوم التأخير":"Frais de retard"}),e.jsx("input",{type:"number",className:"form-input",value:l.billing.lateFee,onChange:h=>d("billing","lateFee",parseFloat(h.target.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:t?"معدل الخصم (%)":"Taux de remise (%)"}),e.jsx("input",{type:"number",className:"form-input",value:l.billing.discountRate,onChange:h=>d("billing","discountRate",parseFloat(h.target.value))})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{title:t?"الإعدادات":"Paramètres",subtitle:t?"إدارة إعدادات النظام والتفضيلات":"Gérer les paramètres système et préférences",children:e.jsx("button",{onClick:m,disabled:a,className:"btn-primary",children:a?e.jsx(Q,{size:"sm"}):e.jsxs(e.Fragment,{children:[e.jsx(lr,{className:"w-4 h-4 mr-2"}),t?"حفظ":"Sauvegarder"]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("nav",{className:"space-y-2",children:c.map(h=>{const f=h.icon;return e.jsxs("button",{onClick:()=>i(h.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${n===h.id?"bg-primary-100 text-primary-700 border-primary-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(f,{className:"w-5 h-5 mr-3 rtl:ml-3 rtl:mr-0"}),h.label]},h.id)})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[n==="general"&&p(),n==="notifications"&&g(),n==="security"&&b(),n==="billing"&&u()]})})})]})]})},Js=({isOpen:s,onClose:t,title:a,children:r,size:n="md",showCloseButton:i=!0})=>{if(C.useEffect(()=>{const o=c=>{c.key==="Escape"&&t()};return s&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[s,t]),!s)return null;const l={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:`modal-content ${l[n]}`,onClick:o=>o.stopPropagation(),children:[(a||i)&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a&&e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a}),i&&e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(rs,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6",children:r})]})})},eo=()=>{const{t:s}=U(),{isRTL:t}=I(),[a,r]=C.useState(!0),[n,i]=C.useState("grid"),[l,o]=C.useState(""),[c,m]=C.useState("all"),[d,p]=C.useState([]),[g,b]=C.useState(!1),[u,h]=C.useState(!1),[f,x]=C.useState(null),[v,N]=C.useState([]);C.useEffect(()=>{w()},[]);const w=async()=>{r(!0);try{setTimeout(()=>{N([{id:1,name:"photo-activite-1.jpg",type:"image",size:2.5,url:"https://images.unsplash.com/photo-1544717297-fa95b6ee9643?w=300",uploadedAt:"2024-01-15",uploadedBy:"Admin"},{id:2,name:"reglement-interieur.pdf",type:"document",size:1.2,url:"/documents/reglement.pdf",uploadedAt:"2024-01-10",uploadedBy:"Staff"},{id:3,name:"video-presentation.mp4",type:"video",size:15.8,url:"/videos/presentation.mp4",uploadedAt:"2024-01-08",uploadedBy:"Admin"},{id:4,name:"chanson-enfants.mp3",type:"audio",size:4.2,url:"/audio/chanson.mp3",uploadedAt:"2024-01-05",uploadedBy:"Staff"}]),r(!1)},1e3)}catch(S){console.error("Erreur lors du chargement des fichiers:",S),r(!1)}},_=S=>{switch(S){case"image":return tr;case"video":return wa;case"audio":return Na;case"document":return Qe;default:return bs}},P=S=>{switch(S){case"image":return"text-green-600 bg-green-100";case"video":return"text-blue-600 bg-blue-100";case"audio":return"text-purple-600 bg-purple-100";case"document":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},A=v.filter(S=>{const D=S.name.toLowerCase().includes(l.toLowerCase()),F=c==="all"||S.type===c;return D&&F}),y=S=>{p(D=>D.includes(S)?D.filter(F=>F!==S):[...D,S])},E=async S=>{if(window.confirm(t?"هل أنت متأكد من حذف هذا الملف؟":"Êtes-vous sûr de vouloir supprimer ce fichier ?"))try{N(D=>D.filter(F=>F.id!==S)),R.success(t?"تم حذف الملف بنجاح":"Fichier supprimé avec succès")}catch{R.error(t?"خطأ في حذف الملف":"Erreur lors de la suppression")}},O=S=>{x(S),h(!0)},K=async S=>{console.log("Fichiers à uploader:",S),b(!1),R.success(t?"تم رفع الملفات بنجاح":"Fichiers uploadés avec succès")};return a?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Q,{size:"lg"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ce,{title:t?"إدارة الوسائط":"Gestion des Médias",subtitle:t?"تنظيم وإدارة الملفات والصور":"Organiser et gérer les fichiers et images",children:e.jsxs("button",{onClick:()=>b(!0),className:"btn-primary",children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),t?"رفع ملفات":"Uploader"]})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 rtl:right-3 rtl:left-auto top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:t?"البحث في الملفات...":"Rechercher des fichiers...",className:"form-input pl-10 rtl:pr-10 rtl:pl-3 w-64",value:l,onChange:S=>o(S.target.value)})]}),e.jsxs("select",{className:"form-input w-auto",value:c,onChange:S=>m(S.target.value),children:[e.jsx("option",{value:"all",children:t?"جميع الأنواع":"Tous les types"}),e.jsx("option",{value:"image",children:t?"الصور":"Images"}),e.jsx("option",{value:"video",children:t?"الفيديوهات":"Vidéos"}),e.jsx("option",{value:"audio",children:t?"الصوتيات":"Audio"}),e.jsx("option",{value:"document",children:t?"المستندات":"Documents"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx("button",{onClick:()=>i("grid"),className:`p-2 ${n==="grid"?"bg-primary-100 text-primary-600":"text-gray-400"}`,children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i("list"),className:`p-2 ${n==="list"?"bg-primary-100 text-primary-600":"text-gray-400"}`,children:e.jsx(ns,{className:"w-4 h-4"})})]}),d.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[d.length," ",t?"محدد":"sélectionné(s)"]}),e.jsx("button",{onClick:()=>{d.forEach(E),p([])},className:"btn-error btn-sm",children:e.jsx(Pe,{className:"w-4 h-4"})})]})]})]})})}),e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:A.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(bs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:t?"لا توجد ملفات":"Aucun fichier trouvé"})]}):n==="grid"?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:A.map(S=>{const D=_(S.type);return e.jsxs("div",{className:`relative group border-2 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ${d.includes(S.id)?"border-primary-500 bg-primary-50":"border-gray-200"}`,onClick:()=>y(S.id),children:[e.jsx("div",{className:"aspect-square flex items-center justify-center mb-3",children:S.type==="image"?e.jsx("img",{src:S.url,alt:S.name,className:"w-full h-full object-cover rounded"}):e.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center ${P(S.type)}`,children:e.jsx(D,{className:"w-8 h-8"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:S.name,children:S.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[S.size," MB"]})]}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:F=>{F.stopPropagation(),O(S)},className:"p-2 bg-white rounded-full text-gray-700 hover:text-primary-600",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:F=>{F.stopPropagation(),window.open(S.url,"_blank")},className:"p-2 bg-white rounded-full text-gray-700 hover:text-primary-600",children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx("button",{onClick:F=>{F.stopPropagation(),E(S.id)},className:"p-2 bg-white rounded-full text-gray-700 hover:text-red-600",children:e.jsx(Pe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"absolute top-2 right-2 rtl:left-2 rtl:right-auto",children:e.jsx("input",{type:"checkbox",checked:d.includes(S.id),onChange:()=>y(S.id),className:"w-4 h-4 text-primary-600 bg-white border-gray-300 rounded focus:ring-primary-500"})})]},S.id)})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell w-8",children:e.jsx("input",{type:"checkbox",onChange:S=>{S.target.checked?p(A.map(D=>D.id)):p([])},checked:d.length===A.length&&A.length>0})}),e.jsx("th",{className:"table-header-cell",children:t?"الاسم":"Nom"}),e.jsx("th",{className:"table-header-cell",children:t?"النوع":"Type"}),e.jsx("th",{className:"table-header-cell",children:t?"الحجم":"Taille"}),e.jsx("th",{className:"table-header-cell",children:t?"تاريخ الرفع":"Date d'upload"}),e.jsx("th",{className:"table-header-cell",children:t?"رفع بواسطة":"Uploadé par"}),e.jsx("th",{className:"table-header-cell",children:t?"الإجراءات":"Actions"})]})}),e.jsx("tbody",{className:"table-body",children:A.map(S=>{const D=_(S.type);return e.jsxs("tr",{children:[e.jsx("td",{className:"table-cell",children:e.jsx("input",{type:"checkbox",checked:d.includes(S.id),onChange:()=>y(S.id)})}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center ${P(S.type)}`,children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx("span",{className:"font-medium",children:S.name})]})}),e.jsx("td",{className:"table-cell",children:e.jsx("span",{className:`badge ${P(S.type)}`,children:S.type})}),e.jsxs("td",{className:"table-cell",children:[S.size," MB"]}),e.jsx("td",{className:"table-cell",children:S.uploadedAt}),e.jsx("td",{className:"table-cell",children:S.uploadedBy}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("button",{onClick:()=>O(S),className:"text-gray-400 hover:text-primary-600",children:e.jsx(le,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>window.open(S.url,"_blank"),className:"text-gray-400 hover:text-primary-600",children:e.jsx(We,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>E(S.id),className:"text-gray-400 hover:text-red-600",children:e.jsx(Pe,{className:"w-4 h-4"})})]})})]},S.id)})})]})})})}),e.jsx(Js,{isOpen:g,onClose:()=>b(!1),title:t?"رفع ملفات جديدة":"Uploader de nouveaux fichiers",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx(Qt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:t?"اسحب الملفات هنا أو انقر للتحديد":"Glissez les fichiers ici ou cliquez pour sélectionner"}),e.jsx("input",{type:"file",multiple:!0,className:"hidden",id:"file-upload",onChange:S=>K(Array.from(S.target.files))}),e.jsx("label",{htmlFor:"file-upload",className:"btn-primary cursor-pointer",children:t?"اختيار الملفات":"Choisir les fichiers"})]})})}),e.jsx(Js,{isOpen:u,onClose:()=>h(!1),title:f==null?void 0:f.name,size:"lg",children:f&&e.jsxs("div",{className:"space-y-4",children:[f.type==="image"?e.jsx("img",{src:f.url,alt:f.name,className:"w-full h-auto rounded-lg"}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:`w-24 h-24 rounded-lg flex items-center justify-center mx-auto mb-4 ${P(f.type)}`,children:(()=>{const S=_(f.type);return e.jsx(S,{className:"w-12 h-12"})})()}),e.jsx("p",{className:"text-gray-600",children:t?"معاينة غير متاحة لهذا النوع من الملفات":"Aperçu non disponible pour ce type de fichier"})]}),e.jsx("div",{className:"border-t pt-4",children:e.jsxs("dl",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-gray-900",children:t?"الحجم":"Taille"}),e.jsxs("dd",{className:"text-gray-600",children:[f.size," MB"]})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-gray-900",children:t?"النوع":"Type"}),e.jsx("dd",{className:"text-gray-600",children:f.type})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-gray-900",children:t?"تاريخ الرفع":"Date d'upload"}),e.jsx("dd",{className:"text-gray-600",children:f.uploadedAt})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-gray-900",children:t?"رفع بواسطة":"Uploadé par"}),e.jsx("dd",{className:"text-gray-600",children:f.uploadedBy})]})]})})]})})]})},to=()=>{const{t:s}=U(),{isRTL:t}=I(),{user:a,logout:r}=he(),[n,i]=C.useState(!0),[l,o]=C.useState(!1),[c,m]=C.useState(null),[d,p]=C.useState(3),[g,b]=C.useState(!1),[u,h]=C.useState({first_name:(a==null?void 0:a.first_name)||"",last_name:(a==null?void 0:a.last_name)||"",photo:null});C.useEffect(()=>{setTimeout(()=>i(!1),1e3)},[]);const f={date:new Date().toLocaleDateString("fr-FR"),message:t?"أمس، لعب بول في الخارج وكان سعيداً جداً":"Hier, Paul a bien joué dehors et était très heureux"},x=Array.from({length:7},(w,_)=>{const P=new Date;return P.setDate(P.getDate()-3+_),{date:P,status:_<3?"present":_===3?"today":"planned",dayName:P.toLocaleDateString("fr-FR",{weekday:"short"}),dayNumber:P.getDate()}}),v=[{id:1,from:t?"المربية سارة":"Éducatrice Sarah",message:t?"بول رسم تنيناً جميلاً اليوم!":"Paul a dessiné un beau dragon aujourd'hui !",time:"14:30",unread:!0},{id:2,from:t?"المربية ليلى":"Éducatrice Leila",message:t?"تذكير: اجتماع الأهالي غداً":"Rappel : réunion parents demain",time:"10:15",unread:!0}],N=[{id:1,title:t?"بول رسم تنيناً":"Paul a dessiné un dragon",description:t?"نشاط فني إبداعي":"Activité artistique créative",time:"2h",photos:["/creche-site/images/drawing1.jpg","/creche-site/images/drawing2.jpg"]},{id:2,title:t?"لعب في الحديقة":"Jeu dans le jardin",description:t?"وقت اللعب في الهواء الطلق":"Temps de jeu en extérieur",time:"4h",photos:["/creche-site/images/garden1.jpg"]}];return n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Q,{})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:t?`مرحباً ${(a==null?void 0:a.first_name)||"ولي الأمر"}`:`Bonjour ${(a==null?void 0:a.first_name)||"Parent"}`})}),e.jsx("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(we,{className:"w-8 h-8 text-white"})}),e.jsx("button",{onClick:()=>b(!0),className:"absolute -bottom-1 -right-1 w-6 h-6 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(Ca,{className:"w-3 h-3 text-gray-600"})})]})})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:t?"ملخص اليوم":"Récap' du jour"}),e.jsxs("div",{className:"flex items-start space-x-4 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(se,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-800 text-lg",children:f.message}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:f.date})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:t?"الحضور هذا الأسبوع":"Présence cette semaine"}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:x.map((w,_)=>e.jsxs("button",{onClick:()=>w.status==="planned"&&o(!0),className:`p-3 rounded-xl text-center transition-all duration-200 ${w.status==="present"?"bg-green-100 text-green-800 border-2 border-green-200":w.status==="today"?"bg-blue-100 text-blue-800 border-2 border-blue-200":"bg-gray-50 text-gray-600 hover:bg-gray-100 border-2 border-gray-200"}`,children:[e.jsx("div",{className:"text-xs font-medium mb-1",children:w.dayName}),e.jsx("div",{className:"text-lg font-bold",children:w.dayNumber}),e.jsxs("div",{className:"mt-1",children:[w.status==="present"&&e.jsx(se,{className:"w-4 h-4 mx-auto text-green-600"}),w.status==="today"&&e.jsx(je,{className:"w-4 h-4 mx-auto text-blue-600"}),w.status==="planned"&&e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full mx-auto"})]})]},_))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t?"الرسائل":"Messages"}),d>0&&e.jsxs("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:[d," ",t?"غير مقروءة":"non lus"]})]}),e.jsx("div",{className:"space-y-3",children:v.slice(0,3).map(w=>e.jsxs("div",{className:`p-4 rounded-xl border-l-4 ${w.unread?"bg-blue-50 border-blue-400":"bg-gray-50 border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:w.from}),e.jsx("span",{className:"text-sm text-gray-500",children:w.time})]}),e.jsx("p",{className:"text-gray-700",children:w.message}),e.jsx("button",{className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium",children:t?"رد":"Répondre"})]},w.id))}),e.jsx("button",{className:"mt-4 w-full text-center py-2 text-blue-600 hover:text-blue-800 font-medium",children:t?"عرض جميع الرسائل":"Voir tous les messages"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:t?"آخر الأنشطة":"Dernières activités"}),e.jsx("div",{className:"space-y-4",children:N.map(w=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:w.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:w.description})]}),e.jsx("span",{className:"text-sm text-gray-500",children:t?`منذ ${w.time}`:`Il y a ${w.time}`})]}),w.photos&&w.photos.length>0&&e.jsx("div",{className:"flex space-x-2 rtl:space-x-reverse",children:w.photos.map((_,P)=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(Ht,{className:"w-6 h-6 text-gray-400"})}),e.jsx("button",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all",children:e.jsx(We,{className:"w-4 h-4 text-white"})})]},P))})]},w.id))})]})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t?"إبلاغ عن غياب":"Signaler une absence"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"التاريخ":"Date"}),e.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"سبب الغياب":"Motif d'absence"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{children:t?"مرض":"Maladie"}),e.jsx("option",{children:t?"عطلة عائلية":"Vacances familiales"}),e.jsx("option",{children:t?"موعد طبي":"Rendez-vous médical"}),e.jsx("option",{children:t?"أخرى":"Autre"})]})]})]}),e.jsxs("div",{className:"flex space-x-3 rtl:space-x-reverse mt-6",children:[e.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:t?"إلغاء":"Annuler"}),e.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:t?"إرسال":"Envoyer"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:t?"تعديل الملف الشخصي":"Modifier le profil"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(we,{className:"w-12 h-12 text-white"})}),e.jsx("input",{type:"file",accept:"image/*",onChange:w=>h({...u,photo:w.target.files[0]}),className:"hidden",id:"photo-upload"}),e.jsxs("label",{htmlFor:"photo-upload",className:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 cursor-pointer transition-colors",children:[e.jsx(Ht,{className:"w-4 h-4 mr-2"}),t?"تغيير الصورة":"Changer la photo"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:t?"سيتم مراجعة الصورة من قبل الموظفين":"Photo validée par le staff"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"الاسم الأول":"Prénom"}),e.jsx("input",{type:"text",value:u.first_name,onChange:w=>h({...u,first_name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"اسم العائلة":"Nom"}),e.jsx("input",{type:"text",value:u.last_name,onChange:w=>h({...u,last_name:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex space-x-3 rtl:space-x-reverse mt-6",children:[e.jsx("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:t?"إلغاء":"Annuler"}),e.jsx("button",{onClick:()=>{console.log("Sauvegarde profil:",u),b(!1)},className:"flex-1 px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:t?"حفظ":"Sauvegarder"})]})]})})]})},ee=({children:s,roles:t=null})=>{const{user:a,loading:r,isAuthenticated:n}=he(),i=bt();return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Q,{size:"lg"})}):n?t&&!t.includes(a.role)?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"403"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Accès refusé - Privilèges insuffisants"}),e.jsx("button",{onClick:()=>window.history.back(),className:"btn-primary",children:"Retour"})]})}):s:e.jsx(zt,{to:"/login",state:{from:i},replace:!0})};function so(){const{user:s,loading:t}=he(),{language:a,direction:r}=I();return document.documentElement.lang=a,document.documentElement.dir=r,t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(Q,{size:"lg"})}):e.jsxs(ia,{children:[e.jsxs(B,{path:"/",element:e.jsx(Qi,{}),children:[e.jsx(B,{index:!0,element:e.jsx(Wi,{})}),e.jsx(B,{path:"articles",element:e.jsx(ee,{children:e.jsx(Rl,{})})}),e.jsx(B,{path:"articles/:id",element:e.jsx(ee,{children:e.jsx(Tl,{})})}),e.jsx(B,{path:"actualites",element:e.jsx(ee,{children:e.jsx(Ol,{})})}),e.jsx(B,{path:"inscription",element:e.jsx(Fl,{})}),e.jsx(B,{path:"contact",element:e.jsx(Dl,{})}),e.jsx(B,{path:"visite-virtuelle",element:e.jsx(Il,{})}),e.jsx(B,{path:"parent-dashboard",element:e.jsx(ee,{roles:["parent"],children:e.jsx(to,{})})})]}),e.jsx(B,{path:"/login",element:s?s.role==="parent"?e.jsx(zt,{to:"/parent-dashboard",replace:!0}):e.jsx(zt,{to:"/dashboard",replace:!0}):e.jsx(Ul,{})}),e.jsxs(B,{path:"/dashboard",element:e.jsx(ee,{roles:["admin","staff"],children:e.jsx(Ki,{})}),children:[e.jsx(B,{index:!0,element:e.jsx(zl,{})}),e.jsx(B,{path:"profile",element:e.jsx(Zl,{})}),e.jsx(B,{path:"users",element:e.jsx(ee,{roles:["admin"],children:e.jsx(Bl,{})})}),e.jsx(B,{path:"children",element:e.jsx(ee,{roles:["admin","staff"],children:e.jsx(Gl,{})})}),e.jsx(B,{path:"enrollments",element:e.jsx(ee,{roles:["admin","staff"],children:e.jsx(Hl,{})})}),e.jsx(B,{path:"attendance",element:e.jsx(ee,{roles:["admin","staff"],children:e.jsx(Ql,{})})}),e.jsx(B,{path:"articles",element:e.jsx(ee,{roles:["admin","staff"],children:e.jsx(Vl,{})})}),e.jsx(B,{path:"news",element:e.jsx(ee,{roles:["admin","staff"],children:e.jsx(Kl,{})})}),e.jsx(B,{path:"reports",element:e.jsx(ee,{roles:["admin"],children:e.jsx(Xl,{})})}),e.jsx(B,{path:"media",element:e.jsx(ee,{roles:["admin","staff"],children:e.jsx(eo,{})})}),e.jsx(B,{path:"settings",element:e.jsx(ee,{roles:["admin"],children:e.jsx(Yl,{})})})]}),e.jsx(B,{path:"*",element:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Page non trouvée"}),e.jsx("a",{href:"/",className:"btn-primary",children:"Retour à l'accueil"})]})})})]})}const ro={common:{loading:"Chargement...",error:"Erreur",success:"Succès",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",add:"Ajouter",search:"Rechercher",filter:"Filtrer",reset:"Réinitialiser",submit:"Soumettre",close:"Fermer",yes:"Oui",no:"Non",confirm:"Confirmer",back:"Retour",next:"Suivant",previous:"Précédent",home:"Accueil",dashboard:"Tableau de bord",profile:"Profil",settings:"Paramètres",logout:"Déconnexion",login:"Connexion",register:"Inscription",email:"Email",password:"Mot de passe",name:"Nom",firstName:"Prénom",lastName:"Nom de famille",phone:"Téléphone",address:"Adresse",date:"Date",time:"Heure",status:"Statut",actions:"Actions",details:"Détails",view:"Voir",download:"Télécharger",upload:"Téléverser",required:"Requis",optional:"Optionnel",page:"Page",of:"sur",total:"Total",items:"éléments",noData:"Aucune donnée disponible",selectLanguage:"Choisir la langue"},nav:{home:"Accueil",articles:"Articles",news:"Actualités",enrollment:"Inscription",contact:"Contact",dashboard:"Tableau de bord",users:"Utilisateurs",children:"Enfants",enrollments:"Inscriptions",attendance:"Présences",articlesManagement:"Gestion Articles",newsManagement:"Gestion Actualités",contacts:"Messages"},auth:{login:"Connexion",register:"Inscription",logout:"Déconnexion",email:"Adresse email",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",firstName:"Prénom",lastName:"Nom",phone:"Téléphone",role:"Rôle",loginButton:"Se connecter",registerButton:"S'inscrire",forgotPassword:"Mot de passe oublié ?",noAccount:"Pas de compte ?",hasAccount:"Déjà un compte ?",loginSuccess:"Connexion réussie",registerSuccess:"Inscription réussie",logoutSuccess:"Déconnexion réussie",invalidCredentials:"Identifiants invalides",emailRequired:"Email requis",passwordRequired:"Mot de passe requis",passwordMinLength:"Le mot de passe doit contenir au moins 6 caractères",passwordsNotMatch:"Les mots de passe ne correspondent pas"},roles:{admin:"Administrateur",staff:"Personnel",parent:"Parent"},status:{active:"Actif",inactive:"Inactif",pending:"En attente",approved:"Approuvé",rejected:"Rejeté",cancelled:"Annulé",draft:"Brouillon",published:"Publié",new:"Nouveau",read:"Lu",replied:"Répondu"},home:{title:"Bienvenue dans notre crèche",subtitle:"Un environnement sûr et bienveillant pour vos enfants",cta:"Inscrire votre enfant",features:{title:"Nos services",education:{title:"Éducation de qualité",description:"Programme éducatif adapté à chaque âge"},care:{title:"Soins attentionnés",description:"Personnel qualifié et bienveillant"},safety:{title:"Sécurité maximale",description:"Environnement sécurisé et surveillé"}}},enrollment:{title:"Inscription de votre enfant",childInfo:"Informations de l'enfant",parentInfo:"Informations du parent",childFirstName:"Prénom de l'enfant",childLastName:"Nom de l'enfant",birthDate:"Date de naissance",gender:"Sexe",male:"Garçon",female:"Fille",medicalInfo:"Informations médicales",emergencyContact:"Contact d'urgence",emergencyContactName:"Nom du contact d'urgence",emergencyContactPhone:"Téléphone du contact d'urgence",enrollmentDate:"Date d'inscription souhaitée",notes:"Notes supplémentaires",submit:"Soumettre la demande",success:"Demande d'inscription envoyée avec succès"},contact:{title:"Contactez-nous",subtitle:"Nous sommes là pour répondre à vos questions",name:"Nom complet",email:"Email",phone:"Téléphone",subject:"Sujet",message:"Message",send:"Envoyer le message",success:"Message envoyé avec succès",info:{title:"Informations de contact",address:"Adresse",phone:"Téléphone",email:"Email",hours:"Horaires d'ouverture"}},dashboard:{welcome:"Bienvenue, {{name}}",overview:"Vue d'ensemble",stats:{totalUsers:"Total utilisateurs",totalChildren:"Total enfants",todayAttendance:"Présences aujourd'hui",pendingEnrollments:"Inscriptions en attente"}},children:{title:"Gestion des enfants",addChild:"Ajouter un enfant",editChild:"Modifier l'enfant",childDetails:"Détails de l'enfant",firstName:"Prénom",lastName:"Nom",birthDate:"Date de naissance",age:"Âge",gender:"Sexe",medicalInfo:"Informations médicales",emergencyContact:"Contact d'urgence",photo:"Photo",isPresent:"Présent aujourd'hui",attendance:"Présences"},attendance:{title:"Gestion des présences",checkIn:"Arrivée",checkOut:"Départ",child:"Enfant",staff:"Personnel",checkInTime:"Heure d'arrivée",checkOutTime:"Heure de départ",notes:"Notes",today:"Aujourd'hui",present:"Présents",departed:"Partis",recordCheckIn:"Enregistrer l'arrivée",recordCheckOut:"Enregistrer le départ"},articles:{title:"Articles",addArticle:"Ajouter un article",editArticle:"Modifier l'article",titleFr:"Titre (Français)",titleAr:"Titre (Arabe)",contentFr:"Contenu (Français)",contentAr:"Contenu (Arabe)",image:"Image",status:"Statut",author:"Auteur",publishedAt:"Publié le",readMore:"Lire la suite"},news:{title:"Actualités",addNews:"Ajouter une actualité",editNews:"Modifier l'actualité",titleFr:"Titre (Français)",titleAr:"Titre (Arabe)",descriptionFr:"Description (Français)",descriptionAr:"Description (Arabe)",eventDate:"Date de l'événement",upcoming:"À venir",past:"Passées"},validation:{required:"Ce champ est requis",email:"Email invalide",minLength:"Minimum {{min}} caractères",maxLength:"Maximum {{max}} caractères",phone:"Numéro de téléphone invalide",date:"Date invalide",url:"URL invalide"}},ao={common:{loading:"جاري التحميل...",error:"خطأ",success:"نجح",save:"حفظ",cancel:"إلغاء",delete:"حذف",edit:"تعديل",add:"إضافة",search:"بحث",filter:"تصفية",reset:"إعادة تعيين",submit:"إرسال",close:"إغلاق",yes:"نعم",no:"لا",confirm:"تأكيد",back:"رجوع",next:"التالي",previous:"السابق",home:"الرئيسية",dashboard:"لوحة التحكم",profile:"الملف الشخصي",settings:"الإعدادات",logout:"تسجيل الخروج",login:"تسجيل الدخول",register:"التسجيل",email:"البريد الإلكتروني",password:"كلمة المرور",name:"الاسم",firstName:"الاسم الأول",lastName:"اسم العائلة",phone:"الهاتف",address:"العنوان",date:"التاريخ",time:"الوقت",status:"الحالة",actions:"الإجراءات",details:"التفاصيل",view:"عرض",download:"تحميل",upload:"رفع",required:"مطلوب",optional:"اختياري",page:"صفحة",of:"من",total:"المجموع",items:"عناصر",noData:"لا توجد بيانات متاحة",selectLanguage:"اختر اللغة"},nav:{home:"الرئيسية",articles:"المقالات",news:"الأخبار",enrollment:"التسجيل",contact:"اتصل بنا",dashboard:"لوحة التحكم",users:"المستخدمون",children:"الأطفال",enrollments:"التسجيلات",attendance:"الحضور",articlesManagement:"إدارة المقالات",newsManagement:"إدارة الأخبار",contacts:"الرسائل"},auth:{login:"تسجيل الدخول",register:"التسجيل",logout:"تسجيل الخروج",email:"عنوان البريد الإلكتروني",password:"كلمة المرور",confirmPassword:"تأكيد كلمة المرور",firstName:"الاسم الأول",lastName:"الاسم الأخير",phone:"الهاتف",role:"الدور",loginButton:"دخول",registerButton:"تسجيل",forgotPassword:"نسيت كلمة المرور؟",noAccount:"ليس لديك حساب؟",hasAccount:"لديك حساب بالفعل؟",loginSuccess:"تم تسجيل الدخول بنجاح",registerSuccess:"تم التسجيل بنجاح",logoutSuccess:"تم تسجيل الخروج بنجاح",invalidCredentials:"بيانات اعتماد غير صحيحة",emailRequired:"البريد الإلكتروني مطلوب",passwordRequired:"كلمة المرور مطلوبة",passwordMinLength:"يجب أن تحتوي كلمة المرور على 6 أحرف على الأقل",passwordsNotMatch:"كلمات المرور غير متطابقة"},roles:{admin:"مدير",staff:"موظف",parent:"والد"},status:{active:"نشط",inactive:"غير نشط",pending:"في الانتظار",approved:"موافق عليه",rejected:"مرفوض",cancelled:"ملغى",draft:"مسودة",published:"منشور",new:"جديد",read:"مقروء",replied:"تم الرد"},home:{title:"مرحباً بكم في حضانتنا",subtitle:"بيئة آمنة ومحبة لأطفالكم",cta:"سجل طفلك",features:{title:"خدماتنا",education:{title:"تعليم عالي الجودة",description:"برنامج تعليمي مناسب لكل عمر"},care:{title:"رعاية متميزة",description:"طاقم مؤهل ومحب"},safety:{title:"أمان تام",description:"بيئة آمنة ومراقبة"}}},enrollment:{title:"تسجيل طفلك",childInfo:"معلومات الطفل",parentInfo:"معلومات الوالد",childFirstName:"اسم الطفل الأول",childLastName:"اسم عائلة الطفل",birthDate:"تاريخ الميلاد",gender:"الجنس",male:"ذكر",female:"أنثى",medicalInfo:"المعلومات الطبية",emergencyContact:"جهة اتصال الطوارئ",emergencyContactName:"اسم جهة اتصال الطوارئ",emergencyContactPhone:"هاتف جهة اتصال الطوارئ",enrollmentDate:"تاريخ التسجيل المرغوب",notes:"ملاحظات إضافية",submit:"إرسال الطلب",success:"تم إرسال طلب التسجيل بنجاح"},contact:{title:"اتصل بنا",subtitle:"نحن هنا للإجابة على أسئلتكم",name:"الاسم الكامل",email:"البريد الإلكتروني",phone:"الهاتف",subject:"الموضوع",message:"الرسالة",send:"إرسال الرسالة",success:"تم إرسال الرسالة بنجاح",info:{title:"معلومات الاتصال",address:"العنوان",phone:"الهاتف",email:"البريد الإلكتروني",hours:"ساعات العمل"}},dashboard:{welcome:"مرحباً، {{name}}",overview:"نظرة عامة",stats:{totalUsers:"إجمالي المستخدمين",totalChildren:"إجمالي الأطفال",todayAttendance:"حضور اليوم",pendingEnrollments:"التسجيلات المعلقة"}},children:{title:"إدارة الأطفال",addChild:"إضافة طفل",editChild:"تعديل الطفل",childDetails:"تفاصيل الطفل",firstName:"الاسم الأول",lastName:"الاسم الأخير",birthDate:"تاريخ الميلاد",age:"العمر",gender:"الجنس",medicalInfo:"المعلومات الطبية",emergencyContact:"جهة اتصال الطوارئ",photo:"الصورة",isPresent:"حاضر اليوم",attendance:"الحضور"},attendance:{title:"إدارة الحضور",checkIn:"الوصول",checkOut:"المغادرة",child:"الطفل",staff:"الموظف",checkInTime:"وقت الوصول",checkOutTime:"وقت المغادرة",notes:"ملاحظات",today:"اليوم",present:"الحاضرون",departed:"المغادرون",recordCheckIn:"تسجيل الوصول",recordCheckOut:"تسجيل المغادرة"},articles:{title:"المقالات",addArticle:"إضافة مقال",editArticle:"تعديل المقال",titleFr:"العنوان (فرنسي)",titleAr:"العنوان (عربي)",contentFr:"المحتوى (فرنسي)",contentAr:"المحتوى (عربي)",image:"الصورة",status:"الحالة",author:"الكاتب",publishedAt:"نُشر في",readMore:"اقرأ المزيد"},news:{title:"الأخبار",addNews:"إضافة خبر",editNews:"تعديل الخبر",titleFr:"العنوان (فرنسي)",titleAr:"العنوان (عربي)",descriptionFr:"الوصف (فرنسي)",descriptionAr:"الوصف (عربي)",eventDate:"تاريخ الحدث",upcoming:"قادمة",past:"سابقة"},validation:{required:"هذا الحقل مطلوب",email:"بريد إلكتروني غير صحيح",minLength:"الحد الأدنى {{min}} أحرف",maxLength:"الحد الأقصى {{max}} أحرف",phone:"رقم هاتف غير صحيح",date:"تاريخ غير صحيح",url:"رابط غير صحيح"}};Aa.use(Ea).use(_a).use(Pa).init({fallbackLng:"fr",debug:!1,resources:{fr:{translation:ro},ar:{translation:ao}},interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}});const no=new tn({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:5*60*1e3},mutations:{retry:1}}});Vt.createRoot(document.getElementById("root")).render(e.jsx(Oe.StrictMode,{children:e.jsx(la,{basename:"/creche-site",children:e.jsxs(ln,{client:no,children:[e.jsx(Ui,{children:e.jsxs($i,{children:[e.jsx(so,{}),e.jsx(Sa,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}),!1]})})}));
//# sourceMappingURL=index-DJTnK4H6.js.map
